<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Temporal.Core.Client.TestService</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">temporal-sdk-core-0.1.0.0</span><ul class="links" id="page-menu"><li id="quick-jump-button"><a href="#">Quick Jump</a></li><li><a href="src/Temporal.Core.Client.TestService.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Temporal.Core.Client.TestService</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:hs_get_current_time">hs_get_current_time</a> :: <a href="Temporal-Core-Client.html#t:PrimRpcCall" title="Temporal.Core.Client">PrimRpcCall</a></li><li class="src short"><a href="#v:getCurrentTime">getCurrentTime</a> :: <a href="Temporal-Core-Client.html#t:Client" title="Temporal.Core.Client">Client</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Temporal-Core-Client.html#t:RpcError" title="Temporal.Core.Client">RpcError</a> <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:GetCurrentTimeResponse" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">GetCurrentTimeResponse</a>)</li><li class="src short"><a href="#v:hs_lock_time_skipping">hs_lock_time_skipping</a> :: <a href="Temporal-Core-Client.html#t:PrimRpcCall" title="Temporal.Core.Client">PrimRpcCall</a></li><li class="src short"><a href="#v:lockTimeSkipping">lockTimeSkipping</a> :: <a href="Temporal-Core-Client.html#t:Client" title="Temporal.Core.Client">Client</a> -&gt; <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:LockTimeSkippingRequest" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">LockTimeSkippingRequest</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Temporal-Core-Client.html#t:RpcError" title="Temporal.Core.Client">RpcError</a> <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:LockTimeSkippingResponse" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">LockTimeSkippingResponse</a>)</li><li class="src short"><a href="#v:hs_sleep_until">hs_sleep_until</a> :: <a href="Temporal-Core-Client.html#t:PrimRpcCall" title="Temporal.Core.Client">PrimRpcCall</a></li><li class="src short"><a href="#v:sleepUntil">sleepUntil</a> :: <a href="Temporal-Core-Client.html#t:Client" title="Temporal.Core.Client">Client</a> -&gt; <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:SleepUntilRequest" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">SleepUntilRequest</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Temporal-Core-Client.html#t:RpcError" title="Temporal.Core.Client">RpcError</a> <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:SleepResponse" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">SleepResponse</a>)</li><li class="src short"><a href="#v:hs_sleep">hs_sleep</a> :: <a href="Temporal-Core-Client.html#t:PrimRpcCall" title="Temporal.Core.Client">PrimRpcCall</a></li><li class="src short"><a href="#v:sleep">sleep</a> :: <a href="Temporal-Core-Client.html#t:Client" title="Temporal.Core.Client">Client</a> -&gt; <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:SleepRequest" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">SleepRequest</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Temporal-Core-Client.html#t:RpcError" title="Temporal.Core.Client">RpcError</a> <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:SleepResponse" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">SleepResponse</a>)</li><li class="src short"><a href="#v:hs_unlock_time_skipping_with_sleep">hs_unlock_time_skipping_with_sleep</a> :: <a href="Temporal-Core-Client.html#t:PrimRpcCall" title="Temporal.Core.Client">PrimRpcCall</a></li><li class="src short"><a href="#v:unlockTimeSkippingWithSleep">unlockTimeSkippingWithSleep</a> :: <a href="Temporal-Core-Client.html#t:Client" title="Temporal.Core.Client">Client</a> -&gt; <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:SleepRequest" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">SleepRequest</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Temporal-Core-Client.html#t:RpcError" title="Temporal.Core.Client">RpcError</a> <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:SleepResponse" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">SleepResponse</a>)</li><li class="src short"><a href="#v:hs_unlock_time_skipping">hs_unlock_time_skipping</a> :: <a href="Temporal-Core-Client.html#t:PrimRpcCall" title="Temporal.Core.Client">PrimRpcCall</a></li><li class="src short"><a href="#v:unlockTimeSkipping">unlockTimeSkipping</a> :: <a href="Temporal-Core-Client.html#t:Client" title="Temporal.Core.Client">Client</a> -&gt; <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:UnlockTimeSkippingRequest" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">UnlockTimeSkippingRequest</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Temporal-Core-Client.html#t:RpcError" title="Temporal.Core.Client">RpcError</a> <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:UnlockTimeSkippingResponse" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">UnlockTimeSkippingResponse</a>)</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:hs_get_current_time" class="def">hs_get_current_time</a> :: <a href="Temporal-Core-Client.html#t:PrimRpcCall" title="Temporal.Core.Client">PrimRpcCall</a> <a href="src/Temporal.Core.Client.TestService.html#hs_get_current_time" class="link">Source</a> <a href="#v:hs_get_current_time" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getCurrentTime" class="def">getCurrentTime</a> :: <a href="Temporal-Core-Client.html#t:Client" title="Temporal.Core.Client">Client</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Temporal-Core-Client.html#t:RpcError" title="Temporal.Core.Client">RpcError</a> <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:GetCurrentTimeResponse" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">GetCurrentTimeResponse</a>) <a href="src/Temporal.Core.Client.TestService.html#getCurrentTime" class="link">Source</a> <a href="#v:getCurrentTime" class="selflink">#</a></p><div class="doc"><p>GetCurrentTime returns the current Temporal Test Server time</p><p>This time might not be equal to {@link System#currentTimeMillis()} due to time skipping.</p></div></div><div class="top"><p class="src"><a id="v:hs_lock_time_skipping" class="def">hs_lock_time_skipping</a> :: <a href="Temporal-Core-Client.html#t:PrimRpcCall" title="Temporal.Core.Client">PrimRpcCall</a> <a href="src/Temporal.Core.Client.TestService.html#hs_lock_time_skipping" class="link">Source</a> <a href="#v:hs_lock_time_skipping" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lockTimeSkipping" class="def">lockTimeSkipping</a> :: <a href="Temporal-Core-Client.html#t:Client" title="Temporal.Core.Client">Client</a> -&gt; <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:LockTimeSkippingRequest" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">LockTimeSkippingRequest</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Temporal-Core-Client.html#t:RpcError" title="Temporal.Core.Client">RpcError</a> <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:LockTimeSkippingResponse" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">LockTimeSkippingResponse</a>) <a href="src/Temporal.Core.Client.TestService.html#lockTimeSkipping" class="link">Source</a> <a href="#v:lockTimeSkipping" class="selflink">#</a></p><div class="doc"><p>lockTimeSkipping increments Time Locking Counter by one.</p><p>If Time Locking Counter is positive, time skipping is locked (disabled).
When time skipping is disabled, the time in test server is moving normally, with a real time pace.
Test Server is typically started with locked time skipping and Time Locking Counter = 1.</p><p>LockTimeSkipping and UnlockTimeSkipping calls are counted.</p></div></div><div class="top"><p class="src"><a id="v:hs_sleep_until" class="def">hs_sleep_until</a> :: <a href="Temporal-Core-Client.html#t:PrimRpcCall" title="Temporal.Core.Client">PrimRpcCall</a> <a href="src/Temporal.Core.Client.TestService.html#hs_sleep_until" class="link">Source</a> <a href="#v:hs_sleep_until" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:sleepUntil" class="def">sleepUntil</a> :: <a href="Temporal-Core-Client.html#t:Client" title="Temporal.Core.Client">Client</a> -&gt; <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:SleepUntilRequest" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">SleepUntilRequest</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Temporal-Core-Client.html#t:RpcError" title="Temporal.Core.Client">RpcError</a> <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:SleepResponse" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">SleepResponse</a>) <a href="src/Temporal.Core.Client.TestService.html#sleepUntil" class="link">Source</a> <a href="#v:sleepUntil" class="selflink">#</a></p><div class="doc"><p>This call returns only when the Test Server Time advances to the specified timestamp.</p><p>If the current Test Server Time is beyond the specified timestamp, returns immediately.
This is an EXPERIMENTAL API.</p></div></div><div class="top"><p class="src"><a id="v:hs_sleep" class="def">hs_sleep</a> :: <a href="Temporal-Core-Client.html#t:PrimRpcCall" title="Temporal.Core.Client">PrimRpcCall</a> <a href="src/Temporal.Core.Client.TestService.html#hs_sleep" class="link">Source</a> <a href="#v:hs_sleep" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:sleep" class="def">sleep</a> :: <a href="Temporal-Core-Client.html#t:Client" title="Temporal.Core.Client">Client</a> -&gt; <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:SleepRequest" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">SleepRequest</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Temporal-Core-Client.html#t:RpcError" title="Temporal.Core.Client">RpcError</a> <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:SleepResponse" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">SleepResponse</a>) <a href="src/Temporal.Core.Client.TestService.html#sleep" class="link">Source</a> <a href="#v:sleep" class="selflink">#</a></p><div class="doc"><p>This call returns only when the Test Server Time advances by the specified duration.
This is an EXPERIMENTAL API.</p></div></div><div class="top"><p class="src"><a id="v:hs_unlock_time_skipping_with_sleep" class="def">hs_unlock_time_skipping_with_sleep</a> :: <a href="Temporal-Core-Client.html#t:PrimRpcCall" title="Temporal.Core.Client">PrimRpcCall</a> <a href="src/Temporal.Core.Client.TestService.html#hs_unlock_time_skipping_with_sleep" class="link">Source</a> <a href="#v:hs_unlock_time_skipping_with_sleep" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:unlockTimeSkippingWithSleep" class="def">unlockTimeSkippingWithSleep</a> :: <a href="Temporal-Core-Client.html#t:Client" title="Temporal.Core.Client">Client</a> -&gt; <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:SleepRequest" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">SleepRequest</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Temporal-Core-Client.html#t:RpcError" title="Temporal.Core.Client">RpcError</a> <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:SleepResponse" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">SleepResponse</a>) <a href="src/Temporal.Core.Client.TestService.html#unlockTimeSkippingWithSleep" class="link">Source</a> <a href="#v:unlockTimeSkippingWithSleep" class="selflink">#</a></p><div class="doc"><p>UnlockTimeSkippingWhileSleep decreases time locking counter by one and increases it back
once the Test Server Time advances by the duration specified in the request.</p><p>This call returns only when the Test Server Time advances by the specified duration.</p><p>If it is called when Time Locking Counter is
  - more than 1 and no other unlocks are coming in, rpc call will block for the specified duration, time will not be fast forwarded.
  - 1, it will lead to fast forwarding of the time by the duration specified in the request and quick return of this rpc call.
  - 0 will lead to rpc call failure same way as an unbalanced UnlockTimeSkipping.</p></div></div><div class="top"><p class="src"><a id="v:hs_unlock_time_skipping" class="def">hs_unlock_time_skipping</a> :: <a href="Temporal-Core-Client.html#t:PrimRpcCall" title="Temporal.Core.Client">PrimRpcCall</a> <a href="src/Temporal.Core.Client.TestService.html#hs_unlock_time_skipping" class="link">Source</a> <a href="#v:hs_unlock_time_skipping" class="selflink">#</a></p><div class="doc"><p>UnlockTimeSkipping decrements Time Locking Counter by one.</p><p>If the counter reaches 0, it unlocks time skipping and fast forwards time.
LockTimeSkipping and UnlockTimeSkipping calls are counted. Calling UnlockTimeSkipping does not
guarantee that time is going to be fast forwarded as another lock can be holding it.</p><p>Time Locking Counter can't be negative, unbalanced calls to UnlockTimeSkipping will lead to rpc call failure</p></div></div><div class="top"><p class="src"><a id="v:unlockTimeSkipping" class="def">unlockTimeSkipping</a> :: <a href="Temporal-Core-Client.html#t:Client" title="Temporal.Core.Client">Client</a> -&gt; <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:UnlockTimeSkippingRequest" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">UnlockTimeSkippingRequest</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="https://hackage.haskell.org/package/base-4.20.0.0/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Temporal-Core-Client.html#t:RpcError" title="Temporal.Core.Client">RpcError</a> <a href="https://hackage.haskell.org/package/temporal-api-protos-1.0.0.0/docs/Proto-Temporal-Api-Testservice-V1-RequestResponse.html#t:UnlockTimeSkippingResponse" title="Proto.Temporal.Api.Testservice.V1.RequestResponse">UnlockTimeSkippingResponse</a>) <a href="src/Temporal.Core.Client.TestService.html#unlockTimeSkipping" class="link">Source</a> <a href="#v:unlockTimeSkipping" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.28.0</p></div></body></html>