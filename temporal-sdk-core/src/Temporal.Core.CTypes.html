<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LINE 1 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-1"></span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE OverloadedRecordDot #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DuplicateRecordFields #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskell #-}</span><span>
</span><span id="line-10"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html"><span class="hs-identifier">Temporal.Core.CTypes</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception</span></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Concurrent.MVar</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MVar</span></span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.TH</span></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ByteString</span></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map.Strict</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Map</span></span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V</span></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text.Foreign</span></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Word</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Foreign.C.String</span></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Foreign.C.Types</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Foreign.ForeignPtr</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Foreign.Ptr</span></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Foreign.Storable</span></span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="hs-keyword">data</span><span> </span><span id="CArray"><span class="annot"><a href="Temporal.Core.CTypes.html#CArray"><span class="hs-identifier hs-var">CArray</span></a></span></span><span> </span><span id="local-6989586621679250770"><span class="annot"><a href="#local-6989586621679250770"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CArray"><span class="annot"><a href="Temporal.Core.CTypes.html#CArray"><span class="hs-identifier hs-var">CArray</span></a></span></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="dataPtr"><span class="annot"><span class="annottext">forall a. CArray a -&gt; Ptr a
</span><a href="Temporal.Core.CTypes.html#dataPtr"><span class="hs-identifier hs-var hs-var">dataPtr</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="#local-6989586621679250770"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="size"><span class="annot"><span class="annottext">forall a. CArray a -&gt; Word64
</span><a href="Temporal.Core.CTypes.html#size"><span class="hs-identifier hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-pragma">{-# LINE 31 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679250917"><span id="local-6989586621679250925"><span id="local-6989586621679250929"><span class="annot"><span class="annottext">Int -&gt; CArray a -&gt; ShowS
[CArray a] -&gt; ShowS
CArray a -&gt; String
(Int -&gt; CArray a -&gt; ShowS)
-&gt; (CArray a -&gt; String) -&gt; ([CArray a] -&gt; ShowS) -&gt; Show (CArray a)
forall a. Int -&gt; CArray a -&gt; ShowS
forall a. [CArray a] -&gt; ShowS
forall a. CArray a -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall a. Int -&gt; CArray a -&gt; ShowS
showsPrec :: Int -&gt; CArray a -&gt; ShowS
$cshow :: forall a. CArray a -&gt; String
show :: CArray a -&gt; String
$cshowList :: forall a. [CArray a] -&gt; ShowS
showList :: [CArray a] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span class="annot"><a href="Temporal.Core.CTypes.html#cArrayToByteString"><span class="hs-identifier hs-type">cArrayToByteString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CArray"><span class="hs-identifier hs-type">CArray</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-35"></span><span id="cArrayToByteString"><span class="annot"><span class="annottext">cArrayToByteString :: CArray Word8 -&gt; IO ByteString
</span><a href="Temporal.Core.CTypes.html#cArrayToByteString"><span class="hs-identifier hs-var hs-var">cArrayToByteString</span></a></span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CArray"><span class="hs-identifier hs-type">CArray</span></a></span><span class="hs-special">{</span><span id="local-6989586621679250934"><span id="local-6989586621679250935"><span class="annot"><span class="annottext">Word64
Ptr Word8
dataPtr :: forall a. CArray a -&gt; Ptr a
size :: forall a. CArray a -&gt; Word64
dataPtr :: Ptr Word8
size :: Word64
</span><a href="Temporal.Core.CTypes.html#dataPtr"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CStringLen -&gt; IO ByteString
</span><span class="hs-identifier hs-var">BS.packCStringLen</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ptr Word8 -&gt; Ptr CChar
forall a b. Ptr a -&gt; Ptr b
</span><span class="hs-identifier hs-var">castPtr</span></span><span> </span><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679250934"><span class="hs-identifier hs-var">dataPtr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679250935"><span class="hs-identifier hs-var">size</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span id="local-6989586621679250785"><span id="local-6989586621679250786"><span class="annot"><a href="Temporal.Core.CTypes.html#cArrayToVector"><span class="hs-identifier hs-type">cArrayToVector</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Storable</span></span><span> </span><span class="annot"><a href="#local-6989586621679250785"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679250785"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679250786"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CArray"><span class="hs-identifier hs-type">CArray</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679250785"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V.Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679250786"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-38"></span><span id="cArrayToVector"><span class="annot"><span class="annottext">cArrayToVector :: forall a b. Storable a =&gt; (a -&gt; IO b) -&gt; CArray a -&gt; IO (Vector b)
</span><a href="Temporal.Core.CTypes.html#cArrayToVector"><span class="hs-identifier hs-var hs-var">cArrayToVector</span></a></span></span><span> </span><span id="local-6989586621679250943"><span class="annot"><span class="annottext">a -&gt; IO b
</span><a href="#local-6989586621679250943"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CArray"><span class="hs-identifier hs-type">CArray</span></a></span><span class="hs-special">{</span><span id="local-6989586621679250944"><span id="local-6989586621679250945"><span class="annot"><span class="annottext">Word64
Ptr a
dataPtr :: forall a. CArray a -&gt; Ptr a
size :: forall a. CArray a -&gt; Word64
dataPtr :: Ptr a
size :: Word64
</span><a href="Temporal.Core.CTypes.html#dataPtr"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679250948"><span class="annot"><span class="annottext">len :: Int
</span><a href="#local-6989586621679250948"><span class="hs-identifier hs-var hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679250945"><span class="hs-identifier hs-var">size</span></a></span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><span class="annottext">Int -&gt; (Int -&gt; IO b) -&gt; IO (Vector b)
forall (m :: * -&gt; *) a.
Monad m =&gt;
Int -&gt; (Int -&gt; m a) -&gt; m (Vector a)
</span><span class="hs-identifier hs-var">V.generateM</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679250948"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">((Int -&gt; IO b) -&gt; IO (Vector b)) -&gt; (Int -&gt; IO b) -&gt; IO (Vector b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679250950"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679250950"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-41"></span><span>    </span><span id="local-6989586621679250951"><span class="annot"><a href="#local-6989586621679250951"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ptr a -&gt; Int -&gt; IO a
forall a. Storable a =&gt; Ptr a -&gt; Int -&gt; IO a
</span><span class="hs-identifier hs-var">peekElemOff</span></span><span> </span><span class="annot"><span class="annottext">Ptr a
</span><a href="#local-6989586621679250944"><span class="hs-identifier hs-var">dataPtr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679250950"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-42"></span><span>    </span><span class="annot"><a href="#local-6989586621679250943"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679250951"><span class="hs-identifier hs-type">x</span></a></span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="annot"><a href="Temporal.Core.CTypes.html#cArrayToText"><span class="hs-identifier hs-type">cArrayToText</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CArray"><span class="hs-identifier hs-type">CArray</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-45"></span><span id="cArrayToText"><span class="annot"><span class="annottext">cArrayToText :: CArray Word8 -&gt; IO Text
</span><a href="Temporal.Core.CTypes.html#cArrayToText"><span class="hs-identifier hs-var hs-var">cArrayToText</span></a></span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CArray"><span class="hs-identifier hs-type">CArray</span></a></span><span class="hs-special">{</span><span id="local-6989586621679250954"><span id="local-6989586621679250955"><span class="annot"><span class="annottext">Word64
Ptr Word8
dataPtr :: forall a. CArray a -&gt; Ptr a
size :: forall a. CArray a -&gt; Word64
dataPtr :: Ptr Word8
size :: Word64
</span><a href="Temporal.Core.CTypes.html#dataPtr"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679250959"><span class="annot"><span class="annottext">len :: I8
</span><a href="#local-6989586621679250959"><span class="hs-identifier hs-var hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; I8
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679250955"><span class="hs-identifier hs-var">size</span></a></span><span>
</span><span id="line-47"></span><span>  </span><span class="annot"><span class="annottext">Ptr Word8 -&gt; I8 -&gt; IO Text
</span><span class="hs-identifier hs-var">fromPtr</span></span><span> </span><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679250954"><span class="hs-identifier hs-var">dataPtr</span></a></span><span> </span><span class="annot"><span class="annottext">I8
</span><a href="#local-6989586621679250959"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679250769"><span id="local-6989586621679250965"><span id="local-6989586621679250968"><span id="local-6989586621679250971"><span id="local-6989586621679250974"><span class="annot"><span class="hs-identifier hs-type">Storable</span></span><span> </span><span class="annot"><a href="#local-6989586621679250769"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Storable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Core.CTypes.html#CArray"><span class="hs-identifier hs-type">CArray</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679250769"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-50"></span><span>  </span><span id="local-6989586621679250979"><span class="annot"><span class="annottext">sizeOf :: CArray a -&gt; Int
</span><a href="#local-6989586621679250979"><span class="hs-identifier hs-var hs-var hs-var">sizeOf</span></a></span></span><span> </span><span class="annot"><span class="annottext">CArray a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">16</span></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span class="hs-pragma">{-# LINE 51 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-identifier">alignment</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">8</span><span>
</span><span id="line-52"></span><span class="hs-pragma">{-# LINE 52 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-identifier">peek</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-identifier">dataPtr</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span>
</span><span id="line-54"></span><span class="hs-pragma">{-# LINE 54 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-identifier">size</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">8</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span>
</span><span id="line-55"></span><span class="hs-pragma">{-# LINE 55 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">CArray</span><span> </span><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span><span>
</span><span id="line-56"></span><span>  </span><span id="local-6989586621679251001"><span class="annot"><span class="annottext">poke :: Ptr (CArray a) -&gt; CArray a -&gt; IO ()
</span><a href="#local-6989586621679251001"><span class="hs-identifier hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span id="local-6989586621679251003"><span class="annot"><span class="annottext">Ptr (CArray a)
</span><a href="#local-6989586621679251003"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CArray"><span class="hs-identifier hs-type">CArray</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679251004"><span id="local-6989586621679251005"><span class="annot"><span class="annottext">Word64
Ptr a
dataPtr :: forall a. CArray a -&gt; Ptr a
size :: forall a. CArray a -&gt; Word64
dataPtr :: Ptr a
size :: Word64
</span><a href="Temporal.Core.CTypes.html#dataPtr"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679251006"><span class="annot"><span class="annottext">Ptr (CArray a)
</span><a href="#local-6989586621679251006"><span class="hs-identifier hs-var">hsc_ptr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ptr (CArray a) -&gt; Int -&gt; Ptr a -&gt; IO ()
forall b. Ptr b -&gt; Int -&gt; Ptr a -&gt; IO ()
forall a b. Storable a =&gt; Ptr b -&gt; Int -&gt; a -&gt; IO ()
</span><span class="hs-identifier hs-var">pokeByteOff</span></span><span> </span><span class="annot"><span class="annottext">Ptr (CArray a)
</span><a href="#local-6989586621679251006"><span class="hs-identifier hs-var">hsc_ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ptr (CArray a)
</span><a href="#local-6989586621679251003"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr a
</span><a href="#local-6989586621679251004"><span class="hs-identifier hs-var">dataPtr</span></a></span><span>
</span><span id="line-58"></span><span class="hs-pragma">{-# LINE 58 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pokeByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">8</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-identifier">size</span><span>
</span><span id="line-59"></span><span class="hs-pragma">{-# LINE 59 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;hs_temporal_drop_byte_array&quot;</span></span><span> </span><span id="rust_dropByteArray"><span class="annot"><a href="Temporal.Core.CTypes.html#rust_dropByteArray"><span class="hs-identifier hs-var">rust_dropByteArray</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FinalizerPtr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Core.CTypes.html#CArray"><span class="hs-identifier hs-type">CArray</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="hs-keyword">type</span><span> </span><span id="TryPutMVarFFI"><span class="annot"><a href="Temporal.Core.CTypes.html#TryPutMVarFFI"><span class="hs-identifier hs-var">TryPutMVarFFI</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FunPtr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MVar</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;hs_try_putmvar&quot;</span></span><span> </span><span id="tryPutMVarPtr"><span class="annot"><a href="Temporal.Core.CTypes.html#tryPutMVarPtr"><span class="hs-identifier hs-var">tryPutMVarPtr</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#TryPutMVarFFI"><span class="hs-identifier hs-type">TryPutMVarFFI</span></a></span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-comment">-- | A handle to the Rust Tokio runtime and thread-pool.</span><span>
</span><span id="line-66"></span><span class="hs-comment">--</span><span>
</span><span id="line-67"></span><span class="hs-comment">-- You almost always should use the 'globalRuntime' value, which is initialized</span><span>
</span><span id="line-68"></span><span class="hs-comment">-- once for the entire process.</span><span>
</span><span id="line-69"></span><span class="hs-keyword">newtype</span><span> </span><span id="Runtime"><span class="annot"><a href="Temporal.Core.CTypes.html#Runtime"><span class="hs-identifier hs-var">Runtime</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Runtime"><span class="annot"><a href="Temporal.Core.CTypes.html#Runtime"><span class="hs-identifier hs-var">Runtime</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ForeignPtr</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#Runtime"><span class="hs-identifier hs-type">Runtime</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-keyword">data</span><span> </span><span id="Periodicity"><span class="annot"><a href="Temporal.Core.CTypes.html#Periodicity"><span class="hs-identifier hs-var">Periodicity</span></a></span></span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Periodicity"><span class="annot"><a href="Temporal.Core.CTypes.html#Periodicity"><span class="hs-identifier hs-var">Periodicity</span></a></span></span><span>
</span><span id="line-73"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="seconds"><span class="annot"><span class="annottext">Periodicity -&gt; Word64
</span><a href="Temporal.Core.CTypes.html#seconds"><span class="hs-identifier hs-var hs-var">seconds</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span>
</span><span id="line-74"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="nanoseconds"><span class="annot"><span class="annottext">Periodicity -&gt; Word32
</span><a href="Temporal.Core.CTypes.html#nanoseconds"><span class="hs-identifier hs-var hs-var">nanoseconds</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word32</span></span><span>
</span><span id="line-75"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679251021"><span id="local-6989586621679251025"><span id="local-6989586621679251028"><span id="local-6989586621679251031"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#Periodicity"><span class="hs-identifier hs-type">Periodicity</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-78"></span><span>  </span><span id="local-6989586621679251046"><span class="annot"><span class="annottext">toJSON :: Periodicity -&gt; Value
</span><a href="#local-6989586621679251046"><span class="hs-identifier hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#Periodicity"><span class="hs-identifier hs-type">Periodicity</span></a></span><span class="hs-special">{</span><span id="local-6989586621679251048"><span id="local-6989586621679251049"><span class="annot"><span class="annottext">Word32
Word64
seconds :: Periodicity -&gt; Word64
nanoseconds :: Periodicity -&gt; Word32
seconds :: Word64
nanoseconds :: Word32
</span><a href="Temporal.Core.CTypes.html#seconds"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">object</span></span><span>
</span><span id="line-79"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;secs&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Word64 -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679251048"><span class="hs-identifier hs-var">seconds</span></a></span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;nanos&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Word32 -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621679251049"><span class="hs-identifier hs-var">nanoseconds</span></a></span><span>
</span><span id="line-81"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span class="hs-keyword">data</span><span> </span><span id="TelemetryOptions"><span class="annot"><a href="Temporal.Core.CTypes.html#TelemetryOptions"><span class="hs-identifier hs-var">TelemetryOptions</span></a></span></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="OtelTelemetryOptions"><span class="annot"><a href="Temporal.Core.CTypes.html#OtelTelemetryOptions"><span class="hs-identifier hs-var">OtelTelemetryOptions</span></a></span></span><span>
</span><span id="line-85"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="url"><span class="annot"><span class="annottext">TelemetryOptions -&gt; Text
</span><a href="Temporal.Core.CTypes.html#url"><span class="hs-identifier hs-var hs-var">url</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-86"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="headers"><span class="annot"><span class="annottext">TelemetryOptions -&gt; Map Text Text
</span><a href="Temporal.Core.CTypes.html#headers"><span class="hs-identifier hs-var hs-var">headers</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-87"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="metricPeriodicity"><span class="annot"><span class="annottext">TelemetryOptions -&gt; Maybe Periodicity
</span><a href="Temporal.Core.CTypes.html#metricPeriodicity"><span class="hs-identifier hs-var hs-var">metricPeriodicity</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#Periodicity"><span class="hs-identifier hs-type">Periodicity</span></a></span><span>
</span><span id="line-88"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="globalTags"><span class="annot"><span class="annottext">TelemetryOptions -&gt; Map Text Text
</span><a href="Temporal.Core.CTypes.html#globalTags"><span class="hs-identifier hs-var hs-var">globalTags</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-89"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PrometheusTelemetryOptions"><span class="annot"><a href="Temporal.Core.CTypes.html#PrometheusTelemetryOptions"><span class="hs-identifier hs-var">PrometheusTelemetryOptions</span></a></span></span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="socketAddr"><span class="annot"><span class="annottext">TelemetryOptions -&gt; Text
</span><a href="Temporal.Core.CTypes.html#socketAddr"><span class="hs-identifier hs-var hs-var">socketAddr</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-92"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="globalTags"><span class="annot"><a href="Temporal.Core.CTypes.html#globalTags"><span class="hs-identifier hs-var">globalTags</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-93"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="countersTotalSuffix"><span class="annot"><span class="annottext">TelemetryOptions -&gt; Bool
</span><a href="Temporal.Core.CTypes.html#countersTotalSuffix"><span class="hs-identifier hs-var hs-var">countersTotalSuffix</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-94"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="unitSuffix"><span class="annot"><span class="annottext">TelemetryOptions -&gt; Bool
</span><a href="Temporal.Core.CTypes.html#unitSuffix"><span class="hs-identifier hs-var hs-var">unitSuffix</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-95"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NoTelemetry"><span class="annot"><a href="Temporal.Core.CTypes.html#NoTelemetry"><span class="hs-identifier hs-var">NoTelemetry</span></a></span></span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span id="local-6989586621679251063"><span id="local-6989586621679251114"><span id="local-6989586621679251149"><span id="local-6989586621679251153"><span id="local-6989586621679251156"><span class="hs-identifier">deriveToJSON</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">defaultOptions</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">fieldLabelModifier</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">camelTo2</span><span> </span><span class="hs-char">'_'</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">TelemetryOptions</span></span></span></span></span></span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;hs_temporal_init_runtime&quot;</span></span><span> </span><span id="initRuntime"><span class="annot"><a href="Temporal.Core.CTypes.html#initRuntime"><span class="hs-identifier hs-var">initRuntime</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Core.CTypes.html#CArray"><span class="hs-identifier hs-type">CArray</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#TryPutMVarFFI"><span class="hs-identifier hs-type">TryPutMVarFFI</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#Runtime"><span class="hs-identifier hs-type">Runtime</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;hs_temporal_free_runtime&quot;</span></span><span> </span><span id="freeRuntime"><span class="annot"><a href="Temporal.Core.CTypes.html#freeRuntime"><span class="hs-identifier hs-var">freeRuntime</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FinalizerPtr</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#Runtime"><span class="hs-identifier hs-type">Runtime</span></a></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-keyword">data</span><span> </span><span id="LogLevel"><span class="annot"><a href="Temporal.Core.CTypes.html#LogLevel"><span class="hs-identifier hs-var">LogLevel</span></a></span></span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Trace"><span class="annot"><a href="Temporal.Core.CTypes.html#Trace"><span class="hs-identifier hs-var">Trace</span></a></span></span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Debug"><span class="annot"><a href="Temporal.Core.CTypes.html#Debug"><span class="hs-identifier hs-var">Debug</span></a></span></span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Info"><span class="annot"><a href="Temporal.Core.CTypes.html#Info"><span class="hs-identifier hs-var">Info</span></a></span></span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Warn"><span class="annot"><a href="Temporal.Core.CTypes.html#Warn"><span class="hs-identifier hs-var">Warn</span></a></span></span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Error"><span class="annot"><a href="Temporal.Core.CTypes.html#Error"><span class="hs-identifier hs-var">Error</span></a></span></span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679251203"><span id="local-6989586621679251205"><span id="local-6989586621679251209"><span class="annot"><span class="annottext">Int -&gt; LogLevel -&gt; ShowS
[LogLevel] -&gt; ShowS
LogLevel -&gt; String
(Int -&gt; LogLevel -&gt; ShowS)
-&gt; (LogLevel -&gt; String) -&gt; ([LogLevel] -&gt; ShowS) -&gt; Show LogLevel
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; LogLevel -&gt; ShowS
showsPrec :: Int -&gt; LogLevel -&gt; ShowS
$cshow :: LogLevel -&gt; String
show :: LogLevel -&gt; String
$cshowList :: [LogLevel] -&gt; ShowS
showList :: [LogLevel] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679251213"><span id="local-6989586621679251217"><span id="local-6989586621679251220"><span id="local-6989586621679251223"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#LogLevel"><span class="hs-identifier hs-type">LogLevel</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-112"></span><span>  </span><span id="local-6989586621679251231"><span class="annot"><span class="annottext">toJSON :: LogLevel -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-113"></span><span>    </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Temporal.Core.CTypes.html#Trace"><span class="hs-identifier hs-var">Trace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;TRACE&quot;</span></span><span>
</span><span id="line-114"></span><span>    </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Temporal.Core.CTypes.html#Debug"><span class="hs-identifier hs-var">Debug</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;DEBUG&quot;</span></span><span>
</span><span id="line-115"></span><span>    </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Temporal.Core.CTypes.html#Info"><span class="hs-identifier hs-var">Info</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;INFO&quot;</span></span><span>
</span><span id="line-116"></span><span>    </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Temporal.Core.CTypes.html#Warn"><span class="hs-identifier hs-var">Warn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;WARN&quot;</span></span><span>
</span><span id="line-117"></span><span>    </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Temporal.Core.CTypes.html#Error"><span class="hs-identifier hs-var">Temporal.Core.CTypes.Error</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;ERROR&quot;</span></span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679251234"><span id="local-6989586621679251238"><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#LogLevel"><span class="hs-identifier hs-type">LogLevel</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-120"></span><span>  </span><span id="local-6989586621679251268"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser LogLevel
</span><a href="#local-6989586621679251268"><span class="hs-identifier hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (Text -&gt; Parser LogLevel) -&gt; Value -&gt; Parser LogLevel
forall a. String -&gt; (Text -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">withText</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;LogLevel&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Text -&gt; Parser LogLevel) -&gt; Value -&gt; Parser LogLevel)
-&gt; (Text -&gt; Parser LogLevel) -&gt; Value -&gt; Parser LogLevel
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-121"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;TRACE&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LogLevel -&gt; Parser LogLevel
forall a. a -&gt; Parser a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Temporal.Core.CTypes.html#Trace"><span class="hs-identifier hs-var">Trace</span></a></span><span>
</span><span id="line-122"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;DEBUG&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LogLevel -&gt; Parser LogLevel
forall a. a -&gt; Parser a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Temporal.Core.CTypes.html#Debug"><span class="hs-identifier hs-var">Debug</span></a></span><span>
</span><span id="line-123"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;INFO&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LogLevel -&gt; Parser LogLevel
forall a. a -&gt; Parser a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Temporal.Core.CTypes.html#Info"><span class="hs-identifier hs-var">Info</span></a></span><span>
</span><span id="line-124"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;WARN&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LogLevel -&gt; Parser LogLevel
forall a. a -&gt; Parser a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Temporal.Core.CTypes.html#Warn"><span class="hs-identifier hs-var">Warn</span></a></span><span>
</span><span id="line-125"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ERROR&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LogLevel -&gt; Parser LogLevel
forall a. a -&gt; Parser a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Temporal.Core.CTypes.html#Error"><span class="hs-identifier hs-var">Temporal.Core.CTypes.Error</span></a></span><span>
</span><span id="line-126"></span><span>    </span><span id="local-6989586621679251271"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679251271"><span class="hs-identifier hs-var">other</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser LogLevel
forall a. String -&gt; Parser a
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Parser LogLevel) -&gt; String -&gt; Parser LogLevel
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Invalid log level: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679251271"><span class="hs-identifier hs-var">other</span></a></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="hs-keyword">data</span><span> </span><span id="CoreLog"><span class="annot"><a href="Temporal.Core.CTypes.html#CoreLog"><span class="hs-identifier hs-var">CoreLog</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CoreLog"><span class="annot"><a href="Temporal.Core.CTypes.html#CoreLog"><span class="hs-identifier hs-var">CoreLog</span></a></span></span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="target"><span class="annot"><span class="annottext">CoreLog -&gt; Text
</span><a href="Temporal.Core.CTypes.html#target"><span class="hs-identifier hs-var hs-var">target</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="message"><span class="annot"><span class="annottext">CoreLog -&gt; Text
</span><a href="Temporal.Core.CTypes.html#message"><span class="hs-identifier hs-var hs-var">message</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-131"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="timestamp"><span class="annot"><span class="annottext">CoreLog -&gt; Value
</span><a href="Temporal.Core.CTypes.html#timestamp"><span class="hs-identifier hs-var hs-var">timestamp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value</span></span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="level"><span class="annot"><span class="annottext">CoreLog -&gt; LogLevel
</span><a href="Temporal.Core.CTypes.html#level"><span class="hs-identifier hs-var hs-var">level</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#LogLevel"><span class="hs-identifier hs-type">LogLevel</span></a></span><span>
</span><span id="line-133"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="fields"><span class="annot"><span class="annottext">CoreLog -&gt; Object
</span><a href="Temporal.Core.CTypes.html#fields"><span class="hs-identifier hs-var hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Object</span></span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanContexts"><span class="annot"><span class="annottext">CoreLog -&gt; [Text]
</span><a href="Temporal.Core.CTypes.html#spanContexts"><span class="hs-identifier hs-var hs-var">spanContexts</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">]</span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679251281"><span id="local-6989586621679251293"><span id="local-6989586621679251297"><span class="annot"><span class="annottext">Int -&gt; CoreLog -&gt; ShowS
[CoreLog] -&gt; ShowS
CoreLog -&gt; String
(Int -&gt; CoreLog -&gt; ShowS)
-&gt; (CoreLog -&gt; String) -&gt; ([CoreLog] -&gt; ShowS) -&gt; Show CoreLog
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; CoreLog -&gt; ShowS
showsPrec :: Int -&gt; CoreLog -&gt; ShowS
$cshow :: CoreLog -&gt; String
show :: CoreLog -&gt; String
$cshowList :: [CoreLog] -&gt; ShowS
showList :: [CoreLog] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span id="local-6989586621679251300"><span id="local-6989586621679251325"><span id="local-6989586621679251329"><span id="local-6989586621679251332"><span id="local-6989586621679251362"><span id="local-6989586621679251383"><span id="local-6989586621679251387"><span id="local-6989586621679251390"><span class="hs-identifier">deriveJSON</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">defaultOptions</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">fieldLabelModifier</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">camelTo2</span><span> </span><span class="hs-char">'_'</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">CoreLog</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;hs_temporal_runtime_fetch_logs&quot;</span></span><span> </span><span id="raw_fetchLogs"><span class="annot"><a href="Temporal.Core.CTypes.html#raw_fetchLogs"><span class="hs-identifier hs-var">raw_fetchLogs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#Runtime"><span class="hs-identifier hs-type">Runtime</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Core.CTypes.html#CArray"><span class="hs-identifier hs-type">CArray</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Core.CTypes.html#CArray"><span class="hs-identifier hs-type">CArray</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;hs_temporal_runtime_free_logs&quot;</span></span><span> </span><span id="raw_freeLogs"><span class="annot"><a href="Temporal.Core.CTypes.html#raw_freeLogs"><span class="hs-identifier hs-var">raw_freeLogs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Core.CTypes.html#CArray"><span class="hs-identifier hs-type">CArray</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Core.CTypes.html#CArray"><span class="hs-identifier hs-type">CArray</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span class="hs-keyword">data</span><span> </span><span id="RpcError"><span class="annot"><a href="Temporal.Core.CTypes.html#RpcError"><span class="hs-identifier hs-var">RpcError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RpcError"><span class="annot"><a href="Temporal.Core.CTypes.html#RpcError"><span class="hs-identifier hs-var">RpcError</span></a></span></span><span>
</span><span id="line-143"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="code"><span class="annot"><span class="annottext">RpcError -&gt; Word32
</span><a href="Temporal.Core.CTypes.html#code"><span class="hs-identifier hs-var hs-var">code</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word32</span></span><span>
</span><span id="line-144"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="message"><span class="annot"><span class="annottext">RpcError -&gt; Text
</span><a href="Temporal.Core.CTypes.html#message"><span class="hs-identifier hs-var hs-var">message</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-145"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="details"><span class="annot"><span class="annottext">RpcError -&gt; ByteString
</span><a href="Temporal.Core.CTypes.html#details"><span class="hs-identifier hs-var hs-var">details</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679251428"><span id="local-6989586621679251436"><span id="local-6989586621679251440"><span class="annot"><span class="annottext">Int -&gt; RpcError -&gt; ShowS
[RpcError] -&gt; ShowS
RpcError -&gt; String
(Int -&gt; RpcError -&gt; ShowS)
-&gt; (RpcError -&gt; String) -&gt; ([RpcError] -&gt; ShowS) -&gt; Show RpcError
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; RpcError -&gt; ShowS
showsPrec :: Int -&gt; RpcError -&gt; ShowS
$cshow :: RpcError -&gt; String
show :: RpcError -&gt; String
$cshowList :: [RpcError] -&gt; ShowS
showList :: [RpcError] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679251447"><span id="local-6989586621679251451"><span id="local-6989586621679251454"><span id="local-6989586621679251457"><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#RpcError"><span class="hs-identifier hs-type">RpcError</span></a></span></span></span></span></span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span class="hs-keyword">data</span><span> </span><span id="CRPCError"><span class="annot"><a href="Temporal.Core.CTypes.html#CRPCError"><span class="hs-identifier hs-var">CRPCError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CRPCError"><span class="annot"><a href="Temporal.Core.CTypes.html#CRPCError"><span class="hs-identifier hs-var">CRPCError</span></a></span></span><span>
</span><span id="line-152"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="code"><span class="annot"><span class="annottext">CRPCError -&gt; Word32
</span><a href="Temporal.Core.CTypes.html#code"><span class="hs-identifier hs-var hs-var">code</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word32</span></span><span>
</span><span id="line-153"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="message"><span class="annot"><span class="annottext">CRPCError -&gt; Ptr CChar
</span><a href="Temporal.Core.CTypes.html#message"><span class="hs-identifier hs-var hs-var">message</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CString</span></span><span>
</span><span id="line-154"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="details"><span class="annot"><span class="annottext">CRPCError -&gt; Ptr (CArray Word8)
</span><a href="Temporal.Core.CTypes.html#details"><span class="hs-identifier hs-var hs-var">details</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Core.CTypes.html#CArray"><span class="hs-identifier hs-type">CArray</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679251468"><span id="local-6989586621679251472"><span id="local-6989586621679251475"><span id="local-6989586621679251478"><span class="annot"><span class="hs-identifier hs-type">Storable</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CRPCError"><span class="hs-identifier hs-type">CRPCError</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-158"></span><span>  </span><span id="local-6989586621679251482"><span class="annot"><span class="annottext">sizeOf :: CRPCError -&gt; Int
</span><span class="hs-identifier hs-var hs-var hs-var">sizeOf</span></span></span><span> </span><span class="annot"><span class="annottext">CRPCError
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">24</span></span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span class="hs-pragma">{-# LINE 159 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-identifier">alignment</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">8</span><span>
</span><span id="line-160"></span><span class="hs-pragma">{-# LINE 160 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-identifier">peek</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-161"></span><span>    </span><span class="hs-identifier">code</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span>
</span><span id="line-162"></span><span class="hs-pragma">{-# LINE 162 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-162"></span><span>    </span><span class="hs-identifier">message</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">8</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span>
</span><span id="line-163"></span><span class="hs-pragma">{-# LINE 163 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-163"></span><span>    </span><span class="hs-identifier">details</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">16</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span>
</span><span id="line-164"></span><span class="hs-pragma">{-# LINE 164 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-164"></span><span>    </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">CRPCError</span><span> </span><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span><span>
</span><span id="line-165"></span><span>  </span><span id="local-6989586621679251505"><span class="annot"><span class="annottext">poke :: Ptr CRPCError -&gt; CRPCError -&gt; IO ()
</span><span class="hs-identifier hs-var hs-var hs-var">poke</span></span></span><span> </span><span id="local-6989586621679251506"><span class="annot"><span class="annottext">Ptr CRPCError
</span><a href="#local-6989586621679251506"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CRPCError"><span class="hs-identifier hs-type">CRPCError</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679251507"><span id="local-6989586621679251508"><span id="local-6989586621679251509"><span class="annot"><span class="annottext">Word32
Ptr CChar
Ptr (CArray Word8)
code :: CRPCError -&gt; Word32
message :: CRPCError -&gt; Ptr CChar
details :: CRPCError -&gt; Ptr (CArray Word8)
code :: Word32
message :: Ptr CChar
details :: Ptr (CArray Word8)
</span><a href="Temporal.Core.CTypes.html#code"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-166"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679251510"><span class="annot"><span class="annottext">Ptr CRPCError
</span><a href="#local-6989586621679251510"><span class="hs-identifier hs-var">hsc_ptr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ptr CRPCError -&gt; Int -&gt; Word32 -&gt; IO ()
forall b. Ptr b -&gt; Int -&gt; Word32 -&gt; IO ()
forall a b. Storable a =&gt; Ptr b -&gt; Int -&gt; a -&gt; IO ()
</span><span class="hs-identifier hs-var">pokeByteOff</span></span><span> </span><span class="annot"><span class="annottext">Ptr CRPCError
</span><a href="#local-6989586621679251510"><span class="hs-identifier hs-var">hsc_ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ptr CRPCError
</span><a href="#local-6989586621679251506"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621679251507"><span class="hs-identifier hs-var">code</span></a></span><span>
</span><span id="line-167"></span><span class="hs-pragma">{-# LINE 167 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-167"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pokeByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">8</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-identifier">message</span><span>
</span><span id="line-168"></span><span class="hs-pragma">{-# LINE 168 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-168"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pokeByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">16</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-identifier">details</span><span>
</span><span id="line-169"></span><span class="hs-pragma">{-# LINE 169 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;hs_temporal_drop_rpc_error&quot;</span></span><span> </span><span id="rust_drop_rpc_error"><span class="annot"><a href="Temporal.Core.CTypes.html#rust_drop_rpc_error"><span class="hs-identifier hs-var">rust_drop_rpc_error</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FinalizerPtr</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CRPCError"><span class="hs-identifier hs-type">CRPCError</span></a></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span class="annot"><a href="Temporal.Core.CTypes.html#peekCRPCError"><span class="hs-identifier hs-type">peekCRPCError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CRPCError"><span class="hs-identifier hs-type">CRPCError</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#RpcError"><span class="hs-identifier hs-type">RpcError</span></a></span><span>
</span><span id="line-173"></span><span id="peekCRPCError"><span class="annot"><span class="annottext">peekCRPCError :: CRPCError -&gt; IO RpcError
</span><a href="Temporal.Core.CTypes.html#peekCRPCError"><span class="hs-identifier hs-var hs-var">peekCRPCError</span></a></span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CRPCError"><span class="hs-identifier hs-type">CRPCError</span></a></span><span class="hs-special">{</span><span id="local-6989586621679251515"><span id="local-6989586621679251516"><span id="local-6989586621679251517"><span class="annot"><span class="annottext">Word32
Ptr CChar
Ptr (CArray Word8)
code :: CRPCError -&gt; Word32
message :: CRPCError -&gt; Ptr CChar
details :: CRPCError -&gt; Ptr (CArray Word8)
code :: Word32
message :: Ptr CChar
details :: Ptr (CArray Word8)
</span><a href="Temporal.Core.CTypes.html#code"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-174"></span><span>  </span><span id="local-6989586621679251518"><span class="annot"><a href="#local-6989586621679251518"><span class="hs-identifier hs-var">message</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ptr Word8 -&gt; IO Text
</span><span class="hs-identifier hs-var">fromPtr0</span></span><span> </span><span class="annot"><span class="annottext">(Ptr Word8 -&gt; IO Text) -&gt; Ptr Word8 -&gt; IO Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Ptr CChar -&gt; Ptr Word8
forall a b. Ptr a -&gt; Ptr b
</span><span class="hs-identifier hs-var">castPtr</span></span><span> </span><span class="annot"><span class="annottext">Ptr CChar
</span><a href="#local-6989586621679251516"><span class="hs-identifier hs-var">message</span></a></span><span>
</span><span id="line-175"></span><span>  </span><span id="local-6989586621679251520"><span class="annot"><a href="#local-6989586621679251520"><span class="hs-identifier hs-var">details</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#cArrayToByteString"><span class="hs-identifier hs-type">cArrayToByteString</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">peek</span></span><span> </span><span class="annot"><a href="#local-6989586621679251517"><span class="hs-identifier hs-type">details</span></a></span><span>
</span><span id="line-176"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#RpcError"><span class="hs-identifier hs-type">RpcError</span></a></span><span class="hs-special">{</span><span class="annot"><a href="Temporal.Core.CTypes.html#code"><span class="hs-glyph hs-var hs-var hs-var hs-type hs-type hs-type">..</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="hs-keyword">newtype</span><span> </span><span id="CoreClient"><span class="annot"><a href="Temporal.Core.CTypes.html#CoreClient"><span class="hs-identifier hs-var">CoreClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CoreClient"><span class="annot"><a href="Temporal.Core.CTypes.html#CoreClient"><span class="hs-identifier hs-var">CoreClient</span></a></span></span><span>
</span><span id="line-179"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="coreClientPtr"><span class="annot"><span class="annottext">CoreClient -&gt; ForeignPtr CoreClient
</span><a href="Temporal.Core.CTypes.html#coreClientPtr"><span class="hs-identifier hs-var hs-var">coreClientPtr</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ForeignPtr</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CoreClient"><span class="hs-identifier hs-type">CoreClient</span></a></span><span>
</span><span id="line-180"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="hs-comment">-- TODO, this would be better as a pair of vectors instead of a linked list</span><span>
</span><span id="line-183"></span><span class="hs-keyword">data</span><span> </span><span id="HashMapEntries"><span class="annot"><a href="Temporal.Core.CTypes.html#HashMapEntries"><span class="hs-identifier hs-var">HashMapEntries</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="HashMapEntries"><span class="annot"><a href="Temporal.Core.CTypes.html#HashMapEntries"><span class="hs-identifier hs-var">HashMapEntries</span></a></span></span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="key"><span class="annot"><span class="annottext">HashMapEntries -&gt; Ptr CChar
</span><a href="Temporal.Core.CTypes.html#key"><span class="hs-identifier hs-var hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CString</span></span><span>
</span><span id="line-185"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="keyLen"><span class="annot"><span class="annottext">HashMapEntries -&gt; CSize
</span><a href="Temporal.Core.CTypes.html#keyLen"><span class="hs-identifier hs-var hs-var">keyLen</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CSize</span></span><span>
</span><span id="line-186"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="value"><span class="annot"><span class="annottext">HashMapEntries -&gt; Ptr CChar
</span><a href="Temporal.Core.CTypes.html#value"><span class="hs-identifier hs-var hs-var">value</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CString</span></span><span>
</span><span id="line-187"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="valueLen"><span class="annot"><span class="annottext">HashMapEntries -&gt; CSize
</span><a href="Temporal.Core.CTypes.html#valueLen"><span class="hs-identifier hs-var hs-var">valueLen</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CSize</span></span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="next"><span class="annot"><span class="annottext">HashMapEntries -&gt; Ptr HashMapEntries
</span><a href="Temporal.Core.CTypes.html#next"><span class="hs-identifier hs-var hs-var">next</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#HashMapEntries"><span class="hs-identifier hs-type">HashMapEntries</span></a></span><span>
</span><span id="line-189"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679251533"><span id="local-6989586621679251537"><span id="local-6989586621679251540"><span id="local-6989586621679251543"><span class="annot"><span class="hs-identifier hs-type">Storable</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#HashMapEntries"><span class="hs-identifier hs-type">HashMapEntries</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-192"></span><span>  </span><span id="local-6989586621679251547"><span class="annot"><span class="annottext">sizeOf :: HashMapEntries -&gt; Int
</span><span class="hs-identifier hs-var hs-var hs-var">sizeOf</span></span></span><span> </span><span class="annot"><span class="annottext">HashMapEntries
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">40</span></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span class="hs-pragma">{-# LINE 193 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-193"></span><span>  </span><span class="hs-identifier">alignment</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">8</span><span>
</span><span id="line-194"></span><span class="hs-pragma">{-# LINE 194 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-194"></span><span>  </span><span class="hs-identifier">peek</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-195"></span><span>    </span><span class="hs-identifier">key</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span>
</span><span id="line-196"></span><span class="hs-pragma">{-# LINE 196 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-196"></span><span>    </span><span class="hs-identifier">keyLen</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">8</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span>
</span><span id="line-197"></span><span class="hs-pragma">{-# LINE 197 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-197"></span><span>    </span><span class="hs-identifier">value</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">16</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span>
</span><span id="line-198"></span><span class="hs-pragma">{-# LINE 198 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-198"></span><span>    </span><span class="hs-identifier">valueLen</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">24</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span>
</span><span id="line-199"></span><span class="hs-pragma">{-# LINE 199 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-199"></span><span>    </span><span class="hs-identifier">next</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">32</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span>
</span><span id="line-200"></span><span class="hs-pragma">{-# LINE 200 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-200"></span><span>    </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">HashMapEntries</span><span> </span><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span><span>
</span><span id="line-201"></span><span>  </span><span id="local-6989586621679251582"><span class="annot"><span class="annottext">poke :: Ptr HashMapEntries -&gt; HashMapEntries -&gt; IO ()
</span><span class="hs-identifier hs-var hs-var hs-var">poke</span></span></span><span> </span><span id="local-6989586621679251583"><span class="annot"><span class="annottext">Ptr HashMapEntries
</span><a href="#local-6989586621679251583"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#HashMapEntries"><span class="hs-identifier hs-type">HashMapEntries</span></a></span><span class="hs-special">{</span><span id="local-6989586621679251584"><span id="local-6989586621679251585"><span id="local-6989586621679251586"><span id="local-6989586621679251587"><span id="local-6989586621679251588"><span class="annot"><span class="annottext">Ptr CChar
Ptr HashMapEntries
CSize
key :: HashMapEntries -&gt; Ptr CChar
keyLen :: HashMapEntries -&gt; CSize
value :: HashMapEntries -&gt; Ptr CChar
valueLen :: HashMapEntries -&gt; CSize
next :: HashMapEntries -&gt; Ptr HashMapEntries
key :: Ptr CChar
keyLen :: CSize
value :: Ptr CChar
valueLen :: CSize
next :: Ptr HashMapEntries
</span><a href="Temporal.Core.CTypes.html#key"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-202"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679251589"><span class="annot"><span class="annottext">Ptr HashMapEntries
</span><a href="#local-6989586621679251589"><span class="hs-identifier hs-var">hsc_ptr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ptr HashMapEntries -&gt; Int -&gt; Ptr CChar -&gt; IO ()
forall b. Ptr b -&gt; Int -&gt; Ptr CChar -&gt; IO ()
forall a b. Storable a =&gt; Ptr b -&gt; Int -&gt; a -&gt; IO ()
</span><span class="hs-identifier hs-var">pokeByteOff</span></span><span> </span><span class="annot"><span class="annottext">Ptr HashMapEntries
</span><a href="#local-6989586621679251589"><span class="hs-identifier hs-var">hsc_ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ptr HashMapEntries
</span><a href="#local-6989586621679251583"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr CChar
</span><a href="#local-6989586621679251584"><span class="hs-identifier hs-var">key</span></a></span><span>
</span><span id="line-203"></span><span class="hs-pragma">{-# LINE 203 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-203"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pokeByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">8</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-identifier">keyLen</span><span>
</span><span id="line-204"></span><span class="hs-pragma">{-# LINE 204 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pokeByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">16</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-identifier">value</span><span>
</span><span id="line-205"></span><span class="hs-pragma">{-# LINE 205 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pokeByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">24</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-identifier">valueLen</span><span>
</span><span id="line-206"></span><span class="hs-pragma">{-# LINE 206 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pokeByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">32</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-identifier">next</span><span>
</span><span id="line-207"></span><span class="hs-pragma">{-# LINE 207 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span class="hs-keyword">data</span><span> </span><span id="CRpcCall"><span class="annot"><a href="Temporal.Core.CTypes.html#CRpcCall"><span class="hs-identifier hs-var">CRpcCall</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CRpcCall"><span class="annot"><a href="Temporal.Core.CTypes.html#CRpcCall"><span class="hs-identifier hs-var">CRpcCall</span></a></span></span><span>
</span><span id="line-209"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="rpcCallReq"><span class="annot"><span class="annottext">CRpcCall -&gt; Ptr (CArray Word8)
</span><a href="Temporal.Core.CTypes.html#rpcCallReq"><span class="hs-identifier hs-var hs-var">rpcCallReq</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Core.CTypes.html#CArray"><span class="hs-identifier hs-type">CArray</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="rpcCallRetry"><span class="annot"><span class="annottext">CRpcCall -&gt; Word8
</span><a href="Temporal.Core.CTypes.html#rpcCallRetry"><span class="hs-identifier hs-var hs-var">rpcCallRetry</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>
</span><span id="line-211"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="rpcCallMetadata"><span class="annot"><span class="annottext">CRpcCall -&gt; Ptr HashMapEntries
</span><a href="Temporal.Core.CTypes.html#rpcCallMetadata"><span class="hs-identifier hs-var hs-var">rpcCallMetadata</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#HashMapEntries"><span class="hs-identifier hs-type">HashMapEntries</span></a></span><span>
</span><span id="line-212"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="rpcCallTimeoutMillis"><span class="annot"><span class="annottext">CRpcCall -&gt; Ptr Word64
</span><a href="Temporal.Core.CTypes.html#rpcCallTimeoutMillis"><span class="hs-identifier hs-var hs-var">rpcCallTimeoutMillis</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span>
</span><span id="line-213"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679251602"><span id="local-6989586621679251606"><span id="local-6989586621679251609"><span id="local-6989586621679251612"><span class="annot"><span class="hs-identifier hs-type">Storable</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CRpcCall"><span class="hs-identifier hs-type">CRpcCall</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-216"></span><span>  </span><span id="local-6989586621679251616"><span class="annot"><span class="annottext">sizeOf :: CRpcCall -&gt; Int
</span><span class="hs-identifier hs-var hs-var hs-var">sizeOf</span></span></span><span> </span><span class="annot"><span class="annottext">CRpcCall
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">32</span></span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span class="hs-pragma">{-# LINE 217 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-217"></span><span>  </span><span class="hs-identifier">alignment</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">8</span><span>
</span><span id="line-218"></span><span class="hs-pragma">{-# LINE 218 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-218"></span><span>  </span><span class="hs-identifier">peek</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-219"></span><span>    </span><span class="hs-identifier">rpcCallReq</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span>
</span><span id="line-220"></span><span class="hs-pragma">{-# LINE 220 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-220"></span><span>    </span><span class="hs-identifier">rpcCallRetry</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">8</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span>
</span><span id="line-221"></span><span class="hs-pragma">{-# LINE 221 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-221"></span><span>    </span><span class="hs-identifier">rpcCallMetadata</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">16</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span>
</span><span id="line-222"></span><span class="hs-pragma">{-# LINE 222 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-222"></span><span>    </span><span class="hs-identifier">rpcCallTimeoutMillis</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">24</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span>
</span><span id="line-223"></span><span class="hs-pragma">{-# LINE 223 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-223"></span><span>    </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">CRpcCall</span><span> </span><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span><span>
</span><span id="line-224"></span><span>  </span><span id="local-6989586621679251644"><span class="annot"><span class="annottext">poke :: Ptr CRpcCall -&gt; CRpcCall -&gt; IO ()
</span><span class="hs-identifier hs-var hs-var hs-var">poke</span></span></span><span> </span><span id="local-6989586621679251645"><span class="annot"><span class="annottext">Ptr CRpcCall
</span><a href="#local-6989586621679251645"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CRpcCall"><span class="hs-identifier hs-type">CRpcCall</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679251646"><span id="local-6989586621679251647"><span id="local-6989586621679251648"><span id="local-6989586621679251649"><span class="annot"><span class="annottext">Word8
Ptr Word64
Ptr (CArray Word8)
Ptr HashMapEntries
rpcCallReq :: CRpcCall -&gt; Ptr (CArray Word8)
rpcCallRetry :: CRpcCall -&gt; Word8
rpcCallMetadata :: CRpcCall -&gt; Ptr HashMapEntries
rpcCallTimeoutMillis :: CRpcCall -&gt; Ptr Word64
rpcCallReq :: Ptr (CArray Word8)
rpcCallRetry :: Word8
rpcCallMetadata :: Ptr HashMapEntries
rpcCallTimeoutMillis :: Ptr Word64
</span><a href="Temporal.Core.CTypes.html#rpcCallReq"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-225"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679251650"><span class="annot"><span class="annottext">Ptr CRpcCall
</span><a href="#local-6989586621679251650"><span class="hs-identifier hs-var">hsc_ptr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ptr CRpcCall -&gt; Int -&gt; Ptr (CArray Word8) -&gt; IO ()
forall b. Ptr b -&gt; Int -&gt; Ptr (CArray Word8) -&gt; IO ()
forall a b. Storable a =&gt; Ptr b -&gt; Int -&gt; a -&gt; IO ()
</span><span class="hs-identifier hs-var">pokeByteOff</span></span><span> </span><span class="annot"><span class="annottext">Ptr CRpcCall
</span><a href="#local-6989586621679251650"><span class="hs-identifier hs-var">hsc_ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ptr CRpcCall
</span><a href="#local-6989586621679251645"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr (CArray Word8)
</span><a href="#local-6989586621679251646"><span class="hs-identifier hs-var">rpcCallReq</span></a></span><span>
</span><span id="line-226"></span><span class="hs-pragma">{-# LINE 226 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-226"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pokeByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">8</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-identifier">rpcCallRetry</span><span>
</span><span id="line-227"></span><span class="hs-pragma">{-# LINE 227 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-227"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pokeByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">16</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-identifier">rpcCallMetadata</span><span>
</span><span id="line-228"></span><span class="hs-pragma">{-# LINE 228 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-228"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pokeByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">24</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-identifier">rpcCallTimeoutMillis</span><span>
</span><span id="line-229"></span><span class="hs-pragma">{-# LINE 229 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span class="hs-keyword">data</span><span> </span><span id="WorkerErrorCode"><span class="annot"><a href="Temporal.Core.CTypes.html#WorkerErrorCode"><span class="hs-identifier hs-var">WorkerErrorCode</span></a></span></span><span>
</span><span id="line-232"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="SDKError"><span class="annot"><a href="Temporal.Core.CTypes.html#SDKError"><span class="hs-identifier hs-var">SDKError</span></a></span></span><span>
</span><span id="line-233"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="InitWorkerFailed"><span class="annot"><a href="Temporal.Core.CTypes.html#InitWorkerFailed"><span class="hs-identifier hs-var">InitWorkerFailed</span></a></span></span><span>
</span><span id="line-234"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="InitReplayWorkerFailed"><span class="annot"><a href="Temporal.Core.CTypes.html#InitReplayWorkerFailed"><span class="hs-identifier hs-var">InitReplayWorkerFailed</span></a></span></span><span>
</span><span id="line-235"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="InvalidProto"><span class="annot"><a href="Temporal.Core.CTypes.html#InvalidProto"><span class="hs-identifier hs-var">InvalidProto</span></a></span></span><span>
</span><span id="line-236"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ReplayWorkerClosed"><span class="annot"><a href="Temporal.Core.CTypes.html#ReplayWorkerClosed"><span class="hs-identifier hs-var">ReplayWorkerClosed</span></a></span></span><span>
</span><span id="line-237"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PollShutdown"><span class="annot"><a href="Temporal.Core.CTypes.html#PollShutdown"><span class="hs-identifier hs-var">PollShutdown</span></a></span></span><span>
</span><span id="line-238"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PollFailure"><span class="annot"><a href="Temporal.Core.CTypes.html#PollFailure"><span class="hs-identifier hs-var">PollFailure</span></a></span></span><span>
</span><span id="line-239"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="CompletionFailure"><span class="annot"><a href="Temporal.Core.CTypes.html#CompletionFailure"><span class="hs-identifier hs-var">CompletionFailure</span></a></span></span><span>
</span><span id="line-240"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="InvalidWorkerConfig"><span class="annot"><a href="Temporal.Core.CTypes.html#InvalidWorkerConfig"><span class="hs-identifier hs-var">InvalidWorkerConfig</span></a></span></span><span>
</span><span id="line-241"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="UnknownError"><span class="annot"><a href="Temporal.Core.CTypes.html#UnknownError"><span class="hs-identifier hs-var">UnknownError</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>
</span><span id="line-242"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679251665"><span id="local-6989586621679251670"><span id="local-6989586621679251674"><span class="annot"><span class="annottext">Int -&gt; WorkerErrorCode -&gt; ShowS
[WorkerErrorCode] -&gt; ShowS
WorkerErrorCode -&gt; String
(Int -&gt; WorkerErrorCode -&gt; ShowS)
-&gt; (WorkerErrorCode -&gt; String)
-&gt; ([WorkerErrorCode] -&gt; ShowS)
-&gt; Show WorkerErrorCode
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; WorkerErrorCode -&gt; ShowS
showsPrec :: Int -&gt; WorkerErrorCode -&gt; ShowS
$cshow :: WorkerErrorCode -&gt; String
show :: WorkerErrorCode -&gt; String
$cshowList :: [WorkerErrorCode] -&gt; ShowS
showList :: [WorkerErrorCode] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679251677"><span id="local-6989586621679251684"><span class="annot"><span class="annottext">WorkerErrorCode -&gt; WorkerErrorCode -&gt; Bool
(WorkerErrorCode -&gt; WorkerErrorCode -&gt; Bool)
-&gt; (WorkerErrorCode -&gt; WorkerErrorCode -&gt; Bool)
-&gt; Eq WorkerErrorCode
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: WorkerErrorCode -&gt; WorkerErrorCode -&gt; Bool
== :: WorkerErrorCode -&gt; WorkerErrorCode -&gt; Bool
$c/= :: WorkerErrorCode -&gt; WorkerErrorCode -&gt; Bool
/= :: WorkerErrorCode -&gt; WorkerErrorCode -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679251691"><span id="local-6989586621679251695"><span id="local-6989586621679251698"><span id="local-6989586621679251701"><span class="annot"><span class="hs-identifier hs-type">Storable</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#WorkerErrorCode"><span class="hs-identifier hs-type">WorkerErrorCode</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-245"></span><span>  </span><span id="local-6989586621679251705"><span class="annot"><span class="annottext">sizeOf :: WorkerErrorCode -&gt; Int
</span><span class="hs-identifier hs-var hs-var hs-var">sizeOf</span></span></span><span> </span><span class="annot"><span class="annottext">WorkerErrorCode
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-246"></span><span class="hs-pragma">{-# LINE 246 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-246"></span><span>  </span><span class="hs-identifier">alignment</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">1</span><span>
</span><span id="line-247"></span><span class="hs-pragma">{-# LINE 247 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-247"></span><span>  </span><span class="hs-identifier">peek</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-248"></span><span>    </span><span class="hs-identifier">code</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">peek</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">castPtr</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Ptr</span><span> </span><span class="hs-identifier">Word8</span><span class="hs-special">)</span><span>
</span><span id="line-249"></span><span class="hs-pragma">{-# LINE 249 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-249"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">code</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-250"></span><span>      </span><span class="hs-number">1</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">SDKError</span><span>
</span><span id="line-251"></span><span class="hs-pragma">{-# LINE 251 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-251"></span><span>      </span><span class="hs-number">2</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">InitWorkerFailed</span><span>
</span><span id="line-252"></span><span class="hs-pragma">{-# LINE 252 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-252"></span><span>      </span><span class="hs-number">3</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">InitReplayWorkerFailed</span><span>
</span><span id="line-253"></span><span class="hs-pragma">{-# LINE 253 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-253"></span><span>      </span><span class="hs-number">4</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">InvalidProto</span><span>
</span><span id="line-254"></span><span class="hs-pragma">{-# LINE 254 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-254"></span><span>      </span><span class="hs-number">5</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">ReplayWorkerClosed</span><span>
</span><span id="line-255"></span><span class="hs-pragma">{-# LINE 255 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-255"></span><span>      </span><span class="hs-number">6</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">PollShutdown</span><span>
</span><span id="line-256"></span><span class="hs-pragma">{-# LINE 256 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-256"></span><span>      </span><span class="hs-number">7</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">PollFailure</span><span>
</span><span id="line-257"></span><span class="hs-pragma">{-# LINE 257 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-257"></span><span>      </span><span class="hs-number">8</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">CompletionFailure</span><span>
</span><span id="line-258"></span><span class="hs-pragma">{-# LINE 258 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-258"></span><span>      </span><span class="hs-number">9</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">InvalidWorkerConfig</span><span>
</span><span id="line-259"></span><span class="hs-pragma">{-# LINE 259 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-259"></span><span>      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">UnknownError</span><span> </span><span class="hs-identifier">code</span><span>
</span><span id="line-260"></span><span>  </span><span id="local-6989586621679251760"><span class="annot"><span class="annottext">poke :: Ptr WorkerErrorCode -&gt; WorkerErrorCode -&gt; IO ()
</span><span class="hs-identifier hs-var hs-var hs-var">poke</span></span></span><span> </span><span id="local-6989586621679251761"><span class="annot"><span class="annottext">Ptr WorkerErrorCode
</span><a href="#local-6989586621679251761"><span class="hs-identifier hs-var">ptr_</span></a></span></span><span> </span><span id="local-6989586621679251762"><span class="annot"><span class="annottext">WorkerErrorCode
</span><a href="#local-6989586621679251762"><span class="hs-identifier hs-var">code</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">WorkerErrorCode
</span><a href="#local-6989586621679251762"><span class="hs-identifier hs-var">code</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-261"></span><span>    </span><span class="annot"><span class="annottext">WorkerErrorCode
</span><a href="Temporal.Core.CTypes.html#SDKError"><span class="hs-identifier hs-var">SDKError</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ptr Word8 -&gt; Word8 -&gt; IO ()
forall a. Storable a =&gt; Ptr a -&gt; a -&gt; IO ()
</span><span class="hs-identifier hs-var">poke</span></span><span> </span><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679251763"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">1</span></span><span>
</span><span id="line-262"></span><span class="hs-pragma">{-# LINE 262 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-262"></span><span>    </span><span class="hs-identifier">InitWorkerFailed</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">poke</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-number">2</span><span>
</span><span id="line-263"></span><span class="hs-pragma">{-# LINE 263 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-identifier">InitReplayWorkerFailed</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">poke</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-number">3</span><span>
</span><span id="line-264"></span><span class="hs-pragma">{-# LINE 264 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-264"></span><span>    </span><span class="hs-identifier">InvalidProto</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">poke</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-number">4</span><span>
</span><span id="line-265"></span><span class="hs-pragma">{-# LINE 265 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-265"></span><span>    </span><span class="hs-identifier">ReplayWorkerClosed</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">poke</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-number">5</span><span>
</span><span id="line-266"></span><span class="hs-pragma">{-# LINE 266 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-266"></span><span>    </span><span class="hs-identifier">PollShutdown</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">poke</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-number">6</span><span>
</span><span id="line-267"></span><span class="hs-pragma">{-# LINE 267 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-267"></span><span>    </span><span class="hs-identifier">PollFailure</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">poke</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-number">7</span><span>
</span><span id="line-268"></span><span class="hs-pragma">{-# LINE 268 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-268"></span><span>    </span><span class="hs-identifier">CompletionFailure</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">poke</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-number">8</span><span>
</span><span id="line-269"></span><span class="hs-pragma">{-# LINE 269 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-269"></span><span>    </span><span class="hs-identifier">InvalidWorkerConfig</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">poke</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-number">9</span><span>
</span><span id="line-270"></span><span class="hs-pragma">{-# LINE 270 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-270"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">UnknownError</span><span> </span><span class="hs-identifier">code</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">poke</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-identifier">code</span><span>
</span><span id="line-271"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-272"></span><span>      </span><span id="local-6989586621679251763"><span class="annot"><span class="annottext">ptr :: Ptr Word8
</span><a href="#local-6989586621679251763"><span class="hs-identifier hs-var hs-var">ptr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ptr WorkerErrorCode -&gt; Ptr Word8
forall a b. Ptr a -&gt; Ptr b
</span><span class="hs-identifier hs-var">castPtr</span></span><span> </span><span class="annot"><span class="annottext">Ptr WorkerErrorCode
</span><a href="#local-6989586621679251761"><span class="hs-identifier hs-var">ptr_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span class="hs-pragma">{-# LINE 273 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span class="hs-keyword">data</span><span> </span><span id="CWorkerError"><span class="annot"><a href="Temporal.Core.CTypes.html#CWorkerError"><span class="hs-identifier hs-var">CWorkerError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CWorkerError"><span class="annot"><a href="Temporal.Core.CTypes.html#CWorkerError"><span class="hs-identifier hs-var">CWorkerError</span></a></span></span><span>
</span><span id="line-275"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="code"><span class="annot"><span class="annottext">CWorkerError -&gt; WorkerErrorCode
</span><a href="Temporal.Core.CTypes.html#code"><span class="hs-identifier hs-var hs-var">code</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#WorkerErrorCode"><span class="hs-identifier hs-type">WorkerErrorCode</span></a></span><span>
</span><span id="line-276"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="message"><span class="annot"><span class="annottext">CWorkerError -&gt; Ptr CChar
</span><a href="Temporal.Core.CTypes.html#message"><span class="hs-identifier hs-var hs-var">message</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CString</span></span><span>
</span><span id="line-277"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679251771"><span id="local-6989586621679251775"><span id="local-6989586621679251778"><span id="local-6989586621679251781"><span class="annot"><span class="hs-identifier hs-type">Storable</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CWorkerError"><span class="hs-identifier hs-type">CWorkerError</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-280"></span><span>  </span><span id="local-6989586621679251785"><span class="annot"><span class="annottext">sizeOf :: CWorkerError -&gt; Int
</span><span class="hs-identifier hs-var hs-var hs-var">sizeOf</span></span></span><span> </span><span class="annot"><span class="annottext">CWorkerError
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">16</span></span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span class="hs-pragma">{-# LINE 281 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-281"></span><span>  </span><span class="hs-identifier">alignment</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">8</span><span>
</span><span id="line-282"></span><span class="hs-pragma">{-# LINE 282 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-282"></span><span>  </span><span class="hs-identifier">peek</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-283"></span><span>    </span><span class="hs-identifier">code</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span>
</span><span id="line-284"></span><span class="hs-pragma">{-# LINE 284 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-284"></span><span>    </span><span class="hs-identifier">message</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">8</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span>
</span><span id="line-285"></span><span class="hs-pragma">{-# LINE 285 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-285"></span><span>    </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">CWorkerError</span><span> </span><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span><span>
</span><span id="line-286"></span><span>  </span><span id="local-6989586621679251801"><span class="annot"><span class="annottext">poke :: Ptr CWorkerError -&gt; CWorkerError -&gt; IO ()
</span><span class="hs-identifier hs-var hs-var hs-var">poke</span></span></span><span> </span><span id="local-6989586621679251802"><span class="annot"><span class="annottext">Ptr CWorkerError
</span><a href="#local-6989586621679251802"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CWorkerError"><span class="hs-identifier hs-type">CWorkerError</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679251803"><span id="local-6989586621679251804"><span class="annot"><span class="annottext">Ptr CChar
WorkerErrorCode
code :: CWorkerError -&gt; WorkerErrorCode
message :: CWorkerError -&gt; Ptr CChar
code :: WorkerErrorCode
message :: Ptr CChar
</span><a href="Temporal.Core.CTypes.html#code"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-287"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679251805"><span class="annot"><span class="annottext">Ptr CWorkerError
</span><a href="#local-6989586621679251805"><span class="hs-identifier hs-var">hsc_ptr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ptr CWorkerError -&gt; Int -&gt; WorkerErrorCode -&gt; IO ()
forall b. Ptr b -&gt; Int -&gt; WorkerErrorCode -&gt; IO ()
forall a b. Storable a =&gt; Ptr b -&gt; Int -&gt; a -&gt; IO ()
</span><span class="hs-identifier hs-var">pokeByteOff</span></span><span> </span><span class="annot"><span class="annottext">Ptr CWorkerError
</span><a href="#local-6989586621679251805"><span class="hs-identifier hs-var">hsc_ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ptr CWorkerError
</span><a href="#local-6989586621679251802"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">WorkerErrorCode
</span><a href="#local-6989586621679251803"><span class="hs-identifier hs-var">code</span></a></span><span>
</span><span id="line-288"></span><span class="hs-pragma">{-# LINE 288 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-288"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pokeByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">8</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-identifier">message</span><span>
</span><span id="line-289"></span><span class="hs-pragma">{-# LINE 289 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span class="hs-keyword">data</span><span> </span><span id="WorkerError"><span class="annot"><a href="Temporal.Core.CTypes.html#WorkerError"><span class="hs-identifier hs-var">WorkerError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="WorkerError"><span class="annot"><a href="Temporal.Core.CTypes.html#WorkerError"><span class="hs-identifier hs-var">WorkerError</span></a></span></span><span>
</span><span id="line-291"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="code"><span class="annot"><span class="annottext">WorkerError -&gt; WorkerErrorCode
</span><a href="Temporal.Core.CTypes.html#code"><span class="hs-identifier hs-var hs-var">code</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#WorkerErrorCode"><span class="hs-identifier hs-type">WorkerErrorCode</span></a></span><span>
</span><span id="line-292"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="message"><span class="annot"><span class="annottext">WorkerError -&gt; Text
</span><a href="Temporal.Core.CTypes.html#message"><span class="hs-identifier hs-var hs-var">message</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-293"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679251811"><span id="local-6989586621679251816"><span id="local-6989586621679251820"><span class="annot"><span class="annottext">Int -&gt; WorkerError -&gt; ShowS
[WorkerError] -&gt; ShowS
WorkerError -&gt; String
(Int -&gt; WorkerError -&gt; ShowS)
-&gt; (WorkerError -&gt; String)
-&gt; ([WorkerError] -&gt; ShowS)
-&gt; Show WorkerError
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; WorkerError -&gt; ShowS
showsPrec :: Int -&gt; WorkerError -&gt; ShowS
$cshow :: WorkerError -&gt; String
show :: WorkerError -&gt; String
$cshowList :: [WorkerError] -&gt; ShowS
showList :: [WorkerError] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679251823"><span id="local-6989586621679251827"><span class="annot"><span class="annottext">WorkerError -&gt; WorkerError -&gt; Bool
(WorkerError -&gt; WorkerError -&gt; Bool)
-&gt; (WorkerError -&gt; WorkerError -&gt; Bool) -&gt; Eq WorkerError
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: WorkerError -&gt; WorkerError -&gt; Bool
== :: WorkerError -&gt; WorkerError -&gt; Bool
$c/= :: WorkerError -&gt; WorkerError -&gt; Bool
/= :: WorkerError -&gt; WorkerError -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>
</span><span id="line-295"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679251835"><span id="local-6989586621679251839"><span id="local-6989586621679251842"><span id="local-6989586621679251845"><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#WorkerError"><span class="hs-identifier hs-type">WorkerError</span></a></span></span></span></span></span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span class="annot"><a href="Temporal.Core.CTypes.html#peekWorkerError"><span class="hs-identifier hs-type">peekWorkerError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CWorkerError"><span class="hs-identifier hs-type">CWorkerError</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#WorkerError"><span class="hs-identifier hs-type">WorkerError</span></a></span><span>
</span><span id="line-298"></span><span id="peekWorkerError"><span class="annot"><span class="annottext">peekWorkerError :: CWorkerError -&gt; IO WorkerError
</span><a href="Temporal.Core.CTypes.html#peekWorkerError"><span class="hs-identifier hs-var hs-var">peekWorkerError</span></a></span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CWorkerError"><span class="hs-identifier hs-type">CWorkerError</span></a></span><span class="hs-special">{</span><span id="local-6989586621679251848"><span id="local-6989586621679251849"><span class="annot"><span class="annottext">Ptr CChar
WorkerErrorCode
code :: CWorkerError -&gt; WorkerErrorCode
message :: CWorkerError -&gt; Ptr CChar
code :: WorkerErrorCode
message :: Ptr CChar
</span><a href="Temporal.Core.CTypes.html#code"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-299"></span><span>  </span><span id="local-6989586621679251850"><span class="annot"><a href="#local-6989586621679251850"><span class="hs-identifier hs-var">message</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ptr Word8 -&gt; IO Text
</span><span class="hs-identifier hs-var">fromPtr0</span></span><span> </span><span class="annot"><span class="annottext">(Ptr Word8 -&gt; IO Text) -&gt; Ptr Word8 -&gt; IO Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Ptr CChar -&gt; Ptr Word8
forall a b. Ptr a -&gt; Ptr b
</span><span class="hs-identifier hs-var">castPtr</span></span><span> </span><span class="annot"><span class="annottext">Ptr CChar
</span><a href="#local-6989586621679251849"><span class="hs-identifier hs-var">message</span></a></span><span>
</span><span id="line-300"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#WorkerError"><span class="hs-identifier hs-type">WorkerError</span></a></span><span class="hs-special">{</span><span class="annot"><a href="Temporal.Core.CTypes.html#code"><span class="hs-glyph hs-var hs-var hs-type hs-type">..</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span class="hs-keyword">data</span><span> </span><span id="CWorkerValidationError"><span class="annot"><a href="Temporal.Core.CTypes.html#CWorkerValidationError"><span class="hs-identifier hs-var">CWorkerValidationError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CWorkerValidationError"><span class="annot"><a href="Temporal.Core.CTypes.html#CWorkerValidationError"><span class="hs-identifier hs-var">CWorkerValidationError</span></a></span></span><span>
</span><span id="line-303"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="message"><span class="annot"><span class="annottext">CWorkerValidationError -&gt; Ptr CChar
</span><a href="Temporal.Core.CTypes.html#message"><span class="hs-identifier hs-var hs-var">message</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CString</span></span><span>
</span><span id="line-304"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-305"></span><span>
</span><span id="line-306"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679251856"><span id="local-6989586621679251860"><span id="local-6989586621679251863"><span id="local-6989586621679251866"><span id="local-6989586621679251870"><span class="annot"><span class="hs-identifier hs-type">Storable</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CWorkerValidationError"><span class="hs-identifier hs-type">CWorkerValidationError</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-307"></span><span>  </span><span id="local-6989586621679251872"><span class="annot"><span class="annottext">sizeOf :: CWorkerValidationError -&gt; Int
</span><span class="hs-identifier hs-var hs-var hs-var">sizeOf</span></span></span><span> </span><span class="annot"><span class="annottext">CWorkerValidationError
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span class="hs-pragma">{-# LINE 308 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-308"></span><span>  </span><span class="hs-identifier">alignment</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">8</span><span>
</span><span id="line-309"></span><span class="hs-pragma">{-# LINE 309 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-309"></span><span>  </span><span class="hs-identifier">peek</span><span> </span><span class="hs-identifier">ptr</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-310"></span><span>    </span><span class="hs-identifier">message</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekByteOff</span><span> </span><span class="hs-identifier">hsc_ptr</span><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ptr</span><span>
</span><span id="line-311"></span><span class="hs-pragma">{-# LINE 311 &quot;src/Temporal/Core/CTypes.hsc&quot; #-}</span><span>
</span><span id="line-311"></span><span>    </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">CWorkerValidationError</span><span> </span><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span class="hs-keyword">data</span><span> </span><span id="WorkerValidationError"><span class="annot"><a href="Temporal.Core.CTypes.html#WorkerValidationError"><span class="hs-identifier hs-var">WorkerValidationError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="WorkerValidationError"><span class="annot"><a href="Temporal.Core.CTypes.html#WorkerValidationError"><span class="hs-identifier hs-var">WorkerValidationError</span></a></span></span><span>
</span><span id="line-314"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="message"><span class="annot"><span class="annottext">WorkerValidationError -&gt; Text
</span><a href="Temporal.Core.CTypes.html#message"><span class="hs-identifier hs-var hs-var">message</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-315"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679251884"><span id="local-6989586621679251888"><span id="local-6989586621679251892"><span class="annot"><span class="annottext">Int -&gt; WorkerValidationError -&gt; ShowS
[WorkerValidationError] -&gt; ShowS
WorkerValidationError -&gt; String
(Int -&gt; WorkerValidationError -&gt; ShowS)
-&gt; (WorkerValidationError -&gt; String)
-&gt; ([WorkerValidationError] -&gt; ShowS)
-&gt; Show WorkerValidationError
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; WorkerValidationError -&gt; ShowS
showsPrec :: Int -&gt; WorkerValidationError -&gt; ShowS
$cshow :: WorkerValidationError -&gt; String
show :: WorkerValidationError -&gt; String
$cshowList :: [WorkerValidationError] -&gt; ShowS
showList :: [WorkerValidationError] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679251895"><span id="local-6989586621679251898"><span class="annot"><span class="annottext">WorkerValidationError -&gt; WorkerValidationError -&gt; Bool
(WorkerValidationError -&gt; WorkerValidationError -&gt; Bool)
-&gt; (WorkerValidationError -&gt; WorkerValidationError -&gt; Bool)
-&gt; Eq WorkerValidationError
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: WorkerValidationError -&gt; WorkerValidationError -&gt; Bool
== :: WorkerValidationError -&gt; WorkerValidationError -&gt; Bool
$c/= :: WorkerValidationError -&gt; WorkerValidationError -&gt; Bool
/= :: WorkerValidationError -&gt; WorkerValidationError -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679251906"><span id="local-6989586621679251910"><span id="local-6989586621679251913"><span id="local-6989586621679251916"><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#WorkerValidationError"><span class="hs-identifier hs-type">WorkerValidationError</span></a></span></span></span></span></span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span class="annot"><a href="Temporal.Core.CTypes.html#peekWorkerValidationError"><span class="hs-identifier hs-type">peekWorkerValidationError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CWorkerValidationError"><span class="hs-identifier hs-type">CWorkerValidationError</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#WorkerValidationError"><span class="hs-identifier hs-type">WorkerValidationError</span></a></span><span>
</span><span id="line-320"></span><span id="peekWorkerValidationError"><span class="annot"><span class="annottext">peekWorkerValidationError :: CWorkerValidationError -&gt; IO WorkerValidationError
</span><a href="Temporal.Core.CTypes.html#peekWorkerValidationError"><span class="hs-identifier hs-var hs-var">peekWorkerValidationError</span></a></span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CWorkerValidationError"><span class="hs-identifier hs-type">CWorkerValidationError</span></a></span><span class="hs-special">{</span><span id="local-6989586621679251919"><span class="annot"><span class="annottext">Ptr CChar
message :: CWorkerValidationError -&gt; Ptr CChar
message :: Ptr CChar
</span><a href="Temporal.Core.CTypes.html#message"><span class="hs-glyph hs-var hs-var">..</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-321"></span><span>  </span><span id="local-6989586621679251920"><span class="annot"><a href="#local-6989586621679251920"><span class="hs-identifier hs-var">message</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ptr Word8 -&gt; IO Text
</span><span class="hs-identifier hs-var">fromPtr0</span></span><span> </span><span class="annot"><span class="annottext">(Ptr Word8 -&gt; IO Text) -&gt; Ptr Word8 -&gt; IO Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Ptr CChar -&gt; Ptr Word8
forall a b. Ptr a -&gt; Ptr b
</span><span class="hs-identifier hs-var">castPtr</span></span><span> </span><span class="annot"><span class="annottext">Ptr CChar
</span><a href="#local-6989586621679251919"><span class="hs-identifier hs-var">message</span></a></span><span>
</span><span id="line-322"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#WorkerValidationError"><span class="hs-identifier hs-type">WorkerValidationError</span></a></span><span class="hs-special">{</span><span class="annot"><a href="Temporal.Core.CTypes.html#message"><span class="hs-glyph hs-var hs-type">..</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;hs_temporal_drop_worker_validation_error&quot;</span></span><span> </span><span id="rust_dropWorkerValidationError"><span class="annot"><a href="Temporal.Core.CTypes.html#rust_dropWorkerValidationError"><span class="hs-identifier hs-var">rust_dropWorkerValidationError</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FinalizerPtr</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CWorkerValidationError"><span class="hs-identifier hs-type">CWorkerValidationError</span></a></span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;hs_temporal_drop_worker_error&quot;</span></span><span> </span><span id="rust_dropWorkerError"><span class="annot"><a href="Temporal.Core.CTypes.html#rust_dropWorkerError"><span class="hs-identifier hs-var">rust_dropWorkerError</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FinalizerPtr</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CWorkerError"><span class="hs-identifier hs-type">CWorkerError</span></a></span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span class="hs-keyword">data</span><span> </span><span id="CUnit"><span class="annot"><a href="Temporal.Core.CTypes.html#CUnit"><span class="hs-identifier hs-var">CUnit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CUnit"><span class="annot"><a href="Temporal.Core.CTypes.html#CUnit"><span class="hs-identifier hs-var">CUnit</span></a></span></span><span>
</span><span id="line-329"></span><span>
</span><span id="line-330"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;hs_temporal_drop_unit&quot;</span></span><span> </span><span id="rust_dropUnitNow"><span class="annot"><a href="Temporal.Core.CTypes.html#rust_dropUnitNow"><span class="hs-identifier hs-var">rust_dropUnitNow</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CUnit"><span class="hs-identifier hs-type">CUnit</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-331"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;hs_temporal_drop_unit&quot;</span></span><span> </span><span id="rust_dropUnit"><span class="annot"><a href="Temporal.Core.CTypes.html#rust_dropUnit"><span class="hs-identifier hs-var">rust_dropUnit</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FinalizerPtr</span></span><span> </span><span class="annot"><a href="Temporal.Core.CTypes.html#CUnit"><span class="hs-identifier hs-type">CUnit</span></a></span><span>
</span><span id="line-332"></span></pre></body></html>