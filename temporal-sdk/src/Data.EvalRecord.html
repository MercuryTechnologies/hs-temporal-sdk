<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE ConstraintKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DefaultSignatures #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE InstanceSigs #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE PolyKinds #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE RoleAnnotations #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE UndecidableSuperClasses #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-unrecognised-pragmas #-}</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# HLINT ignore &quot;Avoid lambda using `infix`&quot; #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# HLINT ignore &quot;Avoid lambda&quot; #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# HLINT ignore &quot;Use const&quot; #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# HLINT ignore &quot;Redundant bracket&quot; #-}</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="annot"><span class="hs-comment">{- |
Module:  Data.EvalRecord

This module is intended to be imported qualified, to avoid name clashes with
Prelude and base functions:

@
import qualified Data.EvalRecord as Rec
@

A common Haskell idiom is to parameterise a datatype by a functor or GADT
(or any &quot;indexed type&quot; @k -&gt; 'Data.Kind.Type'@), a pattern
sometimes called &lt;https://reasonablypolymorphic.com/blog/higher-kinded-data/ HKD&gt;).
This parameter acts as a wrapper of the base type, turning it into a record
that serves a different purpose. The canonical example would be:

@
data Person f
  = Person
      { name :: f 'String'
      , age  :: f 'Int'
      }
@

However, this library uses a different approach, where the parameter is
a type-level function @Type -&gt; Exp Type@, from the @first-class-families@ package.
The type of each field is then given by applying 'Eval (f x)' (also known as '@@') to the field:

@
data Person (f :: Type -&gt; 'Exp' Type)
  = Person
      { name :: f '@@' 'String'
      , age  :: f '@@' 'Int'
      }
@

Let's say that we are writing an application where @Person@ data
will be read from a web form, validated, and stored in a database. Some
possibles outfits that we could use along the way are:

@
-- for the raw input from the web-form,
webInput :: Person ('ConstFn' 'String')
webInput = Person &quot;John&quot; &quot;30b&quot;

-- for the result of parsing and validating,
validated :: Person ('Pure1' ('Either' 'String'))
validated = Person (Right &quot;John&quot;) (Left &quot;Not a number&quot;)

-- Person 'Pure' for the actual data,
domainModel :: Person 'Pure'
domainModel = Person &quot;John&quot; 30

dbModel :: Person ('Pure1' DbColumn) -- To describe how to read / write a @Person@ to the db
dbModel = Person
  { name = DbColumn &quot;name&quot; (Right . fromString) toDbString
  , age  = DbColumn &quot;age&quot;  (readEither . fromString) show
  }

data DbColumn a
  = DbColumn
      { colName :: 'String'
      , fromDb  :: DbDataParser a
      , toDb    :: a -&gt; DbData
      }
@

In such application it is likely that one will have lots of types like
@Person@ so we will like to handle these transformations uniformly,
without boilerplate or repetitions.  This package provides classes to
manipulate these types, using notions that are familiar to haskellers like
'Functor', 'Applicative' or 'Traversable'. For example, instead of writing
an ad-hoc function that checks that all fields have a correct value, like

@
checkPerson :: Person ('Either' 'String') -&gt; 'Either' ['String'] (Person 'Pure')
@

we can write only one such function:

@
check :: 'TraversableRec' rec =&gt; rec ('Either' 'String') -&gt; 'Either' ['String'] (rec 'Pure')
check be
  = case 'traverse' ('either' ('const' 'Nothing') 'Just') be of
      'Just' bi -&gt; 'Right' bi
      'Nothing' -&gt; 'Left' ('foldMap' ('either' (:[]) ('const' [])) be)
@

Moreover, these classes come with template-haskell functions to derive
the instances automatically, so that one can write:

@
import Data.EvalRecord
import Data.EvalRecord.TH

mkEvalRecord [d|
  data Bump = Bump
    { bump :: Maybe Int
    , bomp :: Bool
    , bamp :: String
    } deriving (Read, Show, Eq, Ord)
  |]
@
-}</span></span><span>
</span><span id="line-123"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Data.EvalRecord.html"><span class="hs-identifier">Data.EvalRecord</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-124"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Type Witnesses</span></span><span>
</span><span id="line-125"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#WitnessFieldTypes"><span class="hs-identifier">WitnessFieldTypes</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-126"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier">Metadata</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Lenses</span></span><span>
</span><span id="line-129"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#LensRec"><span class="hs-identifier">LensRec</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-130"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#getLens"><span class="hs-identifier">getLens</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-131"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#nestLens"><span class="hs-identifier">nestLens</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Functor</span></span><span>
</span><span id="line-134"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#FunctorRec"><span class="hs-identifier">FunctorRec</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Traversable</span></span><span>
</span><span id="line-137"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#TraversableRec"><span class="hs-identifier">TraversableRec</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Utility functions</span></span><span>
</span><span id="line-140"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#for"><span class="hs-identifier">Data.EvalRecord.for</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-141"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#for_"><span class="hs-identifier">Data.EvalRecord.for_</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-142"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#foldMap"><span class="hs-identifier">Data.EvalRecord.foldMap</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-143"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#sequence"><span class="hs-identifier">Data.EvalRecord.sequence</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-144"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#sequence%27"><span class="hs-identifier">Data.EvalRecord.sequence'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Distributive</span></span><span>
</span><span id="line-147"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#DistributiveRec"><span class="hs-identifier">DistributiveRec</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-148"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#distribute%27"><span class="hs-identifier">Data.EvalRecord.distribute'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-149"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#cotraverse"><span class="hs-identifier">Data.EvalRecord.cotraverse</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-150"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#decompose"><span class="hs-identifier">Data.EvalRecord.decompose</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-151"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#recompose"><span class="hs-identifier">Data.EvalRecord.recompose</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Applicative</span></span><span>
</span><span id="line-154"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#ApplicativeRec"><span class="hs-identifier">ApplicativeRec</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-155"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#Tuple2"><span class="hs-identifier">Tuple2</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Utility functions</span></span><span>
</span><span id="line-158"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#zip"><span class="hs-identifier">Data.EvalRecord.zip</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-159"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#unzip"><span class="hs-identifier">Data.EvalRecord.unzip</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-160"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#zipWith"><span class="hs-identifier">Data.EvalRecord.zipWith</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-161"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#zipWith3"><span class="hs-identifier">Data.EvalRecord.zipWith3</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-162"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#zipWith4"><span class="hs-identifier">Data.EvalRecord.zipWith4</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Constraints</span></span><span>
</span><span id="line-165"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#ConstraintsRec"><span class="hs-identifier">ConstraintsRec</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-166"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#AllRecF"><span class="hs-identifier">AllRecF</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-167"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#ClassF"><span class="hs-identifier">ClassF</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-168"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#ClassFG"><span class="hs-identifier">ClassFG</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#%26"><span class="hs-operator">(&amp;)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-170"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#Dict"><span class="hs-identifier">Dict</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Utility functions</span></span><span>
</span><span id="line-173"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#dicts"><span class="hs-identifier">dicts</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-174"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#requiringDict"><span class="hs-identifier">requiringDict</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-175"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#mapC"><span class="hs-identifier">mapC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-176"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#foldMapC"><span class="hs-identifier">foldMapC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-177"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#traverseC"><span class="hs-identifier">traverseC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-178"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#forC"><span class="hs-identifier">forC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-179"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#zipWithC"><span class="hs-identifier">zipWithC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-180"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#zipWith3C"><span class="hs-identifier">zipWith3C</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-181"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#zipWith4C"><span class="hs-identifier">zipWith4C</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-182"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#pureC"><span class="hs-identifier">pureC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-183"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#mempty"><span class="hs-identifier">Data.EvalRecord.mempty</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Partial record mapping</span></span><span>
</span><span id="line-186"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#MapMatches"><span class="hs-identifier">MapMatches</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-187"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#ValueOnMatch"><span class="hs-identifier">ValueOnMatch</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-188"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#ApplyOnMatch"><span class="hs-identifier">ApplyOnMatch</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-189"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#mapMatching"><span class="hs-identifier">mapMatching</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-190"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#applyPred"><span class="hs-identifier">applyPred</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Reexports</span></span><span>
</span><span id="line-193"></span><span>  </span><span class="hs-keyword">module</span><span> </span><span class="annot"><span class="hs-identifier">Fcf</span></span><span class="hs-special">,</span><span>
</span><span id="line-194"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bifunctor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">first</span></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Kind</span></span><span>
</span><span id="line-198"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NE</span></span><span>
</span><span id="line-199"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Proxy</span></span><span>
</span><span id="line-200"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Typeable</span></span><span>
</span><span id="line-201"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Fcf</span></span><span>
</span><span id="line-202"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Unsafe.Coerce</span></span><span>
</span><span id="line-203"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-204"></span><span>  </span><span class="annot"><span class="hs-identifier">map</span></span><span class="hs-special">,</span><span>
</span><span id="line-205"></span><span>  </span><span class="annot"><span class="hs-identifier">pure</span></span><span class="hs-special">,</span><span>
</span><span id="line-206"></span><span>  </span><span class="annot"><span class="hs-identifier">zipWith</span></span><span class="hs-special">,</span><span>
</span><span id="line-207"></span><span>  </span><span class="annot"><span class="hs-identifier">zipWith3</span></span><span class="hs-special">,</span><span>
</span><span id="line-208"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span class="hs-comment">-- ---------------------------------------------------------------------</span><span>
</span><span id="line-213"></span><span class="hs-comment">-- We roll our own State/efficient-Writer monad, not to add dependencies</span><span>
</span><span id="line-214"></span><span class="hs-comment">-- ---------------------------------------------------------------------</span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span class="hs-keyword">newtype</span><span> </span><span id="St"><span class="annot"><a href="Data.EvalRecord.html#St"><span class="hs-identifier hs-var">St</span></a></span></span><span> </span><span id="local-6989586621680156639"><span class="annot"><a href="#local-6989586621680156639"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621680156640"><span class="annot"><a href="#local-6989586621680156640"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-217"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="St"><span class="annot"><a href="Data.EvalRecord.html#St"><span class="hs-identifier hs-var">St</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156639"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156640"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680156639"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span id="local-6989586621680156624"><span id="local-6989586621680156625"><span class="annot"><a href="Data.EvalRecord.html#runSt"><span class="hs-identifier hs-type">runSt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680156624"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#St"><span class="hs-identifier hs-type">St</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156624"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156625"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156625"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680156624"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-221"></span><span id="runSt"><span class="annot"><span class="annottext">runSt :: forall s a. s -&gt; St s a -&gt; (a, s)
</span><a href="Data.EvalRecord.html#runSt"><span class="hs-identifier hs-var hs-var">runSt</span></a></span></span><span> </span><span id="local-6989586621680157203"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680157203"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#St"><span class="hs-identifier hs-type">St</span></a></span><span> </span><span id="local-6989586621680157204"><span class="annot"><span class="annottext">s -&gt; (a, s)
</span><a href="#local-6989586621680157204"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-222"></span><span>  </span><span class="annot"><span class="annottext">s -&gt; (a, s)
</span><a href="#local-6989586621680157204"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680157203"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680156635"><span id="local-6989586621680157207"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#St"><span class="hs-identifier hs-type">St</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156635"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-226"></span><span>  </span><span id="local-6989586621680157213"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; St s a -&gt; St s b
</span><span class="hs-identifier hs-var hs-var hs-var">fmap</span></span></span><span> </span><span id="local-6989586621680157214"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621680157214"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#St"><span class="hs-identifier hs-type">St</span></a></span><span> </span><span id="local-6989586621680157215"><span class="annot"><span class="annottext">s -&gt; (a, s)
</span><a href="#local-6989586621680157215"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-227"></span><span>    </span><span class="annot"><span class="annottext">(s -&gt; (b, s)) -&gt; St s b
forall s a. (s -&gt; (a, s)) -&gt; St s a
</span><a href="Data.EvalRecord.html#St"><span class="hs-identifier hs-var">St</span></a></span><span> </span><span class="annot"><span class="annottext">((s -&gt; (b, s)) -&gt; St s b) -&gt; (s -&gt; (b, s)) -&gt; St s b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; (a, s) -&gt; (b, s)
forall a b c. (a -&gt; b) -&gt; (a, c) -&gt; (b, c)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><span class="hs-identifier hs-var">first</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621680157214"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">((a, s) -&gt; (b, s)) -&gt; (s -&gt; (a, s)) -&gt; s -&gt; (b, s)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">s -&gt; (a, s)
</span><a href="#local-6989586621680157215"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-228"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">fmap</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680156664"><span id="local-6989586621680157222"><span id="local-6989586621680157226"><span id="local-6989586621680157229"><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#St"><span class="hs-identifier hs-type">St</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156664"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-232"></span><span>  </span><span id="local-6989586621680157232"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; St s a
</span><span class="hs-identifier hs-var hs-var hs-var">pure</span></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-233"></span><span>    </span><span class="annot"><span class="annottext">(s -&gt; (a, s)) -&gt; St s a
forall s a. (s -&gt; (a, s)) -&gt; St s a
</span><a href="Data.EvalRecord.html#St"><span class="hs-identifier hs-var">St</span></a></span><span> </span><span class="annot"><span class="annottext">((s -&gt; (a, s)) -&gt; St s a) -&gt; (a -&gt; s -&gt; (a, s)) -&gt; a -&gt; St s a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span>
</span><span id="line-234"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">pure</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#St"><span class="hs-identifier hs-type">St</span></a></span><span> </span><span id="local-6989586621680157233"><span class="annot"><span class="annottext">s -&gt; (a -&gt; b, s)
</span><a href="#local-6989586621680157233"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680157234"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b. St s (a -&gt; b) -&gt; St s a -&gt; St s b
</span><span class="hs-operator hs-var hs-var hs-var">&lt;*&gt;</span></span></span><span> </span><span class="annot"><a href="Data.EvalRecord.html#St"><span class="hs-identifier hs-type">St</span></a></span><span> </span><span id="local-6989586621680157235"><span class="annot"><span class="annottext">s -&gt; (a, s)
</span><a href="#local-6989586621680157235"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-238"></span><span>    </span><span class="annot"><span class="annottext">(s -&gt; (b, s)) -&gt; St s b
forall s a. (s -&gt; (a, s)) -&gt; St s a
</span><a href="Data.EvalRecord.html#St"><span class="hs-identifier hs-var">St</span></a></span><span> </span><span class="annot"><span class="annottext">((s -&gt; (b, s)) -&gt; St s b) -&gt; (s -&gt; (b, s)) -&gt; St s b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680157236"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680157236"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-239"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680157237"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621680157237"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680157238"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680157238"><span class="hs-identifier hs-var">s'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">s -&gt; (a -&gt; b, s)
</span><a href="#local-6989586621680157233"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680157236"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-240"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621680157239"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680157239"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680157240"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680157240"><span class="hs-identifier hs-var">s''</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">s -&gt; (a, s)
</span><a href="#local-6989586621680157235"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680157238"><span class="hs-identifier hs-var">s'</span></a></span><span>
</span><span id="line-241"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621680157237"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680157239"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680157240"><span class="hs-identifier hs-var">s''</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;*&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680156677"><span id="local-6989586621680157245"><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#St"><span class="hs-identifier hs-type">St</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156677"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-246"></span><span>  </span><span id="local-6989586621680157251"><span class="annot"><span class="annottext">return :: forall a. a -&gt; St s a
</span><span class="hs-identifier hs-var hs-var hs-var">return</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; St s a
forall a. a -&gt; St s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">Prelude.pure</span></span><span>
</span><span id="line-247"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">return</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span>  </span><span class="annot"><a href="Data.EvalRecord.html#St"><span class="hs-identifier hs-type">St</span></a></span><span> </span><span id="local-6989586621680157252"><span class="annot"><span class="annottext">s -&gt; (a, s)
</span><a href="#local-6989586621680157252"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span id="local-6989586621680157253"><span class="annot"><span class="annottext">&gt;&gt;= :: forall a b. St s a -&gt; (a -&gt; St s b) -&gt; St s b
</span><span class="hs-operator hs-var hs-var hs-var">&gt;&gt;=</span></span></span><span> </span><span id="local-6989586621680157254"><span class="annot"><span class="annottext">a -&gt; St s b
</span><a href="#local-6989586621680157254"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-251"></span><span>    </span><span class="annot"><span class="annottext">(s -&gt; (b, s)) -&gt; St s b
forall s a. (s -&gt; (a, s)) -&gt; St s a
</span><a href="Data.EvalRecord.html#St"><span class="hs-identifier hs-var">St</span></a></span><span> </span><span class="annot"><span class="annottext">((s -&gt; (b, s)) -&gt; St s b) -&gt; (s -&gt; (b, s)) -&gt; St s b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680157255"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680157255"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-252"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-253"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621680157256"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680157256"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621680157257"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680157257"><span class="hs-identifier hs-var">s'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">s -&gt; (a, s)
</span><a href="#local-6989586621680157252"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680157255"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-254"></span><span>        </span><span class="annot"><a href="Data.EvalRecord.html#St"><span class="hs-identifier hs-type">St</span></a></span><span> </span><span id="local-6989586621680157258"><span class="annot"><span class="annottext">s -&gt; (b, s)
</span><a href="#local-6989586621680157258"><span class="hs-identifier hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; St s b
</span><a href="#local-6989586621680157254"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680157256"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-255"></span><span>      </span><span class="hs-keyword">in</span><span>
</span><span id="line-256"></span><span>        </span><span class="annot"><span class="annottext">s -&gt; (b, s)
</span><a href="#local-6989586621680157258"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680157257"><span class="hs-identifier hs-var">s'</span></a></span><span>
</span><span id="line-257"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&gt;&gt;=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-258"></span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span class="hs-keyword">type</span><span> </span><span id="Wr"><span class="annot"><a href="Data.EvalRecord.html#Wr"><span class="hs-identifier hs-var">Wr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#St"><span class="hs-identifier hs-type">St</span></a></span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span>
</span><span id="line-263"></span><span id="local-6989586621680156681"><span id="local-6989586621680156682"><span class="annot"><a href="Data.EvalRecord.html#execWr"><span class="hs-identifier hs-type">execWr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621680156681"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Wr"><span class="hs-identifier hs-type">Wr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156681"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156682"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156681"><span class="hs-identifier hs-type">w</span></a></span></span></span><span>
</span><span id="line-264"></span><span id="execWr"><span class="annot"><span class="annottext">execWr :: forall w a. Monoid w =&gt; Wr w a -&gt; w
</span><a href="Data.EvalRecord.html#execWr"><span class="hs-identifier hs-var hs-var">execWr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-265"></span><span>  </span><span class="annot"><span class="annottext">(a, w) -&gt; w
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((a, w) -&gt; w) -&gt; (Wr w a -&gt; (a, w)) -&gt; Wr w a -&gt; w
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">w -&gt; Wr w a -&gt; (a, w)
forall s a. s -&gt; St s a -&gt; (a, s)
</span><a href="Data.EvalRecord.html#runSt"><span class="hs-identifier hs-var">runSt</span></a></span><span> </span><span class="annot"><span class="annottext">w
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">Prelude.mempty</span></span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span id="local-6989586621680156689"><span class="annot"><a href="Data.EvalRecord.html#tell"><span class="hs-identifier hs-type">tell</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621680156689"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156689"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Wr"><span class="hs-identifier hs-type">Wr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156689"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-269"></span><span id="tell"><span class="annot"><span class="annottext">tell :: forall w. Monoid w =&gt; w -&gt; Wr w ()
</span><a href="Data.EvalRecord.html#tell"><span class="hs-identifier hs-var hs-var">tell</span></a></span></span><span> </span><span id="local-6989586621680157266"><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621680157266"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-270"></span><span>  </span><span class="annot"><span class="annottext">(w -&gt; ((), w)) -&gt; St w ()
forall s a. (s -&gt; (a, s)) -&gt; St s a
</span><a href="Data.EvalRecord.html#St"><span class="hs-identifier hs-var">St</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680157267"><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621680157267"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621680157267"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">w -&gt; w -&gt; w
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621680157266"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span class="annot"><span class="hs-comment">{- | A first-class-families version of 'Data.Functor.Product.Product'.

When used with `Eval`, it resolves in a tuple of the applied type-level functions.
-}</span></span><span>
</span><span id="line-277"></span><span class="hs-keyword">data</span><span> </span><span id="Tuple2"><span class="annot"><a href="Data.EvalRecord.html#Tuple2"><span class="hs-identifier hs-var">Tuple2</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Eval"><span class="annot"><span class="hs-identifier hs-var">Eval</span></span></span><span> </span><span id="local-6989586621680157268"><span id="local-6989586621680157269"><span id="local-6989586621680157270"><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#Tuple2"><span class="hs-identifier hs-type">Tuple2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157268"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157269"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157270"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157268"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157270"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680157269"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157270"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span class="hs-keyword">data</span><span> </span><span id="LensRec"><span class="annot"><a href="Data.EvalRecord.html#LensRec"><span class="hs-identifier hs-var">LensRec</span></a></span></span><span> </span><span id="local-6989586621680156692"><span class="annot"><a href="#local-6989586621680156692"><span class="hs-identifier hs-type">rec</span></a></span></span><span> </span><span id="local-6989586621680156693"><span class="annot"><a href="#local-6989586621680156693"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LensRec"><span class="annot"><a href="Data.EvalRecord.html#LensRec"><span class="hs-identifier hs-var">LensRec</span></a></span></span><span>
</span><span id="line-284"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="view"><span class="annot"><span class="annottext">forall {k} (rec :: (k -&gt; * -&gt; *) -&gt; *) (a :: k).
LensRec rec a -&gt; forall (f :: k -&gt; * -&gt; *). rec f -&gt; f @@ a
</span><a href="Data.EvalRecord.html#view"><span class="hs-identifier hs-var hs-var">view</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156695"><span class="annot"><a href="#local-6989586621680156695"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621680156692"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156695"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156695"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156693"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-285"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="set"><span class="annot"><span class="annottext">forall {k} (rec :: (k -&gt; * -&gt; *) -&gt; *) (a :: k).
LensRec rec a
-&gt; forall (f :: k -&gt; * -&gt; *). (f @@ a) -&gt; rec f -&gt; rec f
</span><a href="Data.EvalRecord.html#set"><span class="hs-identifier hs-var hs-var">set</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156701"><span class="annot"><a href="#local-6989586621680156701"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621680156701"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156693"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156692"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156701"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156692"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156701"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-286"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span id="local-6989586621680156707"><span id="local-6989586621680156709"><span id="local-6989586621680156710"><span class="annot"><a href="Data.EvalRecord.html#nestLens"><span class="hs-identifier hs-type">nestLens</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156708"><span class="annot"><a href="#local-6989586621680156708"><span class="hs-identifier hs-type">h</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621680156707"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156708"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156709"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156708"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156707"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156708"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680156709"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156708"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#LensRec"><span class="hs-identifier hs-type">LensRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156709"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156710"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#LensRec"><span class="hs-identifier hs-type">LensRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156707"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156710"><span class="hs-identifier hs-type">c</span></a></span></span></span></span><span>
</span><span id="line-290"></span><span id="nestLens"><span class="annot"><span class="annottext">nestLens :: forall {k} (a :: (k -&gt; * -&gt; *) -&gt; *) (b :: (k -&gt; * -&gt; *) -&gt; *)
       (c :: k).
(forall (h :: k -&gt; * -&gt; *). a h -&gt; (b h -&gt; a h, b h))
-&gt; LensRec b c -&gt; LensRec a c
</span><a href="Data.EvalRecord.html#nestLens"><span class="hs-identifier hs-var hs-var">nestLens</span></a></span></span><span> </span><span id="local-6989586621680157274"><span class="annot"><span class="annottext">forall (h :: k -&gt; * -&gt; *). a h -&gt; (b h -&gt; a h, b h)
</span><a href="#local-6989586621680157274"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#LensRec"><span class="hs-identifier hs-type">LensRec</span></a></span><span> </span><span id="local-6989586621680157275"><span class="annot"><span class="annottext">forall (f :: k -&gt; * -&gt; *). b f -&gt; f @@ c
</span><a href="#local-6989586621680157275"><span class="hs-identifier hs-var">lv</span></a></span></span><span> </span><span id="local-6989586621680157276"><span class="annot"><span class="annottext">forall (f :: k -&gt; * -&gt; *). (f @@ c) -&gt; b f -&gt; b f
</span><a href="#local-6989586621680157276"><span class="hs-identifier hs-var">ls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-291"></span><span>  </span><span class="annot"><span class="annottext">(forall (f :: k -&gt; * -&gt; *). a f -&gt; f @@ c)
-&gt; (forall (f :: k -&gt; * -&gt; *). (f @@ c) -&gt; a f -&gt; a f)
-&gt; LensRec a c
forall {k} (rec :: (k -&gt; * -&gt; *) -&gt; *) (a :: k).
(forall (f :: k -&gt; * -&gt; *). rec f -&gt; f @@ a)
-&gt; (forall (f :: k -&gt; * -&gt; *). (f @@ a) -&gt; rec f -&gt; rec f)
-&gt; LensRec rec a
</span><a href="Data.EvalRecord.html#LensRec"><span class="hs-identifier hs-var">LensRec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b f -&gt; Eval (f c)
forall (f :: k -&gt; * -&gt; *). b f -&gt; f @@ c
</span><a href="#local-6989586621680157275"><span class="hs-identifier hs-var">lv</span></a></span><span> </span><span class="annot"><span class="annottext">(b f -&gt; Eval (f c)) -&gt; (a f -&gt; b f) -&gt; a f -&gt; Eval (f c)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(b f -&gt; a f, b f) -&gt; b f
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((b f -&gt; a f, b f) -&gt; b f)
-&gt; (a f -&gt; (b f -&gt; a f, b f)) -&gt; a f -&gt; b f
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a f -&gt; (b f -&gt; a f, b f)
forall (h :: k -&gt; * -&gt; *). a h -&gt; (b h -&gt; a h, b h)
</span><a href="#local-6989586621680157274"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680157277"><span class="annot"><span class="annottext">f @@ c
</span><a href="#local-6989586621680157277"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621680157278"><span class="annot"><span class="annottext">a f
</span><a href="#local-6989586621680157278"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680157279"><span class="annot"><span class="annottext">b f -&gt; a f
</span><a href="#local-6989586621680157279"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680157280"><span class="annot"><span class="annottext">b f
</span><a href="#local-6989586621680157280"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a f -&gt; (b f -&gt; a f, b f)
forall (h :: k -&gt; * -&gt; *). a h -&gt; (b h -&gt; a h, b h)
</span><a href="#local-6989586621680157274"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a f
</span><a href="#local-6989586621680157278"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">b f -&gt; a f
</span><a href="#local-6989586621680157279"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(f @@ c) -&gt; b f -&gt; b f
forall (f :: k -&gt; * -&gt; *). (f @@ c) -&gt; b f -&gt; b f
</span><a href="#local-6989586621680157276"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="annot"><span class="annottext">f @@ c
</span><a href="#local-6989586621680157277"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">b f
</span><a href="#local-6989586621680157280"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#nestLens"><span class="hs-pragma hs-type">nestLens</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span>
</span><span id="line-295"></span><span class="annot"><span class="hs-comment">-- | Obtain a van-laarhoven lens (compatible with the lens library) from 'LensRec'</span></span><span>
</span><span id="line-296"></span><span id="local-6989586621680156719"><span id="local-6989586621680156720"><span id="local-6989586621680156721"><span id="local-6989586621680156722"><span class="annot"><a href="Data.EvalRecord.html#getLens"><span class="hs-identifier hs-type">getLens</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621680156719"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#LensRec"><span class="hs-identifier hs-type">LensRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156720"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156721"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156722"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156721"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156719"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156722"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156721"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156720"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156722"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156719"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156720"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156722"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-297"></span><span id="getLens"><span class="annot"><span class="annottext">getLens :: forall {k1} (f :: * -&gt; *) (rec :: (k1 -&gt; * -&gt; *) -&gt; *) (a :: k1)
       (h :: k1 -&gt; * -&gt; *).
Functor f =&gt;
LensRec rec a -&gt; ((h @@ a) -&gt; f (h @@ a)) -&gt; rec h -&gt; f (rec h)
</span><a href="Data.EvalRecord.html#getLens"><span class="hs-identifier hs-var hs-var">getLens</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#LensRec"><span class="hs-identifier hs-type">LensRec</span></a></span><span> </span><span id="local-6989586621680157283"><span class="annot"><span class="annottext">forall (f :: k1 -&gt; * -&gt; *). rec f -&gt; f @@ a
</span><a href="#local-6989586621680157283"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680157284"><span class="annot"><span class="annottext">forall (f :: k1 -&gt; * -&gt; *). (f @@ a) -&gt; rec f -&gt; rec f
</span><a href="#local-6989586621680157284"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680157285"><span class="annot"><span class="annottext">(h @@ a) -&gt; f (h @@ a)
</span><a href="#local-6989586621680157285"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680157286"><span class="annot"><span class="annottext">rec h
</span><a href="#local-6989586621680157286"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680157287"><span class="annot"><span class="annottext">h @@ a
</span><a href="#local-6989586621680157287"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(h @@ a) -&gt; rec h -&gt; rec h
forall (f :: k1 -&gt; * -&gt; *). (f @@ a) -&gt; rec f -&gt; rec f
</span><a href="#local-6989586621680157284"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">h @@ a
</span><a href="#local-6989586621680157287"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">rec h
</span><a href="#local-6989586621680157286"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((h @@ a) -&gt; rec h) -&gt; f (h @@ a) -&gt; f (rec h)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(h @@ a) -&gt; f (h @@ a)
</span><a href="#local-6989586621680157285"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">rec h -&gt; h @@ a
forall (f :: k1 -&gt; * -&gt; *). rec f -&gt; f @@ a
</span><a href="#local-6989586621680157283"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">rec h
</span><a href="#local-6989586621680157286"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-298"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#getLens"><span class="hs-pragma hs-type">getLens</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-299"></span><span>
</span><span id="line-300"></span><span>
</span><span id="line-301"></span><span class="annot"><span class="hs-comment">{- | A type witness for a field of type @a@.

For convenience, it also carries `Typeable` evidence and the name of the field.
-}</span></span><span>
</span><span id="line-305"></span><span class="hs-keyword">data</span><span> </span><span id="Metadata"><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-var">Metadata</span></a></span></span><span> </span><span id="local-6989586621680157289"><span class="annot"><a href="#local-6989586621680157289"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-306"></span><span>  </span><span id="local-6989586621680156732"><span id="Metadata"><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-var">Metadata</span></a></span></span><span>
</span><span id="line-307"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="annot"><a href="#local-6989586621680156732"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-308"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">{</span><span> </span><span id="name"><span class="annot"><span class="annottext">forall {k} (a :: k). Metadata a -&gt; String
</span><a href="Data.EvalRecord.html#name"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-309"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-310"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156732"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span class="annot"><span class="hs-comment">{- | Functions that try to convert from f @@ a to some other type don't work without a little
help due to injectivity. This class provides that help by providing a function that provides
a witness of the type of a for each field of the record.
-}</span></span><span>
</span><span id="line-317"></span><span class="hs-keyword">class</span><span> </span><span id="WitnessFieldTypes"><span class="annot"><a href="Data.EvalRecord.html#WitnessFieldTypes"><span class="hs-identifier hs-var">WitnessFieldTypes</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680156736"><span class="annot"><a href="#local-6989586621680156736"><span class="hs-identifier hs-type">rec</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-318"></span><span>  </span><span id="typeName"><span class="annot"><a href="Data.EvalRecord.html#typeName"><span class="hs-identifier hs-type">typeName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621680156736"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-319"></span><span>  </span><span class="hs-keyword">default</span><span> </span><span id="typeName"><span class="annot"><a href="Data.EvalRecord.html#typeName"><span class="hs-identifier hs-type">typeName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="annot"><a href="#local-6989586621680156736"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621680156736"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-320"></span><span>  </span><span id="local-6989586621680157295"><span class="annot"><a href="Data.EvalRecord.html#typeName"><span class="hs-identifier hs-var hs-var">typeName</span></a></span><span> </span><span id="local-6989586621680157303"><span class="annot"><span class="annottext">Proxy rec
</span><a href="#local-6989586621680157303"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">TyCon -&gt; String
</span><span class="hs-identifier hs-var">tyConModule</span></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621680157306"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; String
</span><span class="hs-identifier hs-var">tyConName</span></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621680157306"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-321"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-322"></span><span>      </span><span id="local-6989586621680157306"><span class="annot"><span class="annottext">tc :: TyCon
</span><a href="#local-6989586621680157306"><span class="hs-identifier hs-var hs-var">tc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeRep -&gt; TyCon
</span><span class="hs-identifier hs-var">typeRepTyCon</span></span><span> </span><span class="annot"><span class="annottext">(TypeRep -&gt; TyCon) -&gt; TypeRep -&gt; TyCon
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Proxy rec -&gt; TypeRep
forall {k} (proxy :: k -&gt; *) (a :: k).
Typeable a =&gt;
proxy a -&gt; TypeRep
</span><span class="hs-identifier hs-var">typeRep</span></span><span> </span><span class="annot"><span class="annottext">Proxy rec
</span><a href="#local-6989586621680157303"><span class="hs-identifier hs-var">p</span></a></span></span><span>
</span><span id="line-323"></span><span>  </span><span id="typeProxies"><span class="annot"><a href="Data.EvalRecord.html#typeProxies"><span class="hs-identifier hs-type">typeProxies</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680156736"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure1</span></span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-324"></span><span>  </span><span id="getAccessors"><span class="annot"><a href="Data.EvalRecord.html#getAccessors"><span class="hs-identifier hs-type">getAccessors</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680156736"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#LensRec"><span class="hs-identifier hs-type">LensRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156736"><span class="hs-identifier hs-type">rec</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span>  </span><span id="nestedFieldNames"><span class="annot"><a href="Data.EvalRecord.html#nestedFieldNames"><span class="hs-identifier hs-type">nestedFieldNames</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680156736"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ConstFn</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NE.NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span class="annot"><span class="hs-comment">{- | Record-types that can be mapped over. Instances of 'FunctorRec' should
  satisfy the following laws:

@
'map' 'id' = 'id'
'map' f . 'map' g = 'map' (f . g)
@
-}</span></span><span>
</span><span id="line-336"></span><span class="hs-keyword">class</span><span> </span><span id="FunctorRec"><span class="annot"><a href="Data.EvalRecord.html#FunctorRec"><span class="hs-identifier hs-var">FunctorRec</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680156822"><span class="annot"><a href="#local-6989586621680156822"><span class="hs-identifier hs-type">rec</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-337"></span><span>  </span><span id="map"><span class="annot"><a href="Data.EvalRecord.html#map"><span class="hs-identifier hs-type">map</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621680156820"><span id="local-6989586621680156821"><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156819"><span class="annot"><a href="#local-6989586621680156819"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156819"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156820"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156819"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156821"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156819"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156822"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156820"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156822"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156821"><span class="hs-identifier hs-type">g</span></a></span></span></span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span class="annot"><span class="hs-comment">{- | Record-types that can be traversed from left to right. Instances should
  satisfy the following laws:

@
 t . 'traverse' f   = 'traverse' (t . f)  -- naturality
'traverse' 'Data.Functor.Identity' = 'Data.Functor.Identity'           -- identity
'traverse' ('fmap' g . f) = 'fmap' ('traverse' g) . 'traverse' f -- composition
@
-}</span></span><span>
</span><span id="line-349"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#FunctorRec"><span class="hs-identifier hs-type">FunctorRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156748"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="TraversableRec"><span class="annot"><a href="Data.EvalRecord.html#TraversableRec"><span class="hs-identifier hs-var">TraversableRec</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680156748"><span class="annot"><a href="#local-6989586621680156748"><span class="hs-identifier hs-type">rec</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-350"></span><span>  </span><span id="traverse"><span class="annot"><a href="Data.EvalRecord.html#traverse"><span class="hs-identifier hs-type">traverse</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621680156762"><span id="local-6989586621680156764"><span id="local-6989586621680156765"><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621680156762"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156763"><span class="annot"><a href="#local-6989586621680156763"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156763"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156764"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156763"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156762"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156765"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156763"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156748"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156764"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156762"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156748"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156765"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-351"></span><span>
</span><span id="line-352"></span><span>
</span><span id="line-353"></span><span>  </span><span class="hs-comment">-- | Map each element to an action, evaluate these actions from left to right,</span><span>
</span><span id="line-354"></span><span>  </span><span class="hs-comment">--   and ignore the results.</span><span>
</span><span id="line-355"></span><span>  </span><span id="traverse_"><span class="annot"><a href="Data.EvalRecord.html#traverse_"><span class="hs-identifier hs-type">traverse_</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621680156776"><span id="local-6989586621680156778"><span id="local-6989586621680156779"><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621680156776"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156777"><span class="annot"><a href="#local-6989586621680156777"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156777"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156778"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156777"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156776"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156779"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156748"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156778"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156776"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-356"></span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span class="annot"><span class="hs-comment">{- | A 'FunctorRec' with application, providing operations to:

    * embed an &quot;empty&quot; value ('pure')

    * align and combine values ('prod')

 It should satisfy the following laws:

 [Naturality of 'prod']

@
'map' (\(a, b) -&gt; (f a, g b)) (u `'prod'` v) = 'map' f u `'prod'` 'map' g v
@


 [Left and right identity]

@
'map' (\(_, b) -&gt; b) ('pure' e `'prod'` v) = v
'map' (\(a, _) -&gt; a) (u `'prod'` 'pure' e) = u
@

[Associativity]

@
'map' (\(a, (b, c)) -&gt; ((a, b), c) (u `'prod'` (v `'prod'` w)) = (u `'prod'` v) `'prod'` w
@

 It is to 'FunctorRec' in the same way as 'Applicative'
 relates to 'Functor'. For a presentation of 'Applicative' as
 a monoidal functor, see Section 7 of
 &lt;http://www.soi.city.ac.uk/~ross/papers/Applicative.html Applicative Programming with Effects&gt;.
-}</span></span><span>
</span><span id="line-391"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#FunctorRec"><span class="hs-identifier hs-type">FunctorRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156751"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="ApplicativeRec"><span class="annot"><a href="Data.EvalRecord.html#ApplicativeRec"><span class="hs-identifier hs-var">ApplicativeRec</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680156751"><span class="annot"><a href="#local-6989586621680156751"><span class="hs-identifier hs-type">rec</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-392"></span><span>  </span><span id="pure"><span class="annot"><a href="Data.EvalRecord.html#pure"><span class="hs-identifier hs-type">pure</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621680157033"><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680157032"><span class="annot"><a href="#local-6989586621680157032"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157032"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157033"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157032"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156751"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157033"><span class="hs-identifier hs-type">f</span></a></span></span><span>
</span><span id="line-393"></span><span>  </span><span id="prod"><span class="annot"><a href="Data.EvalRecord.html#prod"><span class="hs-identifier hs-type">prod</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621680156811"><span id="local-6989586621680156812"><span class="annot"><a href="#local-6989586621680156751"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156811"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156751"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156812"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156751"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#Tuple2"><span class="hs-identifier hs-type">Tuple2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156811"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156812"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span><span class="annot"><span class="hs-comment">{- | 'traverse' with the arguments flipped. Useful when the traversing function is a large lambda:

@
for someRecord $ \fa -&gt; ...
@

@since 0.0.1.0
-}</span></span><span>
</span><span id="line-404"></span><span id="local-6989586621680156753"><span id="local-6989586621680156754"><span id="local-6989586621680156755"><span id="local-6989586621680156757"><span class="annot"><a href="Data.EvalRecord.html#for"><span class="hs-identifier hs-type">for</span></a></span><span>
</span><span id="line-405"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#TraversableRec"><span class="hs-identifier hs-type">TraversableRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156753"><span class="hs-identifier hs-type">rec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621680156754"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-406"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156753"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156755"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-407"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156756"><span class="annot"><a href="#local-6989586621680156756"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156756"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156755"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156756"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156754"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156757"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156756"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-408"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156754"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156753"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156757"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-409"></span><span id="for"><span class="annot"><span class="annottext">for :: forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (e :: * -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
(TraversableRec rec, Applicative e) =&gt;
rec f
-&gt; (forall a. Metadata a -&gt; (f @@ a) -&gt; e (g @@ a)) -&gt; e (rec g)
</span><a href="Data.EvalRecord.html#for"><span class="hs-identifier hs-var hs-var">for</span></a></span></span><span> </span><span id="local-6989586621680157324"><span class="annot"><span class="annottext">rec f
</span><a href="#local-6989586621680157324"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680157325"><span class="annot"><span class="annottext">forall a. Metadata a -&gt; (f @@ a) -&gt; e (g @@ a)
</span><a href="#local-6989586621680157325"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a. Metadata a -&gt; (f @@ a) -&gt; e (g @@ a))
-&gt; rec f -&gt; e (rec g)
forall (e :: * -&gt; *) (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
Applicative e =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; e (g @@ a))
-&gt; rec f -&gt; e (rec g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (e :: * -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
(TraversableRec rec, Applicative e) =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; e (g @@ a))
-&gt; rec f -&gt; e (rec g)
</span><a href="Data.EvalRecord.html#traverse"><span class="hs-identifier hs-var">Data.EvalRecord.traverse</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a -&gt; (f @@ a) -&gt; e (g @@ a)
forall a. Metadata a -&gt; (f @@ a) -&gt; e (g @@ a)
</span><a href="#local-6989586621680157325"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">rec f
</span><a href="#local-6989586621680157324"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-410"></span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span id="local-6989586621680156767"><span id="local-6989586621680156768"><span id="local-6989586621680156769"><span id="local-6989586621680156771"><span class="annot"><a href="Data.EvalRecord.html#for_"><span class="hs-identifier hs-type">for_</span></a></span><span>
</span><span id="line-413"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#TraversableRec"><span class="hs-identifier hs-type">TraversableRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156767"><span class="hs-identifier hs-type">rec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621680156768"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-414"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156767"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156769"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-415"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156770"><span class="annot"><a href="#local-6989586621680156770"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156770"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156769"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156770"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156768"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156771"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-416"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156768"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-417"></span><span id="for_"><span class="annot"><span class="annottext">for_ :: forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (e :: * -&gt; *) (f :: * -&gt; * -&gt; *)
       c.
(TraversableRec rec, Applicative e) =&gt;
rec f -&gt; (forall a. Metadata a -&gt; (f @@ a) -&gt; e c) -&gt; e ()
</span><a href="Data.EvalRecord.html#for_"><span class="hs-identifier hs-var hs-var">for_</span></a></span></span><span> </span><span id="local-6989586621680157330"><span class="annot"><span class="annottext">rec f
</span><a href="#local-6989586621680157330"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680157331"><span class="annot"><span class="annottext">forall a. Metadata a -&gt; (f @@ a) -&gt; e c
</span><a href="#local-6989586621680157331"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a. Metadata a -&gt; (f @@ a) -&gt; e c) -&gt; rec f -&gt; e ()
forall (e :: * -&gt; *) (f :: * -&gt; * -&gt; *) c.
Applicative e =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; e c) -&gt; rec f -&gt; e ()
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (e :: * -&gt; *) (f :: * -&gt; * -&gt; *)
       c.
(TraversableRec rec, Applicative e) =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; e c) -&gt; rec f -&gt; e ()
</span><a href="Data.EvalRecord.html#traverse_"><span class="hs-identifier hs-var">Data.EvalRecord.traverse_</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a -&gt; (f @@ a) -&gt; e c
forall a. Metadata a -&gt; (f @@ a) -&gt; e c
</span><a href="#local-6989586621680157331"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">rec f
</span><a href="#local-6989586621680157330"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-418"></span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span class="annot"><span class="hs-comment">{- | Evaluate each action in the structure from left to right,
  and collect the results.
-}</span></span><span>
</span><span id="line-423"></span><span id="local-6989586621680156781"><span id="local-6989586621680156782"><span id="local-6989586621680156784"><span class="annot"><a href="Data.EvalRecord.html#sequence"><span class="hs-identifier hs-type">sequence</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621680156781"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#TraversableRec"><span class="hs-identifier hs-type">TraversableRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156782"><span class="hs-identifier hs-type">rec</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156782"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure1</span></span><span> </span><span class="annot"><a href="#local-6989586621680156781"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=&lt;</span></span><span> </span><span class="annot"><a href="#local-6989586621680156784"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156781"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156782"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156784"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-424"></span><span id="sequence"><span class="annot"><span class="annottext">sequence :: forall (e :: * -&gt; *) (rec :: (* -&gt; * -&gt; *) -&gt; *)
       (f :: * -&gt; * -&gt; *).
(Applicative e, TraversableRec rec) =&gt;
rec (Pure1 e &lt;=&lt; f) -&gt; e (rec f)
</span><a href="Data.EvalRecord.html#sequence"><span class="hs-identifier hs-var hs-var">sequence</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a. Metadata a -&gt; ((Pure1 e &lt;=&lt; f) @@ a) -&gt; e (f @@ a))
-&gt; rec (Pure1 e &lt;=&lt; f) -&gt; e (rec f)
forall (e :: * -&gt; *) (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
Applicative e =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; e (g @@ a))
-&gt; rec f -&gt; e (rec g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (e :: * -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
(TraversableRec rec, Applicative e) =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; e (g @@ a))
-&gt; rec f -&gt; e (rec g)
</span><a href="Data.EvalRecord.html#traverse"><span class="hs-identifier hs-var">Data.EvalRecord.traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Metadata a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680157336"><span class="annot"><span class="annottext">(Pure1 e &lt;=&lt; f) @@ a
</span><a href="#local-6989586621680157336"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">e (f @@ a)
(Pure1 e &lt;=&lt; f) @@ a
</span><a href="#local-6989586621680157336"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-425"></span><span>
</span><span id="line-426"></span><span>
</span><span id="line-427"></span><span class="annot"><span class="hs-comment">-- | A version of 'sequence' with @f@ specialized to 'Pure'.</span></span><span>
</span><span id="line-428"></span><span id="local-6989586621680156790"><span id="local-6989586621680156791"><span class="annot"><a href="Data.EvalRecord.html#sequence%27"><span class="hs-identifier hs-type">sequence'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621680156790"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#TraversableRec"><span class="hs-identifier hs-type">TraversableRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156791"><span class="hs-identifier hs-type">rec</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156791"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure1</span></span><span> </span><span class="annot"><a href="#local-6989586621680156790"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156790"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156791"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pure</span></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-429"></span><span id="sequence%27"><span class="annot"><span class="annottext">sequence' :: forall (e :: * -&gt; *) (rec :: (* -&gt; * -&gt; *) -&gt; *).
(Applicative e, TraversableRec rec) =&gt;
rec (Pure1 e) -&gt; e (rec Pure)
</span><a href="Data.EvalRecord.html#sequence%27"><span class="hs-identifier hs-var hs-var">sequence'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a. Metadata a -&gt; (Pure1 e @@ a) -&gt; e (Pure @@ a))
-&gt; rec (Pure1 e) -&gt; e (rec Pure)
forall (e :: * -&gt; *) (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
Applicative e =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; e (g @@ a))
-&gt; rec f -&gt; e (rec g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (e :: * -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
(TraversableRec rec, Applicative e) =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; e (g @@ a))
-&gt; rec f -&gt; e (rec g)
</span><a href="Data.EvalRecord.html#traverse"><span class="hs-identifier hs-var">Data.EvalRecord.traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Metadata a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680157342"><span class="annot"><span class="annottext">Pure1 e @@ a
</span><a href="#local-6989586621680157342"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">e (Pure @@ a)
Pure1 e @@ a
</span><a href="#local-6989586621680157342"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-430"></span><span>
</span><span id="line-431"></span><span>
</span><span id="line-432"></span><span class="annot"><span class="hs-comment">-- | Map each element to a monoid, and combine the results.</span></span><span>
</span><span id="line-433"></span><span id="local-6989586621680156796"><span id="local-6989586621680156797"><span id="local-6989586621680156799"><span class="annot"><a href="Data.EvalRecord.html#foldMap"><span class="hs-identifier hs-type">foldMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#TraversableRec"><span class="hs-identifier hs-type">TraversableRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156796"><span class="hs-identifier hs-type">rec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621680156797"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156798"><span class="annot"><a href="#local-6989586621680156798"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156798"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156799"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156798"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156797"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156796"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156799"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156797"><span class="hs-identifier hs-type">m</span></a></span></span></span></span><span>
</span><span id="line-434"></span><span id="foldMap"><span class="annot"><span class="annottext">foldMap :: forall (rec :: (* -&gt; * -&gt; *) -&gt; *) m (f :: * -&gt; * -&gt; *).
(TraversableRec rec, Monoid m) =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; m) -&gt; rec f -&gt; m
</span><a href="Data.EvalRecord.html#foldMap"><span class="hs-identifier hs-var hs-var">foldMap</span></a></span></span><span> </span><span id="local-6989586621680157348"><span class="annot"><span class="annottext">forall a. Metadata a -&gt; (f @@ a) -&gt; m
</span><a href="#local-6989586621680157348"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Wr m () -&gt; m
forall w a. Monoid w =&gt; Wr w a -&gt; w
</span><a href="Data.EvalRecord.html#execWr"><span class="hs-identifier hs-var">execWr</span></a></span><span> </span><span class="annot"><span class="annottext">(Wr m () -&gt; m) -&gt; (rec f -&gt; Wr m ()) -&gt; rec f -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(forall a. Metadata a -&gt; (f @@ a) -&gt; Wr m ()) -&gt; rec f -&gt; Wr m ()
forall (e :: * -&gt; *) (f :: * -&gt; * -&gt; *) c.
Applicative e =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; e c) -&gt; rec f -&gt; e ()
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (e :: * -&gt; *) (f :: * -&gt; * -&gt; *)
       c.
(TraversableRec rec, Applicative e) =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; e c) -&gt; rec f -&gt; e ()
</span><a href="Data.EvalRecord.html#traverse_"><span class="hs-identifier hs-var">Data.EvalRecord.traverse_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680157350"><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157350"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621680157351"><span class="annot"><span class="annottext">f @@ a
</span><a href="#local-6989586621680157351"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m -&gt; Wr m ()
forall w. Monoid w =&gt; w -&gt; Wr w ()
</span><a href="Data.EvalRecord.html#tell"><span class="hs-identifier hs-var">tell</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Metadata a -&gt; (f @@ a) -&gt; m
forall a. Metadata a -&gt; (f @@ a) -&gt; m
</span><a href="#local-6989586621680157348"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157350"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f @@ a
</span><a href="#local-6989586621680157351"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-435"></span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span class="annot"><span class="hs-comment">-- | An alias of 'prod', since this is like a 'zip'.</span></span><span>
</span><span id="line-438"></span><span id="local-6989586621680156804"><span id="local-6989586621680156805"><span id="local-6989586621680156806"><span class="annot"><a href="Data.EvalRecord.html#zip"><span class="hs-identifier hs-type">zip</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ApplicativeRec"><span class="hs-identifier hs-type">ApplicativeRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156804"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156804"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156805"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156804"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156806"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156804"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#Tuple2"><span class="hs-identifier hs-type">Tuple2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156805"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156806"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-439"></span><span id="zip"><span class="annot"><span class="annottext">zip :: forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
</span><a href="Data.EvalRecord.html#zip"><span class="hs-identifier hs-var hs-var">zip</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">rec f -&gt; rec g -&gt; rec (Tuple2 f g)
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
</span><a href="Data.EvalRecord.html#prod"><span class="hs-identifier hs-var">prod</span></a></span><span>
</span><span id="line-440"></span><span>
</span><span id="line-441"></span><span>
</span><span id="line-442"></span><span class="annot"><span class="hs-comment">-- | An equivalent of 'unzip'.</span></span><span>
</span><span id="line-443"></span><span id="local-6989586621680156813"><span id="local-6989586621680156814"><span id="local-6989586621680156815"><span class="annot"><a href="Data.EvalRecord.html#unzip"><span class="hs-identifier hs-type">unzip</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ApplicativeRec"><span class="hs-identifier hs-type">ApplicativeRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156813"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156813"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#Tuple2"><span class="hs-identifier hs-type">Tuple2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156814"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156815"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156813"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156814"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680156813"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156815"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-444"></span><span id="unzip"><span class="annot"><span class="annottext">unzip :: forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
rec (Tuple2 f g) -&gt; (rec f, rec g)
</span><a href="Data.EvalRecord.html#unzip"><span class="hs-identifier hs-var hs-var">unzip</span></a></span></span><span> </span><span id="local-6989586621680157359"><span class="annot"><span class="annottext">rec (Tuple2 f g)
</span><a href="#local-6989586621680157359"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall a. Metadata a -&gt; (Tuple2 f g @@ a) -&gt; f @@ a)
-&gt; rec (Tuple2 f g) -&gt; rec f
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; rec f -&gt; rec g
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
FunctorRec rec =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; rec f -&gt; rec g
</span><a href="Data.EvalRecord.html#map"><span class="hs-identifier hs-var">Data.EvalRecord.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Metadata a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680157360"><span class="annot"><span class="annottext">f @@ a
</span><a href="#local-6989586621680157360"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Eval (g a)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">f @@ a
</span><a href="#local-6989586621680157360"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">rec (Tuple2 f g)
</span><a href="#local-6989586621680157359"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall a. Metadata a -&gt; (Tuple2 f g @@ a) -&gt; g @@ a)
-&gt; rec (Tuple2 f g) -&gt; rec g
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; rec f -&gt; rec g
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
FunctorRec rec =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; rec f -&gt; rec g
</span><a href="Data.EvalRecord.html#map"><span class="hs-identifier hs-var">Data.EvalRecord.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Metadata a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Eval (f a)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680157361"><span class="annot"><span class="annottext">g @@ a
</span><a href="#local-6989586621680157361"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">g @@ a
</span><a href="#local-6989586621680157361"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">rec (Tuple2 f g)
</span><a href="#local-6989586621680157359"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-445"></span><span>
</span><span id="line-446"></span><span>
</span><span id="line-447"></span><span class="annot"><span class="hs-comment">-- | An equivalent of 'Data.List.zipWith'.</span></span><span>
</span><span id="line-448"></span><span id="local-6989586621680156825"><span id="local-6989586621680156827"><span id="local-6989586621680156828"><span id="local-6989586621680156829"><span class="annot"><a href="Data.EvalRecord.html#zipWith"><span class="hs-identifier hs-type">zipWith</span></a></span><span>
</span><span id="line-449"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ApplicativeRec"><span class="hs-identifier hs-type">ApplicativeRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156825"><span class="hs-identifier hs-type">rec</span></a></span><span>
</span><span id="line-450"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156826"><span class="annot"><a href="#local-6989586621680156826"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156826"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156827"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156826"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156828"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156826"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156829"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156826"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-451"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156825"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156827"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-452"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156825"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156828"><span class="hs-identifier hs-type">g</span></a></span><span>
</span><span id="line-453"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156825"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156829"><span class="hs-identifier hs-type">h</span></a></span></span></span></span></span><span>
</span><span id="line-454"></span><span id="zipWith"><span class="annot"><span class="annottext">zipWith :: forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *) (h :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; (g @@ a) -&gt; h @@ a)
-&gt; rec f -&gt; rec g -&gt; rec h
</span><a href="Data.EvalRecord.html#zipWith"><span class="hs-identifier hs-var hs-var">zipWith</span></a></span></span><span> </span><span id="local-6989586621680157366"><span class="annot"><span class="annottext">forall a. Metadata a -&gt; (f @@ a) -&gt; (g @@ a) -&gt; h @@ a
</span><a href="#local-6989586621680157366"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680157367"><span class="annot"><span class="annottext">rec f
</span><a href="#local-6989586621680157367"><span class="hs-identifier hs-var">bf</span></a></span></span><span> </span><span id="local-6989586621680157368"><span class="annot"><span class="annottext">rec g
</span><a href="#local-6989586621680157368"><span class="hs-identifier hs-var">bg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-455"></span><span>  </span><span class="annot"><span class="annottext">(forall a. Metadata a -&gt; (Tuple2 f g @@ a) -&gt; h @@ a)
-&gt; rec (Tuple2 f g) -&gt; rec h
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; rec f -&gt; rec g
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
FunctorRec rec =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; rec f -&gt; rec g
</span><a href="Data.EvalRecord.html#map"><span class="hs-identifier hs-var">Data.EvalRecord.map</span></a></span><span>
</span><span id="line-456"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680157369"><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157369"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680157370"><span class="annot"><span class="annottext">Eval (f a)
</span><a href="#local-6989586621680157370"><span class="hs-identifier hs-var">fa</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680157371"><span class="annot"><span class="annottext">Eval (g a)
</span><a href="#local-6989586621680157371"><span class="hs-identifier hs-var">ga</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Metadata a -&gt; Eval (f a) -&gt; Eval (g a) -&gt; h @@ a
forall a. Metadata a -&gt; (f @@ a) -&gt; (g @@ a) -&gt; h @@ a
</span><a href="#local-6989586621680157366"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157369"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (f a)
</span><a href="#local-6989586621680157370"><span class="hs-identifier hs-var">fa</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (g a)
</span><a href="#local-6989586621680157371"><span class="hs-identifier hs-var">ga</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-457"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">rec f
</span><a href="#local-6989586621680157367"><span class="hs-identifier hs-var">bf</span></a></span><span> </span><span class="annot"><span class="annottext">rec f -&gt; rec g -&gt; rec (Tuple2 f g)
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
</span><a href="Data.EvalRecord.html#prod"><span class="hs-operator hs-var">`prod`</span></a></span><span> </span><span class="annot"><span class="annottext">rec g
</span><a href="#local-6989586621680157368"><span class="hs-identifier hs-var">bg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-458"></span><span>
</span><span id="line-459"></span><span>
</span><span id="line-460"></span><span class="annot"><span class="hs-comment">-- | An equivalent of 'Data.List.zipWith3'.</span></span><span>
</span><span id="line-461"></span><span id="local-6989586621680156835"><span id="local-6989586621680156837"><span id="local-6989586621680156838"><span id="local-6989586621680156839"><span id="local-6989586621680156840"><span class="annot"><a href="Data.EvalRecord.html#zipWith3"><span class="hs-identifier hs-type">zipWith3</span></a></span><span>
</span><span id="line-462"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ApplicativeRec"><span class="hs-identifier hs-type">ApplicativeRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156835"><span class="hs-identifier hs-type">rec</span></a></span><span>
</span><span id="line-463"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156836"><span class="annot"><a href="#local-6989586621680156836"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156836"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156837"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156836"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156838"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156836"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156839"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156836"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156840"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156836"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-464"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156835"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156837"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-465"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156835"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156838"><span class="hs-identifier hs-type">g</span></a></span><span>
</span><span id="line-466"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156835"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156839"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-467"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156835"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156840"><span class="hs-identifier hs-type">i</span></a></span></span></span></span></span></span><span>
</span><span id="line-468"></span><span id="zipWith3"><span class="annot"><span class="annottext">zipWith3 :: forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *) (h :: * -&gt; * -&gt; *) (i :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
(forall a.
 Metadata a -&gt; (f @@ a) -&gt; (g @@ a) -&gt; (h @@ a) -&gt; i @@ a)
-&gt; rec f -&gt; rec g -&gt; rec h -&gt; rec i
</span><a href="Data.EvalRecord.html#zipWith3"><span class="hs-identifier hs-var hs-var">zipWith3</span></a></span></span><span> </span><span id="local-6989586621680157377"><span class="annot"><span class="annottext">forall a. Metadata a -&gt; (f @@ a) -&gt; (g @@ a) -&gt; (h @@ a) -&gt; i @@ a
</span><a href="#local-6989586621680157377"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680157378"><span class="annot"><span class="annottext">rec f
</span><a href="#local-6989586621680157378"><span class="hs-identifier hs-var">bf</span></a></span></span><span> </span><span id="local-6989586621680157379"><span class="annot"><span class="annottext">rec g
</span><a href="#local-6989586621680157379"><span class="hs-identifier hs-var">bg</span></a></span></span><span> </span><span id="local-6989586621680157380"><span class="annot"><span class="annottext">rec h
</span><a href="#local-6989586621680157380"><span class="hs-identifier hs-var">bh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-469"></span><span>  </span><span class="annot"><span class="annottext">(forall a. Metadata a -&gt; (Tuple2 (Tuple2 f g) h @@ a) -&gt; i @@ a)
-&gt; rec (Tuple2 (Tuple2 f g) h) -&gt; rec i
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; rec f -&gt; rec g
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
FunctorRec rec =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; rec f -&gt; rec g
</span><a href="Data.EvalRecord.html#map"><span class="hs-identifier hs-var">Data.EvalRecord.map</span></a></span><span>
</span><span id="line-470"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680157381"><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157381"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621680157382"><span class="annot"><span class="annottext">Eval (f a)
</span><a href="#local-6989586621680157382"><span class="hs-identifier hs-var">fa</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680157383"><span class="annot"><span class="annottext">Eval (g a)
</span><a href="#local-6989586621680157383"><span class="hs-identifier hs-var">ga</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621680157384"><span class="annot"><span class="annottext">Eval (h a)
</span><a href="#local-6989586621680157384"><span class="hs-identifier hs-var">ha</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Metadata a -&gt; Eval (f a) -&gt; Eval (g a) -&gt; Eval (h a) -&gt; i @@ a
forall a. Metadata a -&gt; (f @@ a) -&gt; (g @@ a) -&gt; (h @@ a) -&gt; i @@ a
</span><a href="#local-6989586621680157377"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157381"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (f a)
</span><a href="#local-6989586621680157382"><span class="hs-identifier hs-var">fa</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (g a)
</span><a href="#local-6989586621680157383"><span class="hs-identifier hs-var">ga</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (h a)
</span><a href="#local-6989586621680157384"><span class="hs-identifier hs-var">ha</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-471"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">rec f
</span><a href="#local-6989586621680157378"><span class="hs-identifier hs-var">bf</span></a></span><span> </span><span class="annot"><span class="annottext">rec f -&gt; rec g -&gt; rec (Tuple2 f g)
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
</span><a href="Data.EvalRecord.html#prod"><span class="hs-operator hs-var">`prod`</span></a></span><span> </span><span class="annot"><span class="annottext">rec g
</span><a href="#local-6989586621680157379"><span class="hs-identifier hs-var">bg</span></a></span><span> </span><span class="annot"><span class="annottext">rec (Tuple2 f g) -&gt; rec h -&gt; rec (Tuple2 (Tuple2 f g) h)
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
</span><a href="Data.EvalRecord.html#prod"><span class="hs-operator hs-var">`prod`</span></a></span><span> </span><span class="annot"><span class="annottext">rec h
</span><a href="#local-6989586621680157380"><span class="hs-identifier hs-var">bh</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-472"></span><span>
</span><span id="line-473"></span><span>
</span><span id="line-474"></span><span class="annot"><span class="hs-comment">-- | An equivalent of 'Data.List.zipWith4'.</span></span><span>
</span><span id="line-475"></span><span id="local-6989586621680156847"><span id="local-6989586621680156849"><span id="local-6989586621680156850"><span id="local-6989586621680156851"><span id="local-6989586621680156852"><span id="local-6989586621680156853"><span class="annot"><a href="Data.EvalRecord.html#zipWith4"><span class="hs-identifier hs-type">zipWith4</span></a></span><span>
</span><span id="line-476"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ApplicativeRec"><span class="hs-identifier hs-type">ApplicativeRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156847"><span class="hs-identifier hs-type">rec</span></a></span><span>
</span><span id="line-477"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156848"><span class="annot"><a href="#local-6989586621680156848"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156848"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156849"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156848"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156850"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156848"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156851"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156848"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156852"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156848"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156853"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156848"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-478"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156847"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156849"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-479"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156847"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156850"><span class="hs-identifier hs-type">g</span></a></span><span>
</span><span id="line-480"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156847"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156851"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-481"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156847"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156852"><span class="hs-identifier hs-type">i</span></a></span><span>
</span><span id="line-482"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156847"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156853"><span class="hs-identifier hs-type">j</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-483"></span><span id="zipWith4"><span class="annot"><span class="annottext">zipWith4 :: forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *) (h :: * -&gt; * -&gt; *) (i :: * -&gt; * -&gt; *)
       (j :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
(forall a.
 Metadata a
 -&gt; (f @@ a) -&gt; (g @@ a) -&gt; (h @@ a) -&gt; (i @@ a) -&gt; j @@ a)
-&gt; rec f -&gt; rec g -&gt; rec h -&gt; rec i -&gt; rec j
</span><a href="Data.EvalRecord.html#zipWith4"><span class="hs-identifier hs-var hs-var">zipWith4</span></a></span></span><span> </span><span id="local-6989586621680157391"><span class="annot"><span class="annottext">forall a.
Metadata a
-&gt; (f @@ a) -&gt; (g @@ a) -&gt; (h @@ a) -&gt; (i @@ a) -&gt; j @@ a
</span><a href="#local-6989586621680157391"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680157392"><span class="annot"><span class="annottext">rec f
</span><a href="#local-6989586621680157392"><span class="hs-identifier hs-var">bf</span></a></span></span><span> </span><span id="local-6989586621680157393"><span class="annot"><span class="annottext">rec g
</span><a href="#local-6989586621680157393"><span class="hs-identifier hs-var">bg</span></a></span></span><span> </span><span id="local-6989586621680157394"><span class="annot"><span class="annottext">rec h
</span><a href="#local-6989586621680157394"><span class="hs-identifier hs-var">bh</span></a></span></span><span> </span><span id="local-6989586621680157395"><span class="annot"><span class="annottext">rec i
</span><a href="#local-6989586621680157395"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-484"></span><span>  </span><span class="annot"><span class="annottext">(forall a.
 Metadata a -&gt; (Tuple2 (Tuple2 (Tuple2 f g) h) i @@ a) -&gt; j @@ a)
-&gt; rec (Tuple2 (Tuple2 (Tuple2 f g) h) i) -&gt; rec j
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; rec f -&gt; rec g
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
FunctorRec rec =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; rec f -&gt; rec g
</span><a href="Data.EvalRecord.html#map"><span class="hs-identifier hs-var">Data.EvalRecord.map</span></a></span><span>
</span><span id="line-485"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680157396"><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157396"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621680157397"><span class="annot"><span class="annottext">Eval (f a)
</span><a href="#local-6989586621680157397"><span class="hs-identifier hs-var">fa</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680157398"><span class="annot"><span class="annottext">Eval (g a)
</span><a href="#local-6989586621680157398"><span class="hs-identifier hs-var">ga</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621680157399"><span class="annot"><span class="annottext">Eval (h a)
</span><a href="#local-6989586621680157399"><span class="hs-identifier hs-var">ha</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621680157400"><span class="annot"><span class="annottext">Eval (i a)
</span><a href="#local-6989586621680157400"><span class="hs-identifier hs-var">ia</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Metadata a
-&gt; Eval (f a) -&gt; Eval (g a) -&gt; Eval (h a) -&gt; Eval (i a) -&gt; j @@ a
forall a.
Metadata a
-&gt; (f @@ a) -&gt; (g @@ a) -&gt; (h @@ a) -&gt; (i @@ a) -&gt; j @@ a
</span><a href="#local-6989586621680157391"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157396"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (f a)
</span><a href="#local-6989586621680157397"><span class="hs-identifier hs-var">fa</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (g a)
</span><a href="#local-6989586621680157398"><span class="hs-identifier hs-var">ga</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (h a)
</span><a href="#local-6989586621680157399"><span class="hs-identifier hs-var">ha</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (i a)
</span><a href="#local-6989586621680157400"><span class="hs-identifier hs-var">ia</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-486"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">rec f
</span><a href="#local-6989586621680157392"><span class="hs-identifier hs-var">bf</span></a></span><span> </span><span class="annot"><span class="annottext">rec f -&gt; rec g -&gt; rec (Tuple2 f g)
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
</span><a href="Data.EvalRecord.html#prod"><span class="hs-operator hs-var">`prod`</span></a></span><span> </span><span class="annot"><span class="annottext">rec g
</span><a href="#local-6989586621680157393"><span class="hs-identifier hs-var">bg</span></a></span><span> </span><span class="annot"><span class="annottext">rec (Tuple2 f g) -&gt; rec h -&gt; rec (Tuple2 (Tuple2 f g) h)
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
</span><a href="Data.EvalRecord.html#prod"><span class="hs-operator hs-var">`prod`</span></a></span><span> </span><span class="annot"><span class="annottext">rec h
</span><a href="#local-6989586621680157394"><span class="hs-identifier hs-var">bh</span></a></span><span> </span><span class="annot"><span class="annottext">rec (Tuple2 (Tuple2 f g) h)
-&gt; rec i -&gt; rec (Tuple2 (Tuple2 (Tuple2 f g) h) i)
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
</span><a href="Data.EvalRecord.html#prod"><span class="hs-operator hs-var">`prod`</span></a></span><span> </span><span class="annot"><span class="annottext">rec i
</span><a href="#local-6989586621680157395"><span class="hs-identifier hs-var">bi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-487"></span><span>
</span><span id="line-488"></span><span>
</span><span id="line-489"></span><span class="annot"><span class="hs-comment">{- | @'Dict' c a@ is evidence that there exists an instance of @c a@.

  It is essentially equivalent to @Dict (c a)@ from the
  &lt;http://hackage.haskell.org/package/constraints constraints&gt; package,
  but because of its kind, it allows us to define things like @'Dict' 'Show'@.
-}</span></span><span>
</span><span id="line-495"></span><span class="hs-keyword">data</span><span> </span><span id="Dict"><span class="annot"><a href="Data.EvalRecord.html#Dict"><span class="hs-identifier hs-var">Dict</span></a></span></span><span> </span><span id="local-6989586621680157402"><span class="annot"><a href="#local-6989586621680157402"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621680157403"><span class="annot"><a href="#local-6989586621680157403"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-496"></span><span>  </span><span id="local-6989586621680157404"><span id="local-6989586621680157405"><span id="Dict"><span class="annot"><a href="Data.EvalRecord.html#Dict"><span class="hs-identifier hs-var">Dict</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680157404"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157405"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Dict"><span class="hs-identifier hs-type">Dict</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157404"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157405"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-497"></span><span>
</span><span id="line-498"></span><span>
</span><span id="line-499"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680156867"><span id="local-6989586621680156868"><span id="local-6989586621680157408"><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#Dict"><span class="hs-identifier hs-type">Dict</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156867"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156868"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-500"></span><span>  </span><span class="annot"><span class="annottext">Dict c a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680157412"><span class="annot"><span class="annottext">== :: Dict c a -&gt; Dict c a -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var">==</span></span></span><span> </span><span class="annot"><span class="annottext">Dict c a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-501"></span><span>
</span><span id="line-502"></span><span>
</span><span id="line-503"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680156874"><span id="local-6989586621680156875"><span id="local-6989586621680157415"><span id="local-6989586621680157419"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#Dict"><span class="hs-identifier hs-type">Dict</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156874"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156875"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-504"></span><span>  </span><span id="local-6989586621680157422"><span class="annot"><span class="annottext">showsPrec :: Int -&gt; Dict c a -&gt; String -&gt; String
</span><a href="#local-6989586621680157422"><span class="hs-identifier hs-var hs-var hs-var">showsPrec</span></a></span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Dict c a
</span><a href="Data.EvalRecord.html#Dict"><span class="hs-identifier hs-var">Dict</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
</span><span class="hs-identifier hs-var">showString</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Dict&quot;</span></span><span>
</span><span id="line-505"></span><span>
</span><span id="line-506"></span><span>
</span><span id="line-507"></span><span class="hs-comment">-- instance Show1 (Dict c)  where</span><span>
</span><span id="line-508"></span><span class="hs-comment">--   liftShowsPrec _ _ = showsPrec</span><span>
</span><span id="line-509"></span><span>
</span><span id="line-510"></span><span class="annot"><span class="hs-comment">{- | Turn a constrained-function into an unconstrained one
  that uses the packed instance dictionary instead.
-}</span></span><span>
</span><span id="line-513"></span><span id="local-6989586621680156877"><span id="local-6989586621680156878"><span id="local-6989586621680156879"><span class="annot"><a href="Data.EvalRecord.html#requiringDict"><span class="hs-identifier hs-type">requiringDict</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156877"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156878"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156879"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#Dict"><span class="hs-identifier hs-type">Dict</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156877"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156878"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156879"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-514"></span><span id="requiringDict"><span class="annot"><span class="annottext">requiringDict :: forall {k} (c :: k -&gt; Constraint) (a :: k) r.
(c a =&gt; r) -&gt; Dict c a -&gt; r
</span><a href="Data.EvalRecord.html#requiringDict"><span class="hs-identifier hs-var hs-var">requiringDict</span></a></span></span><span> </span><span id="local-6989586621680157426"><span class="annot"><span class="annottext">c a =&gt; r
</span><a href="#local-6989586621680157426"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="annot"><span class="annottext">Dict c a
</span><a href="Data.EvalRecord.html#Dict"><span class="hs-identifier hs-var">Dict</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">r
c a =&gt; r
</span><a href="#local-6989586621680157426"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-515"></span><span>
</span><span id="line-516"></span><span>
</span><span id="line-517"></span><span class="annot"><span class="hs-comment">{- | Instances of this class provide means to talk about constraints,
  both at compile-time, using 'AllRec', and at run-time, in the form
  of 'Dict', via 'addDicts'.

  A manual definition would look like this:

@
data T f = A (f 'Int') (f 'String') | B (f 'Bool') (f 'Int')

instance 'ConstraintsB' T where
  type 'AllRec' c T = (c 'Int', c 'String', c 'Bool')

  'addDicts' t = case t of
    A x y -&gt; A ('Dict', x) ('Dict', y)
    B z w -&gt; B ('Dict', z) ('Dict', w)
@

Now, when we given a @T f@, if we need to use the 'Show' instance of
their fields, we can use:

@
addDicts' :: AllRec Show b =&gt; b f -&gt; b ('Dict' 'Show' `'Tuple2'` f)
@
-}</span></span><span>
</span><span id="line-541"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#FunctorRec"><span class="hs-identifier hs-type">FunctorRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156884"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="ConstraintsRec"><span class="annot"><a href="Data.EvalRecord.html#ConstraintsRec"><span class="hs-identifier hs-var">ConstraintsRec</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680156884"><span class="annot"><a href="#local-6989586621680156884"><span class="hs-identifier hs-type">rec</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-542"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="AllRec"><span class="annot"><a href="Data.EvalRecord.html#AllRec"><span class="hs-identifier hs-var">AllRec</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680157431"><span class="annot"><a href="#local-6989586621680157431"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680157432"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680156884"><span class="annot"><a href="#local-6989586621680156884"><span class="hs-identifier hs-type">rec</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span>
</span><span id="line-543"></span><span>
</span><span id="line-544"></span><span>
</span><span id="line-545"></span><span>  </span><span id="addDicts"><span class="annot"><a href="Data.EvalRecord.html#addDicts"><span class="hs-identifier hs-type">addDicts</span></a></span></span><span>
</span><span id="line-546"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156910"><span class="annot"><a href="#local-6989586621680156910"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621680156911"><span class="annot"><a href="#local-6989586621680156911"><span class="hs-identifier hs-type">f</span></a></span></span><span>
</span><span id="line-547"></span><span>     </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#AllRec"><span class="hs-identifier hs-type">AllRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156910"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156884"><span class="hs-identifier hs-type">rec</span></a></span><span>
</span><span id="line-548"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156884"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156911"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-549"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156884"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#Dict"><span class="hs-identifier hs-type">Dict</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156910"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Tuple2"><span class="hs-operator hs-type">`Tuple2`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156911"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-550"></span><span>
</span><span id="line-551"></span><span>
</span><span id="line-552"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156887"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156889"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680156888"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156889"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680156887"><span class="annot"><a href="#local-6989586621680156887"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="%26"><span class="annot"><a href="Data.EvalRecord.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span></span><span> </span><span id="local-6989586621680156888"><span class="annot"><a href="#local-6989586621680156888"><span class="hs-identifier hs-type">d</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680156889"><span class="annot"><a href="#local-6989586621680156889"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-553"></span><span>
</span><span id="line-554"></span><span>
</span><span id="line-555"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680156896"><span id="local-6989586621680156897"><span id="local-6989586621680156898"><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156896"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156897"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680156898"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156897"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156896"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="Data.EvalRecord.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156898"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680156897"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-556"></span><span>
</span><span id="line-557"></span><span>
</span><span id="line-558"></span><span class="annot"><span class="hs-comment">{- | Like 'map' but a constraint is allowed to be required on
  each element of @rec@

E.g. If all fields of @rec@ are 'Show'able then you
could store each shown value in it's slot using 'ConstFn String':

&gt; showFields :: (AllRec Show rec, ConstraintsRec rec) =&gt; b Pure -&gt; b (ConstFn String)
&gt; showFields = mapC @Show showField
&gt;   where
&gt;     showField :: forall a. Show a =&gt; Metadata a -&gt; a -&gt; String
&gt;     showField _ = show

Notice that one can use the '(&amp;)' class as a way to require several
constraints to hold simultaneously:

&gt; map @(Show &amp; Eq &amp; Enum) r
-}</span></span><span>
</span><span id="line-575"></span><span class="annot"><a href="Data.EvalRecord.html#mapC"><span class="hs-identifier hs-type">mapC</span></a></span><span>
</span><span id="line-576"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156899"><span class="annot"><a href="#local-6989586621680156899"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621680156900"><span class="annot"><a href="#local-6989586621680156900"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621680156903"><span class="annot"><a href="#local-6989586621680156903"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621680156904"><span class="annot"><a href="#local-6989586621680156904"><span class="hs-identifier hs-type">g</span></a></span></span><span>
</span><span id="line-577"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#AllRec"><span class="hs-identifier hs-type">AllRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156899"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156900"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ConstraintsRec"><span class="hs-identifier hs-type">ConstraintsRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156900"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-578"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156902"><span class="annot"><a href="#local-6989586621680156902"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621680156899"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156902"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156902"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156903"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156902"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156904"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156902"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-579"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156900"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156903"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-580"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156900"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156904"><span class="hs-identifier hs-type">g</span></a></span><span>
</span><span id="line-581"></span><span id="mapC"><span class="annot"><span class="annottext">mapC :: forall (c :: * -&gt; Constraint) (b :: (* -&gt; * -&gt; *) -&gt; *)
       (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
(AllRec c b, ConstraintsRec b) =&gt;
(forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; b f -&gt; b g
</span><a href="Data.EvalRecord.html#mapC"><span class="hs-identifier hs-var hs-var">mapC</span></a></span></span><span> </span><span id="local-6989586621680157449"><span class="annot"><span class="annottext">forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; g @@ a
</span><a href="#local-6989586621680157449"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680157450"><span class="annot"><span class="annottext">b f
</span><a href="#local-6989586621680157450"><span class="hs-identifier hs-var">bf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a.
 Metadata a -&gt; (Tuple2 (Pure1 (Dict c)) f @@ a) -&gt; g @@ a)
-&gt; b (Tuple2 (Pure1 (Dict c)) f) -&gt; b g
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; b f -&gt; b g
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
FunctorRec rec =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; rec f -&gt; rec g
</span><a href="Data.EvalRecord.html#map"><span class="hs-identifier hs-var">Data.EvalRecord.map</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a -&gt; (Tuple2 (Pure1 (Dict c)) f @@ a) -&gt; g @@ a
forall a. Metadata a -&gt; (Tuple2 (Pure1 (Dict c)) f @@ a) -&gt; g @@ a
</span><a href="#local-6989586621680157451"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b f -&gt; b (Tuple2 (Pure1 (Dict c)) f)
forall (c :: * -&gt; Constraint) (f :: * -&gt; * -&gt; *).
AllRec c b =&gt;
b f -&gt; b (Tuple2 (Pure1 (Dict c)) f)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (c :: * -&gt; Constraint)
       (f :: * -&gt; * -&gt; *).
(ConstraintsRec rec, AllRec c rec) =&gt;
rec f -&gt; rec (Tuple2 (Pure1 (Dict c)) f)
</span><a href="Data.EvalRecord.html#addDicts"><span class="hs-identifier hs-var">addDicts</span></a></span><span> </span><span class="annot"><span class="annottext">b f
</span><a href="#local-6989586621680157450"><span class="hs-identifier hs-var">bf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-582"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-583"></span><span>    </span><span class="annot"><a href="#local-6989586621680157451"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680157452"><span class="annot"><a href="#local-6989586621680157452"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157452"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#Dict"><span class="hs-identifier hs-type">Dict</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156899"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Tuple2"><span class="hs-operator hs-type">`Tuple2`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156903"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157452"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156904"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157452"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-584"></span><span>    </span><span id="local-6989586621680157451"><span class="annot"><span class="annottext">go :: forall a. Metadata a -&gt; (Tuple2 (Pure1 (Dict c)) f @@ a) -&gt; g @@ a
</span><a href="#local-6989586621680157451"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621680157453"><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157453"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680157454"><span class="annot"><span class="annottext">Dict c a
</span><a href="#local-6989586621680157454"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680157455"><span class="annot"><span class="annottext">Eval (f a)
</span><a href="#local-6989586621680157455"><span class="hs-identifier hs-var">fa</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(c a =&gt; Eval (g a)) -&gt; Dict c a -&gt; Eval (g a)
forall {k} (c :: k -&gt; Constraint) (a :: k) r.
(c a =&gt; r) -&gt; Dict c a -&gt; r
</span><a href="Data.EvalRecord.html#requiringDict"><span class="hs-identifier hs-var">requiringDict</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Metadata a -&gt; Eval (f a) -&gt; Eval (g a)
forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; g @@ a
</span><a href="#local-6989586621680157449"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157453"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (f a)
</span><a href="#local-6989586621680157455"><span class="hs-identifier hs-var">fa</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Dict c a
</span><a href="#local-6989586621680157454"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-585"></span><span>
</span><span id="line-586"></span><span>
</span><span id="line-587"></span><span class="annot"><span class="hs-comment">-- | Like 'traverse' but with a constraint on the elements of @b@.</span></span><span>
</span><span id="line-588"></span><span class="annot"><a href="Data.EvalRecord.html#traverseC"><span class="hs-identifier hs-type">traverseC</span></a></span><span>
</span><span id="line-589"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156914"><span class="annot"><a href="#local-6989586621680156914"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621680156913"><span class="annot"><a href="#local-6989586621680156913"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621680156917"><span class="annot"><a href="#local-6989586621680156917"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621680156918"><span class="annot"><a href="#local-6989586621680156918"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621680156915"><span class="annot"><a href="#local-6989586621680156915"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-590"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#TraversableRec"><span class="hs-identifier hs-type">TraversableRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156913"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ConstraintsRec"><span class="hs-identifier hs-type">ConstraintsRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156913"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#AllRec"><span class="hs-identifier hs-type">AllRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156914"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156913"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621680156915"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-591"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156916"><span class="annot"><a href="#local-6989586621680156916"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621680156914"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156916"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156916"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156917"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156916"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156915"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156918"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156916"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-592"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156913"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156917"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-593"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156915"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156913"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156918"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-594"></span><span id="traverseC"><span class="annot"><span class="annottext">traverseC :: forall (c :: * -&gt; Constraint) (b :: (* -&gt; * -&gt; *) -&gt; *)
       (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *) (e :: * -&gt; *).
(TraversableRec b, ConstraintsRec b, AllRec c b, Applicative e) =&gt;
(forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; e (g @@ a))
-&gt; b f -&gt; e (b g)
</span><a href="Data.EvalRecord.html#traverseC"><span class="hs-identifier hs-var hs-var">traverseC</span></a></span></span><span> </span><span id="local-6989586621680157466"><span class="annot"><span class="annottext">forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; e (g @@ a)
</span><a href="#local-6989586621680157466"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680157467"><span class="annot"><span class="annottext">b f
</span><a href="#local-6989586621680157467"><span class="hs-identifier hs-var">bf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-595"></span><span>  </span><span class="annot"><span class="annottext">(forall a.
 Metadata a -&gt; (Tuple2 (Pure1 (Dict c)) f @@ a) -&gt; e (g @@ a))
-&gt; b (Tuple2 (Pure1 (Dict c)) f) -&gt; e (b g)
forall (e :: * -&gt; *) (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
Applicative e =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; e (g @@ a)) -&gt; b f -&gt; e (b g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (e :: * -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
(TraversableRec rec, Applicative e) =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; e (g @@ a))
-&gt; rec f -&gt; e (rec g)
</span><a href="Data.EvalRecord.html#traverse"><span class="hs-identifier hs-var">Data.EvalRecord.traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680157468"><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157468"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680157469"><span class="annot"><span class="annottext">Dict c a
</span><a href="Data.EvalRecord.html#Dict"><span class="hs-identifier hs-var">Dict</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Dict"><span class="hs-identifier hs-type">Dict</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156914"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157469"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680157472"><span class="annot"><span class="annottext">Eval (f a)
</span><a href="#local-6989586621680157472"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Metadata a -&gt; Eval (f a) -&gt; e (g @@ a)
forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; e (g @@ a)
</span><a href="#local-6989586621680157466"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157468"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (f a)
</span><a href="#local-6989586621680157472"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b f -&gt; b (Tuple2 (Pure1 (Dict c)) f)
forall (c :: * -&gt; Constraint) (f :: * -&gt; * -&gt; *).
AllRec c b =&gt;
b f -&gt; b (Tuple2 (Pure1 (Dict c)) f)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (c :: * -&gt; Constraint)
       (f :: * -&gt; * -&gt; *).
(ConstraintsRec rec, AllRec c rec) =&gt;
rec f -&gt; rec (Tuple2 (Pure1 (Dict c)) f)
</span><a href="Data.EvalRecord.html#addDicts"><span class="hs-identifier hs-var">addDicts</span></a></span><span> </span><span class="annot"><span class="annottext">b f
</span><a href="#local-6989586621680157467"><span class="hs-identifier hs-var">bf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-596"></span><span>
</span><span id="line-597"></span><span>
</span><span id="line-598"></span><span class="annot"><span class="hs-comment">{- | 'traverseC' with the arguments flipped. Useful when the traversing function is a large lambda:

@
forC someRec $ \fa -&gt; ...
@

@since 0.0.1.0
-}</span></span><span>
</span><span id="line-606"></span><span class="annot"><a href="Data.EvalRecord.html#forC"><span class="hs-identifier hs-type">forC</span></a></span><span>
</span><span id="line-607"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156926"><span class="annot"><a href="#local-6989586621680156926"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621680156925"><span class="annot"><a href="#local-6989586621680156925"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621680156928"><span class="annot"><a href="#local-6989586621680156928"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621680156930"><span class="annot"><a href="#local-6989586621680156930"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621680156927"><span class="annot"><a href="#local-6989586621680156927"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-608"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#TraversableRec"><span class="hs-identifier hs-type">TraversableRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156925"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ConstraintsRec"><span class="hs-identifier hs-type">ConstraintsRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156925"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#AllRec"><span class="hs-identifier hs-type">AllRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156926"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156925"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621680156927"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-609"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156925"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156928"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-610"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156929"><span class="annot"><a href="#local-6989586621680156929"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621680156926"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156929"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156929"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156928"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156929"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156927"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156930"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156929"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-611"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156927"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156925"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156930"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-612"></span><span id="forC"><span class="annot"><span class="annottext">forC :: forall (c :: * -&gt; Constraint) (b :: (* -&gt; * -&gt; *) -&gt; *)
       (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *) (e :: * -&gt; *).
(TraversableRec b, ConstraintsRec b, AllRec c b, Applicative e) =&gt;
b f
-&gt; (forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; e (g @@ a))
-&gt; e (b g)
</span><a href="Data.EvalRecord.html#forC"><span class="hs-identifier hs-var hs-var">forC</span></a></span></span><span> </span><span id="local-6989586621680157481"><span class="annot"><span class="annottext">b f
</span><a href="#local-6989586621680157481"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680157482"><span class="annot"><span class="annottext">forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; e (g @@ a)
</span><a href="#local-6989586621680157482"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (c :: * -&gt; Constraint) (b :: (* -&gt; * -&gt; *) -&gt; *)
       (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *) (e :: * -&gt; *).
(TraversableRec b, ConstraintsRec b, AllRec c b, Applicative e) =&gt;
(forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; e (g @@ a))
-&gt; b f -&gt; e (b g)
</span><a href="Data.EvalRecord.html#traverseC"><span class="hs-identifier hs-var">traverseC</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680156926"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a -&gt; (f @@ a) -&gt; e (g @@ a)
forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; e (g @@ a)
</span><a href="#local-6989586621680157482"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">b f
</span><a href="#local-6989586621680157481"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-613"></span><span>
</span><span id="line-614"></span><span>
</span><span id="line-615"></span><span class="annot"><a href="Data.EvalRecord.html#foldMapC"><span class="hs-identifier hs-type">foldMapC</span></a></span><span>
</span><span id="line-616"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156938"><span class="annot"><a href="#local-6989586621680156938"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621680156937"><span class="annot"><a href="#local-6989586621680156937"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621680156939"><span class="annot"><a href="#local-6989586621680156939"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621680156941"><span class="annot"><a href="#local-6989586621680156941"><span class="hs-identifier hs-type">f</span></a></span></span><span>
</span><span id="line-617"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#TraversableRec"><span class="hs-identifier hs-type">TraversableRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156937"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ConstraintsRec"><span class="hs-identifier hs-type">ConstraintsRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156937"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#AllRec"><span class="hs-identifier hs-type">AllRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156938"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156937"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621680156939"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-618"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156940"><span class="annot"><a href="#local-6989586621680156940"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621680156938"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156940"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156940"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156941"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156940"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156939"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-619"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156937"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156941"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-620"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156939"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-621"></span><span id="foldMapC"><span class="annot"><span class="annottext">foldMapC :: forall (c :: * -&gt; Constraint) (b :: (* -&gt; * -&gt; *) -&gt; *) m
       (f :: * -&gt; * -&gt; *).
(TraversableRec b, ConstraintsRec b, AllRec c b, Monoid m) =&gt;
(forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; m) -&gt; b f -&gt; m
</span><a href="Data.EvalRecord.html#foldMapC"><span class="hs-identifier hs-var hs-var">foldMapC</span></a></span></span><span> </span><span id="local-6989586621680157494"><span class="annot"><span class="annottext">forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; m
</span><a href="#local-6989586621680157494"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Wr m (b (ConstFn ())) -&gt; m
forall w a. Monoid w =&gt; Wr w a -&gt; w
</span><a href="Data.EvalRecord.html#execWr"><span class="hs-identifier hs-var">execWr</span></a></span><span> </span><span class="annot"><span class="annottext">(Wr m (b (ConstFn ())) -&gt; m)
-&gt; (b f -&gt; Wr m (b (ConstFn ()))) -&gt; b f -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (c :: * -&gt; Constraint) (b :: (* -&gt; * -&gt; *) -&gt; *)
       (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *) (e :: * -&gt; *).
(TraversableRec b, ConstraintsRec b, AllRec c b, Applicative e) =&gt;
(forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; e (g @@ a))
-&gt; b f -&gt; e (b g)
</span><a href="Data.EvalRecord.html#traverseC"><span class="hs-identifier hs-var">traverseC</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680156938"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680156937"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680156941"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ConstFn</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#St"><span class="hs-identifier hs-type">St</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156939"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680157498"><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157498"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621680157499"><span class="annot"><span class="annottext">f @@ a
</span><a href="#local-6989586621680157499"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m -&gt; Wr m ()
forall w. Monoid w =&gt; w -&gt; Wr w ()
</span><a href="Data.EvalRecord.html#tell"><span class="hs-identifier hs-var">tell</span></a></span><span> </span><span class="annot"><span class="annottext">(m -&gt; Wr m ()) -&gt; m -&gt; Wr m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Metadata a -&gt; (f @@ a) -&gt; m
forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; m
</span><a href="#local-6989586621680157494"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157498"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f @@ a
</span><a href="#local-6989586621680157499"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-622"></span><span>
</span><span id="line-623"></span><span>
</span><span id="line-624"></span><span class="annot"><span class="hs-comment">-- | Like 'zipWith' but with a constraint on the elements of @b@.</span></span><span>
</span><span id="line-625"></span><span class="annot"><a href="Data.EvalRecord.html#zipWithC"><span class="hs-identifier hs-type">zipWithC</span></a></span><span>
</span><span id="line-626"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156948"><span class="annot"><a href="#local-6989586621680156948"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621680156949"><span class="annot"><a href="#local-6989586621680156949"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621680156951"><span class="annot"><a href="#local-6989586621680156951"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621680156952"><span class="annot"><a href="#local-6989586621680156952"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621680156953"><span class="annot"><a href="#local-6989586621680156953"><span class="hs-identifier hs-type">h</span></a></span></span><span>
</span><span id="line-627"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#AllRec"><span class="hs-identifier hs-type">AllRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156948"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156949"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ConstraintsRec"><span class="hs-identifier hs-type">ConstraintsRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156949"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ApplicativeRec"><span class="hs-identifier hs-type">ApplicativeRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156949"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-628"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156950"><span class="annot"><a href="#local-6989586621680156950"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621680156948"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156950"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156950"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156951"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156950"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156952"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156950"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156953"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156950"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-629"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156949"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156951"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-630"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156949"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156952"><span class="hs-identifier hs-type">g</span></a></span><span>
</span><span id="line-631"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156949"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156953"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-632"></span><span id="zipWithC"><span class="annot"><span class="annottext">zipWithC :: forall (c :: * -&gt; Constraint) (b :: (* -&gt; * -&gt; *) -&gt; *)
       (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *) (h :: * -&gt; * -&gt; *).
(AllRec c b, ConstraintsRec b, ApplicativeRec b) =&gt;
(forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; (g @@ a) -&gt; h @@ a)
-&gt; b f -&gt; b g -&gt; b h
</span><a href="Data.EvalRecord.html#zipWithC"><span class="hs-identifier hs-var hs-var">zipWithC</span></a></span></span><span> </span><span id="local-6989586621680157506"><span class="annot"><span class="annottext">forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; (g @@ a) -&gt; h @@ a
</span><a href="#local-6989586621680157506"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680157507"><span class="annot"><span class="annottext">b f
</span><a href="#local-6989586621680157507"><span class="hs-identifier hs-var">bf</span></a></span></span><span> </span><span id="local-6989586621680157508"><span class="annot"><span class="annottext">b g
</span><a href="#local-6989586621680157508"><span class="hs-identifier hs-var">bg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-633"></span><span>  </span><span class="annot"><span class="annottext">forall (c :: * -&gt; Constraint) (b :: (* -&gt; * -&gt; *) -&gt; *)
       (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
(AllRec c b, ConstraintsRec b) =&gt;
(forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; b f -&gt; b g
</span><a href="Data.EvalRecord.html#mapC"><span class="hs-identifier hs-var">mapC</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680156948"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a -&gt; (Tuple2 f g @@ a) -&gt; h @@ a
forall a. c a =&gt; Metadata a -&gt; (Tuple2 f g @@ a) -&gt; h @@ a
</span><a href="#local-6989586621680157509"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b f
</span><a href="#local-6989586621680157507"><span class="hs-identifier hs-var">bf</span></a></span><span> </span><span class="annot"><span class="annottext">b f -&gt; b g -&gt; b (Tuple2 f g)
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
b f -&gt; b g -&gt; b (Tuple2 f g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
</span><a href="Data.EvalRecord.html#prod"><span class="hs-operator hs-var">`prod`</span></a></span><span> </span><span class="annot"><span class="annottext">b g
</span><a href="#local-6989586621680157508"><span class="hs-identifier hs-var">bg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-634"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-635"></span><span>    </span><span class="annot"><a href="#local-6989586621680157509"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680157512"><span class="annot"><a href="#local-6989586621680157512"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621680156948"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157512"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157512"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Tuple2"><span class="hs-identifier hs-type">Tuple2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156951"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156952"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157512"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156953"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157512"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-636"></span><span>    </span><span id="local-6989586621680157509"><span class="annot"><span class="annottext">go :: forall a. c a =&gt; Metadata a -&gt; (Tuple2 f g @@ a) -&gt; h @@ a
</span><a href="#local-6989586621680157509"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621680157515"><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157515"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680157516"><span class="annot"><span class="annottext">Eval (f a)
</span><a href="#local-6989586621680157516"><span class="hs-identifier hs-var">fa</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680157517"><span class="annot"><span class="annottext">Eval (g a)
</span><a href="#local-6989586621680157517"><span class="hs-identifier hs-var">ga</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Metadata a -&gt; Eval (f a) -&gt; Eval (g a) -&gt; h @@ a
forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; (g @@ a) -&gt; h @@ a
</span><a href="#local-6989586621680157506"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157515"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (f a)
</span><a href="#local-6989586621680157516"><span class="hs-identifier hs-var">fa</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (g a)
</span><a href="#local-6989586621680157517"><span class="hs-identifier hs-var">ga</span></a></span><span>
</span><span id="line-637"></span><span>
</span><span id="line-638"></span><span>
</span><span id="line-639"></span><span class="annot"><span class="hs-comment">-- | Like 'zipWith3' but with a constraint on the elements of @b@.</span></span><span>
</span><span id="line-640"></span><span class="annot"><a href="Data.EvalRecord.html#zipWith3C"><span class="hs-identifier hs-type">zipWith3C</span></a></span><span>
</span><span id="line-641"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156961"><span class="annot"><a href="#local-6989586621680156961"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621680156962"><span class="annot"><a href="#local-6989586621680156962"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621680156964"><span class="annot"><a href="#local-6989586621680156964"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621680156965"><span class="annot"><a href="#local-6989586621680156965"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621680156966"><span class="annot"><a href="#local-6989586621680156966"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621680156967"><span class="annot"><a href="#local-6989586621680156967"><span class="hs-identifier hs-type">i</span></a></span></span><span>
</span><span id="line-642"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#AllRec"><span class="hs-identifier hs-type">AllRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156961"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156962"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ConstraintsRec"><span class="hs-identifier hs-type">ConstraintsRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156962"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ApplicativeRec"><span class="hs-identifier hs-type">ApplicativeRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156962"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-643"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156963"><span class="annot"><a href="#local-6989586621680156963"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621680156961"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156963"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156963"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156964"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156963"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156965"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156963"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156966"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156963"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156967"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156963"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-644"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156962"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156964"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-645"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156962"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156965"><span class="hs-identifier hs-type">g</span></a></span><span>
</span><span id="line-646"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156962"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156966"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-647"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156962"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156967"><span class="hs-identifier hs-type">i</span></a></span><span>
</span><span id="line-648"></span><span id="zipWith3C"><span class="annot"><span class="annottext">zipWith3C :: forall (c :: * -&gt; Constraint) (b :: (* -&gt; * -&gt; *) -&gt; *)
       (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *) (h :: * -&gt; * -&gt; *)
       (i :: * -&gt; * -&gt; *).
(AllRec c b, ConstraintsRec b, ApplicativeRec b) =&gt;
(forall a.
 c a =&gt;
 Metadata a -&gt; (f @@ a) -&gt; (g @@ a) -&gt; (h @@ a) -&gt; i @@ a)
-&gt; b f -&gt; b g -&gt; b h -&gt; b i
</span><a href="Data.EvalRecord.html#zipWith3C"><span class="hs-identifier hs-var hs-var">zipWith3C</span></a></span></span><span> </span><span id="local-6989586621680157525"><span class="annot"><span class="annottext">forall a.
c a =&gt;
Metadata a -&gt; (f @@ a) -&gt; (g @@ a) -&gt; (h @@ a) -&gt; i @@ a
</span><a href="#local-6989586621680157525"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680157526"><span class="annot"><span class="annottext">b f
</span><a href="#local-6989586621680157526"><span class="hs-identifier hs-var">bf</span></a></span></span><span> </span><span id="local-6989586621680157527"><span class="annot"><span class="annottext">b g
</span><a href="#local-6989586621680157527"><span class="hs-identifier hs-var">bg</span></a></span></span><span> </span><span id="local-6989586621680157528"><span class="annot"><span class="annottext">b h
</span><a href="#local-6989586621680157528"><span class="hs-identifier hs-var">bh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-649"></span><span>  </span><span class="annot"><span class="annottext">forall (c :: * -&gt; Constraint) (b :: (* -&gt; * -&gt; *) -&gt; *)
       (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
(AllRec c b, ConstraintsRec b) =&gt;
(forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; b f -&gt; b g
</span><a href="Data.EvalRecord.html#mapC"><span class="hs-identifier hs-var">mapC</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680156961"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a -&gt; (Tuple2 (Tuple2 f g) h @@ a) -&gt; i @@ a
forall a.
c a =&gt;
Metadata a -&gt; (Tuple2 (Tuple2 f g) h @@ a) -&gt; i @@ a
</span><a href="#local-6989586621680157529"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b f
</span><a href="#local-6989586621680157526"><span class="hs-identifier hs-var">bf</span></a></span><span> </span><span class="annot"><span class="annottext">b f -&gt; b g -&gt; b (Tuple2 f g)
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
b f -&gt; b g -&gt; b (Tuple2 f g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
</span><a href="Data.EvalRecord.html#prod"><span class="hs-operator hs-var">`prod`</span></a></span><span> </span><span class="annot"><span class="annottext">b g
</span><a href="#local-6989586621680157527"><span class="hs-identifier hs-var">bg</span></a></span><span> </span><span class="annot"><span class="annottext">b (Tuple2 f g) -&gt; b h -&gt; b (Tuple2 (Tuple2 f g) h)
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
b f -&gt; b g -&gt; b (Tuple2 f g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
</span><a href="Data.EvalRecord.html#prod"><span class="hs-operator hs-var">`prod`</span></a></span><span> </span><span class="annot"><span class="annottext">b h
</span><a href="#local-6989586621680157528"><span class="hs-identifier hs-var">bh</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-650"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-651"></span><span>    </span><span class="annot"><a href="#local-6989586621680157529"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680157532"><span class="annot"><a href="#local-6989586621680157532"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621680156961"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157532"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157532"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#Tuple2"><span class="hs-identifier hs-type">Tuple2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156964"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156965"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Tuple2"><span class="hs-operator hs-type">`Tuple2`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156966"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157532"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156967"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157532"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-652"></span><span>    </span><span id="local-6989586621680157529"><span class="annot"><span class="annottext">go :: forall a.
c a =&gt;
Metadata a -&gt; (Tuple2 (Tuple2 f g) h @@ a) -&gt; i @@ a
</span><a href="#local-6989586621680157529"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621680157535"><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157535"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621680157536"><span class="annot"><span class="annottext">Eval (f a)
</span><a href="#local-6989586621680157536"><span class="hs-identifier hs-var">fa</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680157537"><span class="annot"><span class="annottext">Eval (g a)
</span><a href="#local-6989586621680157537"><span class="hs-identifier hs-var">ga</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621680157538"><span class="annot"><span class="annottext">Eval (h a)
</span><a href="#local-6989586621680157538"><span class="hs-identifier hs-var">ha</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Metadata a -&gt; Eval (f a) -&gt; Eval (g a) -&gt; Eval (h a) -&gt; i @@ a
forall a.
c a =&gt;
Metadata a -&gt; (f @@ a) -&gt; (g @@ a) -&gt; (h @@ a) -&gt; i @@ a
</span><a href="#local-6989586621680157525"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157535"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (f a)
</span><a href="#local-6989586621680157536"><span class="hs-identifier hs-var">fa</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (g a)
</span><a href="#local-6989586621680157537"><span class="hs-identifier hs-var">ga</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (h a)
</span><a href="#local-6989586621680157538"><span class="hs-identifier hs-var">ha</span></a></span><span>
</span><span id="line-653"></span><span>
</span><span id="line-654"></span><span>
</span><span id="line-655"></span><span class="annot"><span class="hs-comment">-- | Like 'zipWith4' but with a constraint on the elements of @b@.</span></span><span>
</span><span id="line-656"></span><span class="annot"><a href="Data.EvalRecord.html#zipWith4C"><span class="hs-identifier hs-type">zipWith4C</span></a></span><span>
</span><span id="line-657"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156976"><span class="annot"><a href="#local-6989586621680156976"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621680156977"><span class="annot"><a href="#local-6989586621680156977"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621680156979"><span class="annot"><a href="#local-6989586621680156979"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621680156980"><span class="annot"><a href="#local-6989586621680156980"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621680156981"><span class="annot"><a href="#local-6989586621680156981"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621680156982"><span class="annot"><a href="#local-6989586621680156982"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621680156983"><span class="annot"><a href="#local-6989586621680156983"><span class="hs-identifier hs-type">j</span></a></span></span><span>
</span><span id="line-658"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#AllRec"><span class="hs-identifier hs-type">AllRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156976"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156977"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ConstraintsRec"><span class="hs-identifier hs-type">ConstraintsRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156977"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ApplicativeRec"><span class="hs-identifier hs-type">ApplicativeRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156977"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-659"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680156978"><span class="annot"><a href="#local-6989586621680156978"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621680156976"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156978"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156978"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156979"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156978"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156980"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156978"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156981"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156978"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156982"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156978"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156983"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156978"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-660"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156977"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156979"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-661"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156977"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156980"><span class="hs-identifier hs-type">g</span></a></span><span>
</span><span id="line-662"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156977"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156981"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-663"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156977"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156982"><span class="hs-identifier hs-type">i</span></a></span><span>
</span><span id="line-664"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156977"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156983"><span class="hs-identifier hs-type">j</span></a></span><span>
</span><span id="line-665"></span><span id="zipWith4C"><span class="annot"><span class="annottext">zipWith4C :: forall (c :: * -&gt; Constraint) (b :: (* -&gt; * -&gt; *) -&gt; *)
       (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *) (h :: * -&gt; * -&gt; *)
       (i :: * -&gt; * -&gt; *) (j :: * -&gt; * -&gt; *).
(AllRec c b, ConstraintsRec b, ApplicativeRec b) =&gt;
(forall a.
 c a =&gt;
 Metadata a
 -&gt; (f @@ a) -&gt; (g @@ a) -&gt; (h @@ a) -&gt; (i @@ a) -&gt; j @@ a)
-&gt; b f -&gt; b g -&gt; b h -&gt; b i -&gt; b j
</span><a href="Data.EvalRecord.html#zipWith4C"><span class="hs-identifier hs-var hs-var">zipWith4C</span></a></span></span><span> </span><span id="local-6989586621680157547"><span class="annot"><span class="annottext">forall a.
c a =&gt;
Metadata a
-&gt; (f @@ a) -&gt; (g @@ a) -&gt; (h @@ a) -&gt; (i @@ a) -&gt; j @@ a
</span><a href="#local-6989586621680157547"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680157548"><span class="annot"><span class="annottext">b f
</span><a href="#local-6989586621680157548"><span class="hs-identifier hs-var">bf</span></a></span></span><span> </span><span id="local-6989586621680157549"><span class="annot"><span class="annottext">b g
</span><a href="#local-6989586621680157549"><span class="hs-identifier hs-var">bg</span></a></span></span><span> </span><span id="local-6989586621680157550"><span class="annot"><span class="annottext">b h
</span><a href="#local-6989586621680157550"><span class="hs-identifier hs-var">bh</span></a></span></span><span> </span><span id="local-6989586621680157551"><span class="annot"><span class="annottext">b i
</span><a href="#local-6989586621680157551"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-666"></span><span>  </span><span class="annot"><span class="annottext">forall (c :: * -&gt; Constraint) (b :: (* -&gt; * -&gt; *) -&gt; *)
       (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
(AllRec c b, ConstraintsRec b) =&gt;
(forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; b f -&gt; b g
</span><a href="Data.EvalRecord.html#mapC"><span class="hs-identifier hs-var">mapC</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680156976"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a -&gt; (Tuple2 (Tuple2 (Tuple2 f g) h) i @@ a) -&gt; j @@ a
forall a.
c a =&gt;
Metadata a -&gt; (Tuple2 (Tuple2 (Tuple2 f g) h) i @@ a) -&gt; j @@ a
</span><a href="#local-6989586621680157552"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b f
</span><a href="#local-6989586621680157548"><span class="hs-identifier hs-var">bf</span></a></span><span> </span><span class="annot"><span class="annottext">b f -&gt; b g -&gt; b (Tuple2 f g)
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
b f -&gt; b g -&gt; b (Tuple2 f g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
</span><a href="Data.EvalRecord.html#prod"><span class="hs-operator hs-var">`prod`</span></a></span><span> </span><span class="annot"><span class="annottext">b g
</span><a href="#local-6989586621680157549"><span class="hs-identifier hs-var">bg</span></a></span><span> </span><span class="annot"><span class="annottext">b (Tuple2 f g) -&gt; b h -&gt; b (Tuple2 (Tuple2 f g) h)
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
b f -&gt; b g -&gt; b (Tuple2 f g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
</span><a href="Data.EvalRecord.html#prod"><span class="hs-operator hs-var">`prod`</span></a></span><span> </span><span class="annot"><span class="annottext">b h
</span><a href="#local-6989586621680157550"><span class="hs-identifier hs-var">bh</span></a></span><span> </span><span class="annot"><span class="annottext">b (Tuple2 (Tuple2 f g) h)
-&gt; b i -&gt; b (Tuple2 (Tuple2 (Tuple2 f g) h) i)
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
b f -&gt; b g -&gt; b (Tuple2 f g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
rec f -&gt; rec g -&gt; rec (Tuple2 f g)
</span><a href="Data.EvalRecord.html#prod"><span class="hs-operator hs-var">`prod`</span></a></span><span> </span><span class="annot"><span class="annottext">b i
</span><a href="#local-6989586621680157551"><span class="hs-identifier hs-var">bi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-667"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-668"></span><span>    </span><span class="annot"><a href="#local-6989586621680157552"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680157555"><span class="annot"><a href="#local-6989586621680157555"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621680156976"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157555"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157555"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#Tuple2"><span class="hs-identifier hs-type">Tuple2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156979"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156980"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Tuple2"><span class="hs-operator hs-type">`Tuple2`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156981"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Tuple2"><span class="hs-operator hs-type">`Tuple2`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680156982"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157555"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680156983"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157555"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-669"></span><span>    </span><span id="local-6989586621680157552"><span class="annot"><span class="annottext">go :: forall a.
c a =&gt;
Metadata a -&gt; (Tuple2 (Tuple2 (Tuple2 f g) h) i @@ a) -&gt; j @@ a
</span><a href="#local-6989586621680157552"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621680157558"><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157558"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621680157559"><span class="annot"><span class="annottext">Eval (f a)
</span><a href="#local-6989586621680157559"><span class="hs-identifier hs-var">fa</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680157560"><span class="annot"><span class="annottext">Eval (g a)
</span><a href="#local-6989586621680157560"><span class="hs-identifier hs-var">ga</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621680157561"><span class="annot"><span class="annottext">Eval (h a)
</span><a href="#local-6989586621680157561"><span class="hs-identifier hs-var">ha</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621680157562"><span class="annot"><span class="annottext">Eval (i a)
</span><a href="#local-6989586621680157562"><span class="hs-identifier hs-var">ia</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Metadata a
-&gt; Eval (f a) -&gt; Eval (g a) -&gt; Eval (h a) -&gt; Eval (i a) -&gt; j @@ a
forall a.
c a =&gt;
Metadata a
-&gt; (f @@ a) -&gt; (g @@ a) -&gt; (h @@ a) -&gt; (i @@ a) -&gt; j @@ a
</span><a href="#local-6989586621680157547"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157558"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (f a)
</span><a href="#local-6989586621680157559"><span class="hs-identifier hs-var">fa</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (g a)
</span><a href="#local-6989586621680157560"><span class="hs-identifier hs-var">ga</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (h a)
</span><a href="#local-6989586621680157561"><span class="hs-identifier hs-var">ha</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (i a)
</span><a href="#local-6989586621680157562"><span class="hs-identifier hs-var">ia</span></a></span><span>
</span><span id="line-670"></span><span>
</span><span id="line-671"></span><span>
</span><span id="line-672"></span><span class="annot"><span class="hs-comment">{- | 'ClassF' has one universal instance that makes @'ClassF' c f a@
  equivalent to @c (f a)@. However, we have

@
'ClassF c f :: k -&gt; 'Data.Kind.Constraint'
@

This is useful since it allows to define constraint-constructors like
@'ClassF' 'Monoid' 'Pure1 Maybe'@
-}</span></span><span>
</span><span id="line-682"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="#local-6989586621680156996"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680156997"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680156998"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="ClassF"><span class="annot"><a href="Data.EvalRecord.html#ClassF"><span class="hs-identifier hs-var">ClassF</span></a></span></span><span> </span><span id="local-6989586621680156996"><span class="annot"><a href="#local-6989586621680156996"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621680156997"><span class="annot"><a href="#local-6989586621680156997"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621680156998"><span class="annot"><a href="#local-6989586621680156998"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-683"></span><span>
</span><span id="line-684"></span><span>
</span><span id="line-685"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680157564"><span id="local-6989586621680157565"><span id="local-6989586621680157566"><span class="annot"><a href="#local-6989586621680157564"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157565"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157566"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ClassF"><span class="hs-identifier hs-type">ClassF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157564"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157565"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157566"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-686"></span><span>
</span><span id="line-687"></span><span>
</span><span id="line-688"></span><span class="annot"><span class="hs-comment">-- | Like 'ClassF' but for binary relations.</span></span><span>
</span><span id="line-689"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="#local-6989586621680157008"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157009"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157011"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157010"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157011"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="ClassFG"><span class="annot"><a href="Data.EvalRecord.html#ClassFG"><span class="hs-identifier hs-var">ClassFG</span></a></span></span><span> </span><span id="local-6989586621680157008"><span class="annot"><a href="#local-6989586621680157008"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621680157009"><span class="annot"><a href="#local-6989586621680157009"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621680157010"><span class="annot"><a href="#local-6989586621680157010"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621680157011"><span class="annot"><a href="#local-6989586621680157011"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-690"></span><span>
</span><span id="line-691"></span><span>
</span><span id="line-692"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680157023"><span id="local-6989586621680157024"><span id="local-6989586621680157025"><span id="local-6989586621680157026"><span class="annot"><a href="#local-6989586621680157023"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157024"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157025"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157026"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157025"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ClassFG"><span class="hs-identifier hs-type">ClassFG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157023"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157024"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157026"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157025"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-693"></span><span>
</span><span id="line-694"></span><span>
</span><span id="line-695"></span><span class="annot"><span class="hs-comment">{- | Similar to 'AllRec' but will put the functor argument @f@
  between the constraint @c@ and the type @a@. For example:

  @
  'AllRec'  'Show'   Person ~ ('Show'    'String',  'Show'    'Int')
  'AllRecF' 'Show' f Person ~ ('Show' (f @@ 'String'), 'Show' (f @@ 'Int'))
  @
-}</span></span><span>
</span><span id="line-703"></span><span class="hs-keyword">type</span><span> </span><span id="AllRecF"><span class="annot"><a href="Data.EvalRecord.html#AllRecF"><span class="hs-identifier hs-var">AllRecF</span></a></span></span><span> </span><span id="local-6989586621680157578"><span class="annot"><a href="#local-6989586621680157578"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621680157579"><span class="annot"><a href="#local-6989586621680157579"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621680157580"><span class="annot"><a href="#local-6989586621680157580"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#AllRec"><span class="hs-identifier hs-type">AllRec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#ClassF"><span class="hs-identifier hs-type">ClassF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157578"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157579"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680157580"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-704"></span><span>
</span><span id="line-705"></span><span>
</span><span id="line-706"></span><span class="annot"><span class="hs-comment">{- | Similar to 'addDicts' but can produce the instance dictionaries
  &quot;out of the blue&quot;.
-}</span></span><span>
</span><span id="line-709"></span><span class="annot"><a href="Data.EvalRecord.html#dicts"><span class="hs-identifier hs-type">dicts</span></a></span><span>
</span><span id="line-710"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680157027"><span class="annot"><a href="#local-6989586621680157027"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621680157028"><span class="annot"><a href="#local-6989586621680157028"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-711"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#AllRec"><span class="hs-identifier hs-type">AllRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157027"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157028"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ApplicativeRec"><span class="hs-identifier hs-type">ApplicativeRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157028"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ConstraintsRec"><span class="hs-identifier hs-type">ConstraintsRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157028"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-712"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157028"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#Dict"><span class="hs-identifier hs-type">Dict</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157027"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-713"></span><span id="dicts"><span class="annot"><span class="annottext">dicts :: forall (c :: * -&gt; Constraint) (b :: (* -&gt; * -&gt; *) -&gt; *).
(AllRec c b, ApplicativeRec b, ConstraintsRec b) =&gt;
b (Pure1 (Dict c))
</span><a href="Data.EvalRecord.html#dicts"><span class="hs-identifier hs-var hs-var">dicts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b (Pure1 (Dict c))
</span><a href="#local-6989586621680157589"><span class="hs-identifier hs-var">dicts'</span></a></span><span>
</span><span id="line-714"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-715"></span><span>    </span><span class="annot"><a href="#local-6989586621680157589"><span class="hs-identifier hs-type">dicts'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680157028"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#Dict"><span class="hs-identifier hs-type">Dict</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157027"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-716"></span><span>    </span><span id="local-6989586621680157589"><span class="annot"><span class="annottext">dicts' :: b (Pure1 (Dict c))
</span><a href="#local-6989586621680157589"><span class="hs-identifier hs-var hs-var">dicts'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a.
 Metadata a
 -&gt; (Tuple2 (Pure1 (Dict c)) (Pure1 Proxy) @@ a)
 -&gt; Pure1 (Dict c) @@ a)
-&gt; b (Tuple2 (Pure1 (Dict c)) (Pure1 Proxy)) -&gt; b (Pure1 (Dict c))
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; b f -&gt; b g
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
FunctorRec rec =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; rec f -&gt; rec g
</span><a href="Data.EvalRecord.html#map"><span class="hs-identifier hs-var">Data.EvalRecord.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Metadata a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680157590"><span class="annot"><span class="annottext">Dict c a
</span><a href="#local-6989586621680157590"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pure1 (Dict c) @@ a
Dict c a
</span><a href="#local-6989586621680157590"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">b (Tuple2 (Pure1 (Dict c)) (Pure1 Proxy))
</span><a href="#local-6989586621680157591"><span class="hs-identifier hs-var">addedDicts</span></a></span><span>
</span><span id="line-717"></span><span>    </span><span class="annot"><a href="#local-6989586621680157591"><span class="hs-identifier hs-type">addedDicts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680157028"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#Tuple2"><span class="hs-identifier hs-type">Tuple2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#Dict"><span class="hs-identifier hs-type">Dict</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157027"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-718"></span><span>    </span><span id="local-6989586621680157591"><span class="annot"><span class="annottext">addedDicts :: b (Tuple2 (Pure1 (Dict c)) (Pure1 Proxy))
</span><a href="#local-6989586621680157591"><span class="hs-identifier hs-var hs-var">addedDicts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-719"></span><span>      </span><span class="annot"><span class="annottext">forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (c :: * -&gt; Constraint)
       (f :: * -&gt; * -&gt; *).
(ConstraintsRec rec, AllRec c rec) =&gt;
rec f -&gt; rec (Tuple2 (Pure1 (Dict c)) f)
</span><a href="Data.EvalRecord.html#addDicts"><span class="hs-identifier hs-var">addDicts</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680157028"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680157027"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(b (Pure1 Proxy) -&gt; b (Tuple2 (Pure1 (Dict c)) (Pure1 Proxy)))
-&gt; b (Pure1 Proxy) -&gt; b (Tuple2 (Pure1 (Dict c)) (Pure1 Proxy))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-720"></span><span>        </span><span class="annot"><span class="annottext">b (Pure1 Proxy)
</span><a href="#local-6989586621680157592"><span class="hs-identifier hs-var">proxyRec</span></a></span><span>
</span><span id="line-721"></span><span>    </span><span id="local-6989586621680157592"><span class="annot"><span class="annottext">proxyRec :: b (Pure1 Proxy)
</span><a href="#local-6989586621680157592"><span class="hs-identifier hs-var hs-var">proxyRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
(forall a. Metadata a -&gt; f @@ a) -&gt; rec f
</span><a href="Data.EvalRecord.html#pure"><span class="hs-identifier hs-var">Data.EvalRecord.pure</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680157028"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a -&gt; Metadata a -&gt; Proxy a
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Proxy a
forall {k} (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span class="hs-special">)</span><span>
</span><span id="line-722"></span><span>
</span><span id="line-723"></span><span>
</span><span id="line-724"></span><span class="annot"><span class="hs-comment">{- | Like 'pure' but a constraint is allowed to be required on
  each element of @b@.
-}</span></span><span>
</span><span id="line-727"></span><span class="annot"><a href="Data.EvalRecord.html#pureC"><span class="hs-identifier hs-type">pureC</span></a></span><span>
</span><span id="line-728"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680157039"><span class="annot"><a href="#local-6989586621680157039"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621680157040"><span class="annot"><a href="#local-6989586621680157040"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621680157041"><span class="annot"><a href="#local-6989586621680157041"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-729"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#AllRecF"><span class="hs-identifier hs-type">AllRecF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157039"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157040"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157041"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-730"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ConstraintsRec"><span class="hs-identifier hs-type">ConstraintsRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157041"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-731"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ApplicativeRec"><span class="hs-identifier hs-type">ApplicativeRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157041"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-732"></span><span>     </span><span class="hs-special">)</span><span>
</span><span id="line-733"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680157043"><span class="annot"><a href="#local-6989586621680157043"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621680157039"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157040"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157043"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157043"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157040"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157043"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-734"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157041"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157040"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-735"></span><span id="pureC"><span class="annot"><span class="annottext">pureC :: forall (c :: * -&gt; Constraint) (f :: * -&gt; * -&gt; *)
       (b :: (* -&gt; * -&gt; *) -&gt; *).
(AllRecF c f b, ConstraintsRec b, ApplicativeRec b) =&gt;
(forall a. c (f @@ a) =&gt; Metadata a -&gt; f @@ a) -&gt; b f
</span><a href="Data.EvalRecord.html#pureC"><span class="hs-identifier hs-var hs-var">pureC</span></a></span></span><span> </span><span id="local-6989586621680157602"><span class="annot"><span class="annottext">forall a. c (f @@ a) =&gt; Metadata a -&gt; f @@ a
</span><a href="#local-6989586621680157602"><span class="hs-identifier hs-var">fa</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-736"></span><span>  </span><span class="annot"><span class="annottext">(forall a.
 Metadata a -&gt; (Pure1 (Dict (ClassF c f)) @@ a) -&gt; f @@ a)
-&gt; b (Pure1 (Dict (ClassF c f))) -&gt; b f
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; b f -&gt; b g
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
FunctorRec rec =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; rec f -&gt; rec g
</span><a href="Data.EvalRecord.html#map"><span class="hs-identifier hs-var">Data.EvalRecord.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680157603"><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157603"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {k} (c :: k -&gt; Constraint) (a :: k) r.
(c a =&gt; r) -&gt; Dict c a -&gt; r
forall (c :: * -&gt; Constraint) a r. (c a =&gt; r) -&gt; Dict c a -&gt; r
</span><a href="Data.EvalRecord.html#requiringDict"><span class="hs-identifier hs-var">requiringDict</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#ClassF"><span class="hs-identifier hs-type">ClassF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157039"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157040"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Metadata a -&gt; f @@ a
forall a. c (f @@ a) =&gt; Metadata a -&gt; f @@ a
</span><a href="#local-6989586621680157602"><span class="hs-identifier hs-var">fa</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157603"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (c :: * -&gt; Constraint) (b :: (* -&gt; * -&gt; *) -&gt; *).
(AllRec c b, ApplicativeRec b, ConstraintsRec b) =&gt;
b (Pure1 (Dict c))
</span><a href="Data.EvalRecord.html#dicts"><span class="hs-identifier hs-var">dicts</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#ClassF"><span class="hs-identifier hs-type">ClassF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157039"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157040"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680157041"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-737"></span><span>
</span><span id="line-738"></span><span>
</span><span id="line-739"></span><span class="annot"><span class="hs-comment">-- | Builds a @b f@, by applying 'mempty' on every field of @b@.</span></span><span>
</span><span id="line-740"></span><span class="annot"><a href="Data.EvalRecord.html#mempty"><span class="hs-identifier hs-type">mempty</span></a></span><span>
</span><span id="line-741"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680157048"><span class="annot"><a href="#local-6989586621680157048"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621680157049"><span class="annot"><a href="#local-6989586621680157049"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-742"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#AllRecF"><span class="hs-identifier hs-type">AllRecF</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621680157048"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157049"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-743"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ConstraintsRec"><span class="hs-identifier hs-type">ConstraintsRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157049"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-744"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ApplicativeRec"><span class="hs-identifier hs-type">ApplicativeRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157049"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-745"></span><span>     </span><span class="hs-special">)</span><span>
</span><span id="line-746"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157049"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157048"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-747"></span><span id="mempty"><span class="annot"><span class="annottext">mempty :: forall (f :: * -&gt; * -&gt; *) (b :: (* -&gt; * -&gt; *) -&gt; *).
(AllRecF Monoid f b, ConstraintsRec b, ApplicativeRec b) =&gt;
b f
</span><a href="Data.EvalRecord.html#mempty"><span class="hs-identifier hs-var hs-var">mempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-748"></span><span>  </span><span class="annot"><span class="annottext">forall (c :: * -&gt; Constraint) (f :: * -&gt; * -&gt; *)
       (b :: (* -&gt; * -&gt; *) -&gt; *).
(AllRecF c f b, ConstraintsRec b, ApplicativeRec b) =&gt;
(forall a. c (f @@ a) =&gt; Metadata a -&gt; f @@ a) -&gt; b f
</span><a href="Data.EvalRecord.html#pureC"><span class="hs-identifier hs-var">Data.EvalRecord.pureC</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><span class="annottext">((forall a. Monoid (f @@ a) =&gt; Metadata a -&gt; f @@ a) -&gt; b f)
-&gt; (forall a. Monoid (f @@ a) =&gt; Metadata a -&gt; f @@ a) -&gt; b f
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Metadata a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">f @@ a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">Prelude.mempty</span></span><span>
</span><span id="line-749"></span><span>
</span><span id="line-750"></span><span>
</span><span id="line-751"></span><span class="annot"><span class="hs-comment">{- | A 'FunctorRec' where the effects can be distributed to the fields:
 `distribute` turns an effectful way of building a Record-type
 into a pure Record-type with effectful ways of computing the
 values of its fields.

 This class is the categorical dual of `TraversableRec`,
 with `distribute` the dual of `sequence`
 and `cotraverse` the dual of `traverse`. As such,
 instances need to satisfy these laws:

@
'distribute' . h = 'map' h) . 'distribute'    -- naturality
'distribute' . 'Data.Functor.Identity' = 'map' 'Data.Functor.Identity'                 -- identity
@

By specializing @f@ to @((-&gt;) a)@ and @g@ to 'Identity', we can define a function that
decomposes a function on distributive records into a collection of simpler functions:

@
'decompose' :: 'DistributiveRec' b =&gt; (a -&gt; b 'Identity') -&gt; b ((-&gt;) a)
'decompose' = 'map' ('fmap' 'runIdentity' . 'getCompose') . 'distribute'
@

Lawful instances of the class can then be characterized as those that satisfy:

@
'recompose' . 'decompose' = 'id'
'decompose' . 'recompose' = 'id'
@

This means intuitively that instances need to have a fixed shape (i.e. no sum-types can be involved).
Typically, this means record types, as long as they don't contain fields where the functor argument is not applied.
-}</span></span><span>
</span><span id="line-784"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#FunctorRec"><span class="hs-identifier hs-type">FunctorRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157053"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="DistributiveRec"><span class="annot"><a href="Data.EvalRecord.html#DistributiveRec"><span class="hs-identifier hs-var">DistributiveRec</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680157053"><span class="annot"><a href="#local-6989586621680157053"><span class="hs-identifier hs-type">rec</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-785"></span><span>  </span><span id="distribute"><span class="annot"><a href="Data.EvalRecord.html#distribute"><span class="hs-identifier hs-type">distribute</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621680157069"><span id="local-6989586621680157070"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621680157069"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157069"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157053"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157070"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157053"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure1</span></span><span> </span><span class="annot"><a href="#local-6989586621680157069"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=&lt;</span></span><span> </span><span class="annot"><a href="#local-6989586621680157070"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-786"></span><span>
</span><span id="line-787"></span><span>
</span><span id="line-788"></span><span id="local-6989586621680157057"><span id="local-6989586621680157058"><span class="annot"><a href="Data.EvalRecord.html#dropPureBind"><span class="hs-identifier hs-type">dropPureBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680157057"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157058"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=&lt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pure</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157057"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157058"><span class="hs-identifier hs-type">f</span></a></span></span></span><span>
</span><span id="line-789"></span><span id="dropPureBind"><span class="annot"><span class="annottext">dropPureBind :: forall {b} {c} (rec :: (b -&gt; c -&gt; *) -&gt; *) (f :: b -&gt; c -&gt; *).
rec (f &lt;=&lt; Pure) -&gt; rec f
</span><a href="Data.EvalRecord.html#dropPureBind"><span class="hs-identifier hs-var hs-var">dropPureBind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">rec (f &lt;=&lt; Pure) -&gt; rec f
forall a b. a -&gt; b
</span><span class="hs-identifier hs-var">unsafeCoerce</span></span><span>
</span><span id="line-790"></span><span>
</span><span id="line-791"></span><span>
</span><span id="line-792"></span><span class="annot"><span class="hs-comment">-- | A version of `distribute` with @g@ specialized to `Pure`.</span></span><span>
</span><span id="line-793"></span><span id="local-6989586621680157065"><span id="local-6989586621680157066"><span class="annot"><a href="Data.EvalRecord.html#distribute%27"><span class="hs-identifier hs-type">distribute'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#DistributiveRec"><span class="hs-identifier hs-type">DistributiveRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157065"><span class="hs-identifier hs-type">rec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621680157066"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157066"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157065"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pure</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157065"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure1</span></span><span> </span><span class="annot"><a href="#local-6989586621680157066"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-794"></span><span id="distribute%27"><span class="annot"><span class="annottext">distribute' :: forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; *).
(DistributiveRec rec, Functor f) =&gt;
f (rec Pure) -&gt; rec (Pure1 f)
</span><a href="Data.EvalRecord.html#distribute%27"><span class="hs-identifier hs-var hs-var">distribute'</span></a></span></span><span> </span><span id="local-6989586621680157623"><span class="annot"><span class="annottext">f (rec Pure)
</span><a href="#local-6989586621680157623"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">rec (Pure1 f &lt;=&lt; Pure) -&gt; rec (Pure1 f)
forall {b} {c} (rec :: (b -&gt; c -&gt; *) -&gt; *) (f :: b -&gt; c -&gt; *).
rec (f &lt;=&lt; Pure) -&gt; rec f
</span><a href="Data.EvalRecord.html#dropPureBind"><span class="hs-identifier hs-var">dropPureBind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f (rec Pure) -&gt; rec (Pure1 f &lt;=&lt; Pure)
forall (f :: * -&gt; *) (g :: * -&gt; * -&gt; *).
Functor f =&gt;
f (rec g) -&gt; rec (Pure1 f &lt;=&lt; g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; *)
       (g :: * -&gt; * -&gt; *).
(DistributiveRec rec, Functor f) =&gt;
f (rec g) -&gt; rec (Pure1 f &lt;=&lt; g)
</span><a href="Data.EvalRecord.html#distribute"><span class="hs-identifier hs-var">distribute</span></a></span><span> </span><span class="annot"><span class="annottext">f (rec Pure)
</span><a href="#local-6989586621680157623"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-795"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#distribute%27"><span class="hs-pragma hs-type">distribute'</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-796"></span><span>
</span><span id="line-797"></span><span>
</span><span id="line-798"></span><span class="hs-comment">-- Dual of 'traverse'</span><span>
</span><span id="line-799"></span><span id="local-6989586621680157071"><span id="local-6989586621680157072"><span id="local-6989586621680157073"><span class="annot"><a href="Data.EvalRecord.html#cotraverse"><span class="hs-identifier hs-type">cotraverse</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#DistributiveRec"><span class="hs-identifier hs-type">DistributiveRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157071"><span class="hs-identifier hs-type">rec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621680157072"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680157074"><span class="annot"><a href="#local-6989586621680157074"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621680157072"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157073"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157074"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157072"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157074"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157072"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157071"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157073"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157071"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure1</span></span><span> </span><span class="annot"><a href="#local-6989586621680157072"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-800"></span><span id="cotraverse"><span class="annot"><span class="annottext">cotraverse :: forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; *)
       (g :: * -&gt; * -&gt; *).
(DistributiveRec rec, Functor f) =&gt;
(forall a. f (g @@ a) -&gt; f a) -&gt; f (rec g) -&gt; rec (Pure1 f)
</span><a href="Data.EvalRecord.html#cotraverse"><span class="hs-identifier hs-var hs-var">cotraverse</span></a></span></span><span> </span><span id="local-6989586621680157630"><span class="annot"><span class="annottext">forall a. f (g @@ a) -&gt; f a
</span><a href="#local-6989586621680157630"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a. Metadata a -&gt; ((Pure1 f &lt;=&lt; g) @@ a) -&gt; Pure1 f @@ a)
-&gt; rec (Pure1 f &lt;=&lt; g) -&gt; rec (Pure1 f)
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; rec f -&gt; rec g
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
FunctorRec rec =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; rec f -&gt; rec g
</span><a href="Data.EvalRecord.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Metadata a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">f (g @@ a) -&gt; f a
((Pure1 f &lt;=&lt; g) @@ a) -&gt; Pure1 f @@ a
forall a. f (g @@ a) -&gt; f a
</span><a href="#local-6989586621680157630"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(rec (Pure1 f &lt;=&lt; g) -&gt; rec (Pure1 f))
-&gt; (f (rec g) -&gt; rec (Pure1 f &lt;=&lt; g)) -&gt; f (rec g) -&gt; rec (Pure1 f)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">f (rec g) -&gt; rec (Pure1 f &lt;=&lt; g)
forall (f :: * -&gt; *) (g :: * -&gt; * -&gt; *).
Functor f =&gt;
f (rec g) -&gt; rec (Pure1 f &lt;=&lt; g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; *)
       (g :: * -&gt; * -&gt; *).
(DistributiveRec rec, Functor f) =&gt;
f (rec g) -&gt; rec (Pure1 f &lt;=&lt; g)
</span><a href="Data.EvalRecord.html#distribute"><span class="hs-identifier hs-var">distribute</span></a></span><span>
</span><span id="line-801"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#cotraverse"><span class="hs-pragma hs-type">cotraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-802"></span><span>
</span><span id="line-803"></span><span>
</span><span id="line-804"></span><span class="annot"><span class="hs-comment">{- | Decompose a function returning a distributive record into
  a collection of simpler functions.
-}</span></span><span>
</span><span id="line-807"></span><span id="local-6989586621680157079"><span id="local-6989586621680157080"><span class="annot"><a href="Data.EvalRecord.html#decompose"><span class="hs-identifier hs-type">decompose</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#DistributiveRec"><span class="hs-identifier hs-type">DistributiveRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157079"><span class="hs-identifier hs-type">rec</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157080"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157079"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pure</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157079"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680157080"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-808"></span><span id="decompose"><span class="annot"><span class="annottext">decompose :: forall (rec :: (* -&gt; * -&gt; *) -&gt; *) a.
DistributiveRec rec =&gt;
(a -&gt; rec Pure) -&gt; rec (Pure1 ((-&gt;) a))
</span><a href="Data.EvalRecord.html#decompose"><span class="hs-identifier hs-var hs-var">decompose</span></a></span></span><span> </span><span id="local-6989586621680157635"><span class="annot"><span class="annottext">a -&gt; rec Pure
</span><a href="#local-6989586621680157635"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">rec (Pure1 ((-&gt;) a) &lt;=&lt; Pure) -&gt; rec (Pure1 ((-&gt;) a))
forall {b} {c} (rec :: (b -&gt; c -&gt; *) -&gt; *) (f :: b -&gt; c -&gt; *).
rec (f &lt;=&lt; Pure) -&gt; rec f
</span><a href="Data.EvalRecord.html#dropPureBind"><span class="hs-identifier hs-var">dropPureBind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; rec Pure) -&gt; rec (Pure1 ((-&gt;) a) &lt;=&lt; Pure)
forall (f :: * -&gt; *) (g :: * -&gt; * -&gt; *).
Functor f =&gt;
f (rec g) -&gt; rec (Pure1 f &lt;=&lt; g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; *)
       (g :: * -&gt; * -&gt; *).
(DistributiveRec rec, Functor f) =&gt;
f (rec g) -&gt; rec (Pure1 f &lt;=&lt; g)
</span><a href="Data.EvalRecord.html#distribute"><span class="hs-identifier hs-var">distribute</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; rec Pure
</span><a href="#local-6989586621680157635"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-809"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#decompose"><span class="hs-pragma hs-type">decompose</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-810"></span><span>
</span><span id="line-811"></span><span>
</span><span id="line-812"></span><span class="annot"><span class="hs-comment">-- | Recompose a decomposed function.</span></span><span>
</span><span id="line-813"></span><span id="local-6989586621680157084"><span id="local-6989586621680157085"><span class="annot"><a href="Data.EvalRecord.html#recompose"><span class="hs-identifier hs-type">recompose</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#FunctorRec"><span class="hs-identifier hs-type">FunctorRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157084"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157084"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680157085"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157085"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157084"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pure</span></span></span></span><span>
</span><span id="line-814"></span><span id="recompose"><span class="annot"><span class="annottext">recompose :: forall (rec :: (* -&gt; * -&gt; *) -&gt; *) a.
FunctorRec rec =&gt;
rec (Pure1 ((-&gt;) a)) -&gt; a -&gt; rec Pure
</span><a href="Data.EvalRecord.html#recompose"><span class="hs-identifier hs-var hs-var">recompose</span></a></span></span><span> </span><span id="local-6989586621680157638"><span class="annot"><span class="annottext">rec (Pure1 ((-&gt;) a))
</span><a href="#local-6989586621680157638"><span class="hs-identifier hs-var">bfs</span></a></span></span><span> </span><span id="local-6989586621680157639"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680157639"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a. Metadata a -&gt; (Pure1 ((-&gt;) a) @@ a) -&gt; Pure @@ a)
-&gt; rec (Pure1 ((-&gt;) a)) -&gt; rec Pure
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; rec f -&gt; rec g
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
FunctorRec rec =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; rec f -&gt; rec g
</span><a href="Data.EvalRecord.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Metadata a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680157640"><span class="annot"><span class="annottext">Pure1 ((-&gt;) a) @@ a
</span><a href="#local-6989586621680157640"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pure1 ((-&gt;) a) @@ a
a -&gt; a
</span><a href="#local-6989586621680157640"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680157639"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">rec (Pure1 ((-&gt;) a))
</span><a href="#local-6989586621680157638"><span class="hs-identifier hs-var">bfs</span></a></span><span>
</span><span id="line-815"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#recompose"><span class="hs-pragma hs-type">recompose</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-816"></span><span>
</span><span id="line-817"></span><span>
</span><span id="line-818"></span><span class="annot"><span class="hs-comment">-- | A wrapper for Eval Record-types, providing useful instances.</span></span><span>
</span><span id="line-819"></span><span class="hs-keyword">newtype</span><span> </span><span id="EvalRecord"><span class="annot"><a href="Data.EvalRecord.html#EvalRecord"><span class="hs-identifier hs-var">EvalRecord</span></a></span></span><span> </span><span id="local-6989586621680157089"><span class="annot"><a href="#local-6989586621680157089"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680157090"><span class="annot"><a href="#local-6989586621680157090"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="EvalRecord"><span class="annot"><a href="Data.EvalRecord.html#EvalRecord"><span class="hs-identifier hs-var">EvalRecord</span></a></span></span><span> </span><span class="hs-special">{</span><span id="evalRecord"><span class="annot"><span class="annottext">forall (b :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *).
EvalRecord b f -&gt; b f
</span><a href="Data.EvalRecord.html#evalRecord"><span class="hs-identifier hs-var hs-var">evalRecord</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680157089"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157090"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-820"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680157645"><span class="annot"><span class="annottext">(forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
 (forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a)
 -&gt; EvalRecord b f -&gt; EvalRecord b g)
-&gt; FunctorRec (EvalRecord b)
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a)
-&gt; EvalRecord b f -&gt; EvalRecord b g
forall (b :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
FunctorRec b =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a)
-&gt; EvalRecord b f -&gt; EvalRecord b g
forall (rec :: (* -&gt; * -&gt; *) -&gt; *).
(forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
 (forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; rec f -&gt; rec g)
-&gt; FunctorRec rec
$cmap :: forall (b :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
FunctorRec b =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a)
-&gt; EvalRecord b f -&gt; EvalRecord b g
map :: forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a)
-&gt; EvalRecord b f -&gt; EvalRecord b g
</span><a href="Data.EvalRecord.html#FunctorRec"><span class="hs-identifier hs-var hs-var hs-var hs-var">FunctorRec</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680157655"><span id="local-6989586621680157659"><span class="annot"><span class="annottext">FunctorRec (EvalRecord b)
FunctorRec (EvalRecord b) =&gt;
(forall (f :: * -&gt; * -&gt; *).
 (forall a. Metadata a -&gt; f @@ a) -&gt; EvalRecord b f)
-&gt; (forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
    EvalRecord b f -&gt; EvalRecord b g -&gt; EvalRecord b (Tuple2 f g))
-&gt; ApplicativeRec (EvalRecord b)
forall (f :: * -&gt; * -&gt; *).
(forall a. Metadata a -&gt; f @@ a) -&gt; EvalRecord b f
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
EvalRecord b f -&gt; EvalRecord b g -&gt; EvalRecord b (Tuple2 f g)
forall (b :: (* -&gt; * -&gt; *) -&gt; *).
ApplicativeRec b =&gt;
FunctorRec (EvalRecord b)
forall (b :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *).
ApplicativeRec b =&gt;
(forall a. Metadata a -&gt; f @@ a) -&gt; EvalRecord b f
forall (b :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
ApplicativeRec b =&gt;
EvalRecord b f -&gt; EvalRecord b g -&gt; EvalRecord b (Tuple2 f g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *).
FunctorRec rec =&gt;
(forall (f :: * -&gt; * -&gt; *).
 (forall a. Metadata a -&gt; f @@ a) -&gt; rec f)
-&gt; (forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
    rec f -&gt; rec g -&gt; rec (Tuple2 f g))
-&gt; ApplicativeRec rec
$cpure :: forall (b :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *).
ApplicativeRec b =&gt;
(forall a. Metadata a -&gt; f @@ a) -&gt; EvalRecord b f
pure :: forall (f :: * -&gt; * -&gt; *).
(forall a. Metadata a -&gt; f @@ a) -&gt; EvalRecord b f
$cprod :: forall (b :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
ApplicativeRec b =&gt;
EvalRecord b f -&gt; EvalRecord b g -&gt; EvalRecord b (Tuple2 f g)
prod :: forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
EvalRecord b f -&gt; EvalRecord b g -&gt; EvalRecord b (Tuple2 f g)
</span><a href="Data.EvalRecord.html#ApplicativeRec"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ApplicativeRec</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-821"></span><span>
</span><span id="line-822"></span><span>
</span><span id="line-823"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680157104"><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#WitnessFieldTypes"><span class="hs-identifier hs-type">WitnessFieldTypes</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157104"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#FunctorRec"><span class="hs-identifier hs-type">FunctorRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157104"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#WitnessFieldTypes"><span class="hs-identifier hs-type">WitnessFieldTypes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#EvalRecord"><span class="hs-identifier hs-type">EvalRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157104"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-824"></span><span>  </span><span id="local-6989586621680157673"><span class="annot"><span class="annottext">typeName :: Proxy (EvalRecord b) -&gt; String
</span><a href="Data.EvalRecord.html#typeName"><span class="hs-identifier hs-var hs-var hs-var">typeName</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (EvalRecord b)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy b -&gt; String
forall (rec :: (* -&gt; * -&gt; *) -&gt; *).
WitnessFieldTypes rec =&gt;
Proxy rec -&gt; String
</span><a href="Data.EvalRecord.html#typeName"><span class="hs-identifier hs-var">typeName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b
forall {k} (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621680157104"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-825"></span><span>  </span><span id="local-6989586621680157675"><span class="annot"><span class="annottext">typeProxies :: EvalRecord b (Pure1 Metadata)
</span><a href="Data.EvalRecord.html#typeProxies"><span class="hs-identifier hs-var hs-var hs-var">typeProxies</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EvalRecord b (Pure1 Metadata)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *).
WitnessFieldTypes rec =&gt;
rec (Pure1 Metadata)
</span><a href="Data.EvalRecord.html#typeProxies"><span class="hs-identifier hs-var">typeProxies</span></a></span><span>
</span><span id="line-826"></span><span>  </span><span id="local-6989586621680157678"><span class="annot"><span class="annottext">getAccessors :: EvalRecord b (Pure1 (LensRec (EvalRecord b)))
</span><a href="Data.EvalRecord.html#getAccessors"><span class="hs-identifier hs-var hs-var hs-var">getAccessors</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-827"></span><span>    </span><span class="annot"><span class="annottext">b (Pure1 (LensRec (EvalRecord b)))
-&gt; EvalRecord b (Pure1 (LensRec (EvalRecord b)))
forall (b :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *).
b f -&gt; EvalRecord b f
</span><a href="Data.EvalRecord.html#EvalRecord"><span class="hs-identifier hs-var">EvalRecord</span></a></span><span> </span><span class="annot"><span class="annottext">(b (Pure1 (LensRec (EvalRecord b)))
 -&gt; EvalRecord b (Pure1 (LensRec (EvalRecord b))))
-&gt; b (Pure1 (LensRec (EvalRecord b)))
-&gt; EvalRecord b (Pure1 (LensRec (EvalRecord b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-828"></span><span>      </span><span class="annot"><span class="annottext">(forall a.
 Metadata a
 -&gt; (Pure1 (LensRec b) @@ a) -&gt; Pure1 (LensRec (EvalRecord b)) @@ a)
-&gt; b (Pure1 (LensRec b)) -&gt; b (Pure1 (LensRec (EvalRecord b)))
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; b f -&gt; b g
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
FunctorRec rec =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; rec f -&gt; rec g
</span><a href="Data.EvalRecord.html#map"><span class="hs-identifier hs-var">map</span></a></span><span>
</span><span id="line-829"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Metadata a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#LensRec"><span class="hs-identifier hs-type">LensRec</span></a></span><span> </span><span id="local-6989586621680157679"><span class="annot"><span class="annottext">forall (f :: * -&gt; * -&gt; *). b f -&gt; f @@ a
</span><a href="#local-6989586621680157679"><span class="hs-identifier hs-var">getter</span></a></span></span><span> </span><span id="local-6989586621680157680"><span class="annot"><span class="annottext">forall (f :: * -&gt; * -&gt; *). (f @@ a) -&gt; b f -&gt; b f
</span><a href="#local-6989586621680157680"><span class="hs-identifier hs-var">setter</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-830"></span><span>            </span><span class="annot"><a href="Data.EvalRecord.html#LensRec"><span class="hs-identifier hs-type">LensRec</span></a></span><span>
</span><span id="line-831"></span><span>              </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">view :: forall (f :: * -&gt; * -&gt; *). EvalRecord b f -&gt; f @@ a
</span><a href="Data.EvalRecord.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b f -&gt; Eval (f a)
forall (f :: * -&gt; * -&gt; *). b f -&gt; f @@ a
</span><a href="#local-6989586621680157679"><span class="hs-identifier hs-var">getter</span></a></span><span> </span><span class="annot"><span class="annottext">(b f -&gt; Eval (f a))
-&gt; (EvalRecord b f -&gt; b f) -&gt; EvalRecord b f -&gt; Eval (f a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">EvalRecord b f -&gt; b f
forall (b :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *).
EvalRecord b f -&gt; b f
</span><a href="Data.EvalRecord.html#evalRecord"><span class="hs-identifier hs-var">evalRecord</span></a></span><span>
</span><span id="line-832"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">set :: forall (f :: * -&gt; * -&gt; *).
(f @@ a) -&gt; EvalRecord b f -&gt; EvalRecord b f
</span><a href="Data.EvalRecord.html#set"><span class="hs-identifier hs-var">set</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680157681"><span class="annot"><span class="annottext">f @@ a
</span><a href="#local-6989586621680157681"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#EvalRecord"><span class="hs-identifier hs-type">EvalRecord</span></a></span><span> </span><span id="local-6989586621680157682"><span class="annot"><span class="annottext">b f
</span><a href="#local-6989586621680157682"><span class="hs-identifier hs-var">record</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b f -&gt; EvalRecord b f
forall (b :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *).
b f -&gt; EvalRecord b f
</span><a href="Data.EvalRecord.html#EvalRecord"><span class="hs-identifier hs-var">EvalRecord</span></a></span><span> </span><span class="annot"><span class="annottext">(b f -&gt; EvalRecord b f) -&gt; b f -&gt; EvalRecord b f
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(f @@ a) -&gt; b f -&gt; b f
forall (f :: * -&gt; * -&gt; *). (f @@ a) -&gt; b f -&gt; b f
</span><a href="#local-6989586621680157680"><span class="hs-identifier hs-var">setter</span></a></span><span> </span><span class="annot"><span class="annottext">f @@ a
</span><a href="#local-6989586621680157681"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">b f
</span><a href="#local-6989586621680157682"><span class="hs-identifier hs-var">record</span></a></span><span>
</span><span id="line-833"></span><span>              </span><span class="hs-special">}</span><span>
</span><span id="line-834"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-835"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b (Pure1 (LensRec b))
forall (rec :: (* -&gt; * -&gt; *) -&gt; *).
WitnessFieldTypes rec =&gt;
rec (Pure1 (LensRec rec))
</span><a href="Data.EvalRecord.html#getAccessors"><span class="hs-identifier hs-var">getAccessors</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680157104"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#LensRec"><span class="hs-identifier hs-type">LensRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157104"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-836"></span><span>  </span><span id="local-6989586621680157684"><span class="annot"><span class="annottext">nestedFieldNames :: EvalRecord b (ConstFn (NonEmpty String))
</span><a href="Data.EvalRecord.html#nestedFieldNames"><span class="hs-identifier hs-var hs-var hs-var">nestedFieldNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b (ConstFn (NonEmpty String))
-&gt; EvalRecord b (ConstFn (NonEmpty String))
forall (b :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *).
b f -&gt; EvalRecord b f
</span><a href="Data.EvalRecord.html#EvalRecord"><span class="hs-identifier hs-var">EvalRecord</span></a></span><span> </span><span class="annot"><span class="annottext">b (ConstFn (NonEmpty String))
forall (rec :: (* -&gt; * -&gt; *) -&gt; *).
WitnessFieldTypes rec =&gt;
rec (ConstFn (NonEmpty String))
</span><a href="Data.EvalRecord.html#nestedFieldNames"><span class="hs-identifier hs-var">nestedFieldNames</span></a></span><span>
</span><span id="line-837"></span><span>
</span><span id="line-838"></span><span>
</span><span id="line-839"></span><span class="hs-comment">-- Need to derive it manually to make GHC 8.0.2 happy</span><span>
</span><span id="line-840"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680157109"><span class="annot"><a href="Data.EvalRecord.html#ConstraintsRec"><span class="hs-identifier hs-type">ConstraintsRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157109"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ConstraintsRec"><span class="hs-identifier hs-type">ConstraintsRec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#EvalRecord"><span class="hs-identifier hs-type">EvalRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157109"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-841"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="AllRec"><span class="annot"><a href="Data.EvalRecord.html#AllRec"><span class="hs-identifier hs-var">AllRec</span></a></span></span><span> </span><span id="local-6989586621680157692"><span class="annot"><a href="#local-6989586621680157692"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#EvalRecord"><span class="hs-identifier hs-type">EvalRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157109"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#AllRec"><span class="hs-identifier hs-type">AllRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157692"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157109"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-842"></span><span>  </span><span id="local-6989586621680157697"><span class="annot"><span class="annottext">addDicts :: forall (c :: * -&gt; Constraint) (f :: * -&gt; * -&gt; *).
AllRec c (EvalRecord b) =&gt;
EvalRecord b f -&gt; EvalRecord b (Tuple2 (Pure1 (Dict c)) f)
</span><a href="Data.EvalRecord.html#addDicts"><span class="hs-identifier hs-var hs-var hs-var">addDicts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b (Tuple2 (Pure1 (Dict c)) f)
-&gt; EvalRecord b (Tuple2 (Pure1 (Dict c)) f)
forall (b :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *).
b f -&gt; EvalRecord b f
</span><a href="Data.EvalRecord.html#EvalRecord"><span class="hs-identifier hs-var">EvalRecord</span></a></span><span> </span><span class="annot"><span class="annottext">(b (Tuple2 (Pure1 (Dict c)) f)
 -&gt; EvalRecord b (Tuple2 (Pure1 (Dict c)) f))
-&gt; (EvalRecord b f -&gt; b (Tuple2 (Pure1 (Dict c)) f))
-&gt; EvalRecord b f
-&gt; EvalRecord b (Tuple2 (Pure1 (Dict c)) f)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">b f -&gt; b (Tuple2 (Pure1 (Dict c)) f)
forall (c :: * -&gt; Constraint) (f :: * -&gt; * -&gt; *).
AllRec c b =&gt;
b f -&gt; b (Tuple2 (Pure1 (Dict c)) f)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (c :: * -&gt; Constraint)
       (f :: * -&gt; * -&gt; *).
(ConstraintsRec rec, AllRec c rec) =&gt;
rec f -&gt; rec (Tuple2 (Pure1 (Dict c)) f)
</span><a href="Data.EvalRecord.html#addDicts"><span class="hs-identifier hs-var">addDicts</span></a></span><span> </span><span class="annot"><span class="annottext">(b f -&gt; b (Tuple2 (Pure1 (Dict c)) f))
-&gt; (EvalRecord b f -&gt; b f)
-&gt; EvalRecord b f
-&gt; b (Tuple2 (Pure1 (Dict c)) f)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">EvalRecord b f -&gt; b f
forall (b :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *).
EvalRecord b f -&gt; b f
</span><a href="Data.EvalRecord.html#evalRecord"><span class="hs-identifier hs-var">evalRecord</span></a></span><span>
</span><span id="line-843"></span><span>
</span><span id="line-844"></span><span>
</span><span id="line-845"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680157113"><span class="annot"><a href="Data.EvalRecord.html#TraversableRec"><span class="hs-identifier hs-type">TraversableRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157113"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#TraversableRec"><span class="hs-identifier hs-type">TraversableRec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#EvalRecord"><span class="hs-identifier hs-type">EvalRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157113"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-846"></span><span>  </span><span id="local-6989586621680157712"><span class="annot"><span class="annottext">traverse :: forall (e :: * -&gt; *) (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
Applicative e =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; e (g @@ a))
-&gt; EvalRecord b f -&gt; e (EvalRecord b g)
</span><a href="Data.EvalRecord.html#traverse"><span class="hs-identifier hs-var hs-var hs-var">traverse</span></a></span></span><span> </span><span id="local-6989586621680157713"><span class="annot"><span class="annottext">forall a. Metadata a -&gt; (f @@ a) -&gt; e (g @@ a)
</span><a href="#local-6989586621680157713"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b g -&gt; EvalRecord b g) -&gt; e (b g) -&gt; e (EvalRecord b g)
forall a b. (a -&gt; b) -&gt; e a -&gt; e b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">b g -&gt; EvalRecord b g
forall (b :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *).
b f -&gt; EvalRecord b f
</span><a href="Data.EvalRecord.html#EvalRecord"><span class="hs-identifier hs-var">EvalRecord</span></a></span><span> </span><span class="annot"><span class="annottext">(e (b g) -&gt; e (EvalRecord b g))
-&gt; (EvalRecord b f -&gt; e (b g))
-&gt; EvalRecord b f
-&gt; e (EvalRecord b g)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(forall a. Metadata a -&gt; (f @@ a) -&gt; e (g @@ a)) -&gt; b f -&gt; e (b g)
forall (e :: * -&gt; *) (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
Applicative e =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; e (g @@ a)) -&gt; b f -&gt; e (b g)
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (e :: * -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *).
(TraversableRec rec, Applicative e) =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; e (g @@ a))
-&gt; rec f -&gt; e (rec g)
</span><a href="Data.EvalRecord.html#traverse"><span class="hs-identifier hs-var">Data.EvalRecord.traverse</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a -&gt; (f @@ a) -&gt; e (g @@ a)
forall a. Metadata a -&gt; (f @@ a) -&gt; e (g @@ a)
</span><a href="#local-6989586621680157713"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(b f -&gt; e (b g))
-&gt; (EvalRecord b f -&gt; b f) -&gt; EvalRecord b f -&gt; e (b g)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">EvalRecord b f -&gt; b f
forall (b :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *).
EvalRecord b f -&gt; b f
</span><a href="Data.EvalRecord.html#evalRecord"><span class="hs-identifier hs-var">evalRecord</span></a></span><span>
</span><span id="line-847"></span><span>  </span><span id="local-6989586621680157717"><span class="annot"><span class="annottext">traverse_ :: forall (e :: * -&gt; *) (f :: * -&gt; * -&gt; *) c.
Applicative e =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; e c) -&gt; EvalRecord b f -&gt; e ()
</span><a href="Data.EvalRecord.html#traverse_"><span class="hs-identifier hs-var hs-var hs-var">traverse_</span></a></span></span><span> </span><span id="local-6989586621680157718"><span class="annot"><span class="annottext">forall a. Metadata a -&gt; (f @@ a) -&gt; e c
</span><a href="#local-6989586621680157718"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a. Metadata a -&gt; (f @@ a) -&gt; e c) -&gt; b f -&gt; e ()
forall (e :: * -&gt; *) (f :: * -&gt; * -&gt; *) c.
Applicative e =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; e c) -&gt; b f -&gt; e ()
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (e :: * -&gt; *) (f :: * -&gt; * -&gt; *)
       c.
(TraversableRec rec, Applicative e) =&gt;
(forall a. Metadata a -&gt; (f @@ a) -&gt; e c) -&gt; rec f -&gt; e ()
</span><a href="Data.EvalRecord.html#traverse_"><span class="hs-identifier hs-var">Data.EvalRecord.traverse_</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a -&gt; (f @@ a) -&gt; e c
forall a. Metadata a -&gt; (f @@ a) -&gt; e c
</span><a href="#local-6989586621680157718"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(b f -&gt; e ()) -&gt; (EvalRecord b f -&gt; b f) -&gt; EvalRecord b f -&gt; e ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">EvalRecord b f -&gt; b f
forall (b :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *).
EvalRecord b f -&gt; b f
</span><a href="Data.EvalRecord.html#evalRecord"><span class="hs-identifier hs-var">evalRecord</span></a></span><span>
</span><span id="line-848"></span><span>
</span><span id="line-849"></span><span>
</span><span id="line-850"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680157127"><span id="local-6989586621680157128"><span id="local-6989586621680157724"><span id="local-6989586621680157729"><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#ConstraintsRec"><span class="hs-identifier hs-type">ConstraintsRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157127"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ApplicativeRec"><span class="hs-identifier hs-type">ApplicativeRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157127"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#AllRecF"><span class="hs-identifier hs-type">AllRecF</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621680157128"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157127"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#EvalRecord"><span class="hs-identifier hs-type">EvalRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157127"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157128"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-851"></span><span>  </span><span id="local-6989586621680157740"><span class="annot"><span class="annottext">&lt;&gt; :: EvalRecord b f -&gt; EvalRecord b f -&gt; EvalRecord b f
</span><span class="hs-operator hs-var hs-var hs-var">(&lt;&gt;)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a.
 Metadata a
 -&gt; (Pure1 (Dict (ClassF Semigroup f)) @@ a)
 -&gt; (f @@ a)
 -&gt; (f @@ a)
 -&gt; f @@ a)
-&gt; EvalRecord b (Pure1 (Dict (ClassF Semigroup f)))
-&gt; EvalRecord b f
-&gt; EvalRecord b f
-&gt; EvalRecord b f
forall (rec :: (* -&gt; * -&gt; *) -&gt; *) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *) (h :: * -&gt; * -&gt; *) (i :: * -&gt; * -&gt; *).
ApplicativeRec rec =&gt;
(forall a.
 Metadata a -&gt; (f @@ a) -&gt; (g @@ a) -&gt; (h @@ a) -&gt; i @@ a)
-&gt; rec f -&gt; rec g -&gt; rec h -&gt; rec i
</span><a href="Data.EvalRecord.html#zipWith3"><span class="hs-identifier hs-var">zipWith3</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a
-&gt; Eval (Pure1 (Dict (ClassF Semigroup f)) a)
-&gt; (f @@ a)
-&gt; (f @@ a)
-&gt; f @@ a
Metadata a
-&gt; Dict (ClassF Semigroup f) a -&gt; (f @@ a) -&gt; (f @@ a) -&gt; f @@ a
forall a.
Metadata a
-&gt; (Pure1 (Dict (ClassF Semigroup f)) @@ a)
-&gt; (f @@ a)
-&gt; (f @@ a)
-&gt; f @@ a
forall a.
Metadata a
-&gt; Dict (ClassF Semigroup f) a -&gt; (f @@ a) -&gt; (f @@ a) -&gt; f @@ a
</span><a href="#local-6989586621680157741"><span class="hs-identifier hs-var">mk</span></a></span><span> </span><span class="annot"><span class="annottext">EvalRecord b (Pure1 (Dict (ClassF Semigroup f)))
forall (c :: * -&gt; Constraint) (b :: (* -&gt; * -&gt; *) -&gt; *).
(AllRec c b, ApplicativeRec b, ConstraintsRec b) =&gt;
b (Pure1 (Dict c))
</span><a href="Data.EvalRecord.html#dicts"><span class="hs-identifier hs-var">dicts</span></a></span><span>
</span><span id="line-852"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-853"></span><span>      </span><span id="local-6989586621680157130"><span class="annot"><a href="#local-6989586621680157741"><span class="hs-identifier hs-type">mk</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157130"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Dict"><span class="hs-identifier hs-type">Dict</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#ClassF"><span class="hs-identifier hs-type">ClassF</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621680157128"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680157130"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157128"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157130"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157128"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157130"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157128"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157130"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-854"></span><span>      </span><span id="local-6989586621680157741"><span class="annot"><span class="annottext">mk :: forall a.
Metadata a
-&gt; Dict (ClassF Semigroup f) a -&gt; (f @@ a) -&gt; (f @@ a) -&gt; f @@ a
</span><a href="#local-6989586621680157741"><span class="hs-identifier hs-var hs-var">mk</span></a></span></span><span> </span><span class="annot"><span class="annottext">Metadata a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ClassF Semigroup f a =&gt; Eval (f a) -&gt; Eval (f a) -&gt; Eval (f a))
-&gt; Dict (ClassF Semigroup f) a
-&gt; Eval (f a)
-&gt; Eval (f a)
-&gt; Eval (f a)
forall {k} (c :: k -&gt; Constraint) (a :: k) r.
(c a =&gt; r) -&gt; Dict c a -&gt; r
</span><a href="Data.EvalRecord.html#requiringDict"><span class="hs-identifier hs-var">requiringDict</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (f a) -&gt; Eval (f a) -&gt; Eval (f a)
ClassF Semigroup f a =&gt; Eval (f a) -&gt; Eval (f a) -&gt; Eval (f a)
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span><span>
</span><span id="line-855"></span><span>
</span><span id="line-856"></span><span>
</span><span id="line-857"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680157134"><span id="local-6989586621680157135"><span id="local-6989586621680157755"><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#ConstraintsRec"><span class="hs-identifier hs-type">ConstraintsRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157134"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ApplicativeRec"><span class="hs-identifier hs-type">ApplicativeRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157134"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#AllRecF"><span class="hs-identifier hs-type">AllRecF</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621680157135"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157134"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#AllRecF"><span class="hs-identifier hs-type">AllRecF</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621680157135"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157134"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#EvalRecord"><span class="hs-identifier hs-type">EvalRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157134"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157135"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-858"></span><span>  </span><span id="local-6989586621680157765"><span class="annot"><span class="annottext">mempty :: EvalRecord b f
</span><span class="hs-identifier hs-var hs-var hs-var">mempty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EvalRecord b f
forall (f :: * -&gt; * -&gt; *) (b :: (* -&gt; * -&gt; *) -&gt; *).
(AllRecF Monoid f b, ConstraintsRec b, ApplicativeRec b) =&gt;
b f
</span><a href="Data.EvalRecord.html#mempty"><span class="hs-identifier hs-var">Data.EvalRecord.mempty</span></a></span><span>
</span><span id="line-859"></span><span>  </span><span id="local-6989586621680157768"><span class="annot"><span class="annottext">mappend :: EvalRecord b f -&gt; EvalRecord b f -&gt; EvalRecord b f
</span><span class="hs-identifier hs-var hs-var hs-var">mappend</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EvalRecord b f -&gt; EvalRecord b f -&gt; EvalRecord b f
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span><span>
</span><span id="line-860"></span><span>
</span><span id="line-861"></span><span>
</span><span id="line-862"></span><span class="hs-keyword">data</span><span> </span><span id="MapMatches"><span class="annot"><a href="Data.EvalRecord.html#MapMatches"><span class="hs-identifier hs-var">MapMatches</span></a></span></span><span> </span><span id="local-6989586621680157769"><span class="annot"><a href="#local-6989586621680157769"><span class="hs-identifier hs-type">pred</span></a></span></span><span> </span><span id="local-6989586621680157770"><span class="annot"><a href="#local-6989586621680157770"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-863"></span><span>
</span><span id="line-864"></span><span>
</span><span id="line-865"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Eval"><span class="annot"><span class="hs-identifier hs-var">Eval</span></span></span><span> </span><span id="local-6989586621680157771"><span id="local-6989586621680157772"><span id="local-6989586621680157773"><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#MapMatches"><span class="hs-identifier hs-type">MapMatches</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157771"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157772"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157773"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ValueOnMatch"><span class="hs-identifier hs-type">ValueOnMatch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157771"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157773"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157772"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157773"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680157773"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-866"></span><span>
</span><span id="line-867"></span><span>
</span><span id="line-868"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="ValueOnMatch"><span class="annot"><a href="Data.EvalRecord.html#ValueOnMatch"><span class="hs-identifier hs-var">ValueOnMatch</span></a></span></span><span> </span><span id="local-6989586621680157774"><span class="annot"><a href="#local-6989586621680157774"><span class="hs-identifier hs-type">cond</span></a></span></span><span> </span><span id="local-6989586621680157775"><span class="annot"><a href="#local-6989586621680157775"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621680157776"><span class="annot"><a href="#local-6989586621680157776"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-869"></span><span>  </span><span id="ValueOnMatch"><span class="annot"><a href="Data.EvalRecord.html#ValueOnMatch"><span class="hs-identifier hs-var">ValueOnMatch</span></a></span></span><span> </span><span id="local-6989586621680157777"><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="annot"><a href="#local-6989586621680157777"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621680157777"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-870"></span><span>  </span><span id="ValueOnMatch"><span class="annot"><a href="Data.EvalRecord.html#ValueOnMatch"><span class="hs-identifier hs-var">ValueOnMatch</span></a></span></span><span> </span><span id="local-6989586621680157778"><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="#local-6989586621680157778"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621680157778"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-871"></span><span>
</span><span id="line-872"></span><span>
</span><span id="line-873"></span><span class="hs-keyword">class</span><span> </span><span id="ApplyOnMatch"><span class="annot"><a href="Data.EvalRecord.html#ApplyOnMatch"><span class="hs-identifier hs-var">ApplyOnMatch</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680157140"><span class="annot"><a href="#local-6989586621680157140"><span class="hs-identifier hs-type">cond</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-874"></span><span>  </span><span id="applyOnMatch"><span class="annot"><a href="Data.EvalRecord.html#applyOnMatch"><span class="hs-identifier hs-type">applyOnMatch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621680157136"><span id="local-6989586621680157137"><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621680157140"><span class="hs-identifier hs-type">cond</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157136"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157137"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157136"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ValueOnMatch"><span class="hs-identifier hs-type">ValueOnMatch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157140"><span class="hs-identifier hs-type">cond</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157137"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157136"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-875"></span><span>
</span><span id="line-876"></span><span>
</span><span id="line-877"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ApplyOnMatch"><span class="hs-identifier hs-type">ApplyOnMatch</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-878"></span><span>  </span><span id="local-6989586621680157783"><span class="annot"><span class="annottext">applyOnMatch :: forall a b. Proxy 'True -&gt; (a -&gt; b) -&gt; a -&gt; ValueOnMatch 'True b a
</span><a href="Data.EvalRecord.html#applyOnMatch"><span class="hs-identifier hs-var hs-var hs-var">applyOnMatch</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy 'True
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680157784"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621680157784"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; b
a -&gt; ValueOnMatch 'True b a
</span><a href="#local-6989586621680157784"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-879"></span><span>
</span><span id="line-880"></span><span>
</span><span id="line-881"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ApplyOnMatch"><span class="hs-identifier hs-type">ApplyOnMatch</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-882"></span><span>  </span><span id="local-6989586621680157787"><span class="annot"><span class="annottext">applyOnMatch :: forall a b.
Proxy 'False -&gt; (a -&gt; b) -&gt; a -&gt; ValueOnMatch 'False b a
</span><a href="Data.EvalRecord.html#applyOnMatch"><span class="hs-identifier hs-var hs-var hs-var">applyOnMatch</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy 'False
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680157788"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680157788"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
ValueOnMatch 'False b a
</span><a href="#local-6989586621680157788"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-883"></span><span>
</span><span id="line-884"></span><span>
</span><span id="line-885"></span><span class="annot"><a href="Data.EvalRecord.html#mapMatching"><span class="hs-identifier hs-type">mapMatching</span></a></span><span>
</span><span id="line-886"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680157146"><span class="annot"><a href="#local-6989586621680157146"><span class="hs-identifier hs-type">pred</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680157147"><span class="annot"><a href="#local-6989586621680157147"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680157149"><span class="annot"><a href="#local-6989586621680157149"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680157145"><span class="annot"><a href="#local-6989586621680157145"><span class="hs-identifier hs-type">rec</span></a></span></span><span>
</span><span id="line-887"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#FunctorRec"><span class="hs-identifier hs-type">FunctorRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157145"><span class="hs-identifier hs-type">rec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ConstraintsRec"><span class="hs-identifier hs-type">ConstraintsRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157145"><span class="hs-identifier hs-type">rec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#AllRecF"><span class="hs-identifier hs-type">AllRecF</span></a></span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ApplyOnMatch"><span class="hs-identifier hs-type">ApplyOnMatch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157146"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=&lt;</span></span><span> </span><span class="annot"><a href="#local-6989586621680157147"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680157145"><span class="hs-identifier hs-type">rec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-888"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157146"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-889"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680157148"><span class="annot"><a href="#local-6989586621680157148"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157148"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157147"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157148"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157149"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=&lt;</span></span><span> </span><span class="annot"><a href="#local-6989586621680157147"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157148"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-890"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157145"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157147"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-891"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157145"><span class="hs-identifier hs-type">rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#MapMatches"><span class="hs-identifier hs-type">MapMatches</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157146"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157149"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=&lt;</span></span><span> </span><span class="annot"><a href="#local-6989586621680157147"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-892"></span><span id="mapMatching"><span class="annot"><span class="annottext">mapMatching :: forall (pred :: * -&gt; Exp Bool) (f :: * -&gt; * -&gt; *)
       (g :: * -&gt; * -&gt; *) (rec :: (* -&gt; * -&gt; *) -&gt; *).
(FunctorRec rec, ConstraintsRec rec,
 AllRecF ApplyOnMatch (pred &lt;=&lt; f) rec) =&gt;
Proxy pred
-&gt; (forall a. Metadata a -&gt; (f @@ a) -&gt; (g &lt;=&lt; f) @@ a)
-&gt; rec f
-&gt; rec (MapMatches pred g &lt;=&lt; f)
</span><a href="Data.EvalRecord.html#mapMatching"><span class="hs-identifier hs-var hs-var">mapMatching</span></a></span></span><span> </span><span id="local-6989586621680157794"><span class="annot"><span class="annottext">Proxy pred
</span><a href="#local-6989586621680157794"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621680157795"><span class="annot"><span class="annottext">forall a. Metadata a -&gt; (f @@ a) -&gt; (g &lt;=&lt; f) @@ a
</span><a href="#local-6989586621680157795"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-893"></span><span>  </span><span class="annot"><span class="annottext">forall (c :: * -&gt; Constraint) (b :: (* -&gt; * -&gt; *) -&gt; *)
       (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *).
(AllRec c b, ConstraintsRec b) =&gt;
(forall a. c a =&gt; Metadata a -&gt; (f @@ a) -&gt; g @@ a) -&gt; b f -&gt; b g
</span><a href="Data.EvalRecord.html#mapC"><span class="hs-identifier hs-var">Data.EvalRecord.mapC</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#ClassF"><span class="hs-identifier hs-type">ClassF</span></a></span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ApplyOnMatch"><span class="hs-identifier hs-type">ApplyOnMatch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157146"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=&lt;</span></span><span> </span><span class="annot"><a href="#local-6989586621680157147"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-894"></span><span>    </span><span class="annot"><span class="annottext">Metadata a -&gt; (f @@ a) -&gt; (MapMatches pred g &lt;=&lt; f) @@ a
forall a.
ApplyOnMatch ((pred &lt;=&lt; f) @@ a) =&gt;
Metadata a -&gt; (f @@ a) -&gt; (MapMatches pred g &lt;=&lt; f) @@ a
forall a.
ClassF ApplyOnMatch (pred &lt;=&lt; f) a =&gt;
Metadata a -&gt; (f @@ a) -&gt; (MapMatches pred g &lt;=&lt; f) @@ a
</span><a href="#local-6989586621680157796"><span class="hs-identifier hs-var">applyIfRelevant</span></a></span><span>
</span><span id="line-895"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-896"></span><span>    </span><span class="annot"><a href="#local-6989586621680157796"><span class="hs-identifier hs-type">applyIfRelevant</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680157156"><span class="annot"><a href="#local-6989586621680157156"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#ApplyOnMatch"><span class="hs-identifier hs-type">ApplyOnMatch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157146"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=&lt;</span></span><span> </span><span class="annot"><a href="#local-6989586621680157147"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157156"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.EvalRecord.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157156"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157147"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157156"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EvalRecord.html#MapMatches"><span class="hs-identifier hs-type">MapMatches</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157146"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680157149"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=&lt;</span></span><span> </span><span class="annot"><a href="#local-6989586621680157147"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157156"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-897"></span><span>    </span><span id="local-6989586621680157796"><span class="annot"><span class="annottext">applyIfRelevant :: forall a.
ApplyOnMatch ((pred &lt;=&lt; f) @@ a) =&gt;
Metadata a -&gt; (f @@ a) -&gt; (MapMatches pred g &lt;=&lt; f) @@ a
</span><a href="#local-6989586621680157796"><span class="hs-identifier hs-var hs-var">applyIfRelevant</span></a></span></span><span> </span><span id="local-6989586621680157804"><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157804"><span class="hs-identifier hs-var">meta</span></a></span></span><span> </span><span id="local-6989586621680157805"><span class="annot"><span class="annottext">Eval (f a)
</span><a href="#local-6989586621680157805"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-898"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-899"></span><span>        </span><span class="annot"><a href="#local-6989586621680157806"><span class="hs-identifier hs-type">predAppProxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157146"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157147"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157156"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-900"></span><span>        </span><span id="local-6989586621680157806"><span class="annot"><span class="annottext">predAppProxy :: Proxy (Eval (pred (Eval (f a))))
</span><a href="#local-6989586621680157806"><span class="hs-identifier hs-var hs-var">predAppProxy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy pred -&gt; Eval (f a) -&gt; Proxy (Eval (pred (Eval (f a))))
forall {k} (pred :: * -&gt; Exp k) a.
Proxy pred -&gt; a -&gt; Proxy (pred @@ a)
</span><a href="Data.EvalRecord.html#applyPred"><span class="hs-identifier hs-var">applyPred</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy pred
</span><a href="#local-6989586621680157794"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (f a)
</span><a href="#local-6989586621680157805"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-901"></span><span>
</span><span id="line-902"></span><span>        </span><span class="annot"><a href="#local-6989586621680157807"><span class="hs-identifier hs-type">mapFn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680157147"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157156"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157149"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=&lt;</span></span><span> </span><span class="annot"><a href="#local-6989586621680157147"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157156"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-903"></span><span>        </span><span id="local-6989586621680157807"><span class="annot"><span class="annottext">mapFn :: Eval (f a) -&gt; (g &lt;=&lt; f) @@ a
</span><a href="#local-6989586621680157807"><span class="hs-identifier hs-var hs-var">mapFn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Metadata a -&gt; Eval (f a) -&gt; (g &lt;=&lt; f) @@ a
forall a. Metadata a -&gt; (f @@ a) -&gt; (g &lt;=&lt; f) @@ a
</span><a href="#local-6989586621680157795"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata a
</span><a href="#local-6989586621680157804"><span class="hs-identifier hs-var">meta</span></a></span><span>
</span><span id="line-904"></span><span>      </span><span class="hs-keyword">in</span><span>
</span><span id="line-905"></span><span>        </span><span class="annot"><span class="annottext">Proxy (Eval (pred (Eval (f a))))
-&gt; (Eval (f a) -&gt; Eval (g (Eval (f a))))
-&gt; Eval (f a)
-&gt; ValueOnMatch
     (Eval (pred (Eval (f a)))) (Eval (g (Eval (f a)))) (Eval (f a))
forall (cond :: Bool) a b.
ApplyOnMatch cond =&gt;
Proxy cond -&gt; (a -&gt; b) -&gt; a -&gt; ValueOnMatch cond b a
forall a b.
Proxy (Eval (pred (Eval (f a))))
-&gt; (a -&gt; b) -&gt; a -&gt; ValueOnMatch (Eval (pred (Eval (f a)))) b a
</span><a href="Data.EvalRecord.html#applyOnMatch"><span class="hs-identifier hs-var">applyOnMatch</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy (Eval (pred (Eval (f a))))
</span><a href="#local-6989586621680157806"><span class="hs-identifier hs-var">predAppProxy</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (f a) -&gt; Eval (g (Eval (f a)))
Eval (f a) -&gt; (g &lt;=&lt; f) @@ a
</span><a href="#local-6989586621680157807"><span class="hs-identifier hs-var">mapFn</span></a></span><span> </span><span class="annot"><span class="annottext">Eval (f a)
</span><a href="#local-6989586621680157805"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-906"></span><span>
</span><span id="line-907"></span><span>
</span><span id="line-908"></span><span id="local-6989586621680157159"><span id="local-6989586621680157160"><span class="annot"><a href="Data.EvalRecord.html#applyPred"><span class="hs-identifier hs-type">applyPred</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621680157159"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680157160"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680157159"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621680157160"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-909"></span><span id="applyPred"><span class="annot"><span class="annottext">applyPred :: forall {k} (pred :: * -&gt; Exp k) a.
Proxy pred -&gt; a -&gt; Proxy (pred @@ a)
</span><a href="Data.EvalRecord.html#applyPred"><span class="hs-identifier hs-var hs-var">applyPred</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy pred
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy (Eval (pred a))
forall {k} (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span>
</span><span id="line-910"></span></pre></body></html>