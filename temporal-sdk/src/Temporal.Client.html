<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DuplicateRecordFields #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilyDependencies #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-unrecognised-pragmas #-}</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# HLINT ignore &quot;Use &gt;=&gt;&quot; #-}</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="annot"><span class="hs-comment">{- |
Module: Temporal.Client
Description: Invoke and interact with Temporal Workflows.

Workflow Clients are embedded in your application code and connect to a Temporal Server.

They are used to start new workflows and to signal existing workflows.
-}</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Temporal.Client.html"><span class="hs-identifier">Temporal.Client</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Workflow Client</span></span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowClient"><span class="hs-identifier">WorkflowClient</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#workflowClient"><span class="hs-identifier">workflowClient</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowClientConfig"><span class="hs-identifier">WorkflowClientConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><a href="Temporal.Client.Types.html#mkWorkflowClientConfig"><span class="hs-identifier">mkWorkflowClientConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Running Workflows</span></span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><a href="Temporal.Client.Types.html#StartWorkflowOptions"><span class="hs-identifier">StartWorkflowOptions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>  </span><span class="annot"><a href="Temporal.Common.html#TimeoutOptions"><span class="hs-identifier">TimeoutOptions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><a href="Temporal.Client.Types.html#startWorkflowOptions"><span class="hs-identifier">startWorkflowOptions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#start"><span class="hs-identifier">Temporal.Client.start</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#startFromPayloads"><span class="hs-identifier">startFromPayloads</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier">WorkflowHandle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#execute"><span class="hs-identifier">execute</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#waitWorkflowResult"><span class="hs-identifier">waitWorkflowResult</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Closing Workflows</span></span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#TerminationOptions"><span class="hs-identifier">TerminationOptions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#terminate"><span class="hs-identifier">terminate</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Querying Workflows</span></span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#QueryOptions"><span class="hs-identifier">QueryOptions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><a href="Temporal.Client.Types.html#QueryRejectCondition"><span class="hs-identifier">QueryRejectCondition</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>  </span><span class="annot"><a href="Temporal.Client.Types.html#QueryRejected"><span class="hs-identifier">QueryRejected</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowExecutionStatus"><span class="hs-identifier">Temporal.Client.Types.WorkflowExecutionStatus</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#defaultQueryOptions"><span class="hs-identifier">defaultQueryOptions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#query"><span class="hs-identifier">query</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Sending Signals to Workflows</span></span><span>
</span><span id="line-53"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#SignalOptions"><span class="hs-identifier">SignalOptions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>  </span><span class="annot"><a href="Temporal.Workflow.Signal.html#KnownSignal"><span class="hs-identifier">KnownSignal</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#signal"><span class="hs-identifier">signal</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#defaultSignalOptions"><span class="hs-identifier">defaultSignalOptions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#signalWithStart"><span class="hs-identifier">Temporal.Client.signalWithStart</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Producing handles for existing workflows</span></span><span>
</span><span id="line-60"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#getHandle"><span class="hs-identifier">getHandle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Workflow history utilities</span></span><span>
</span><span id="line-63"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#fetchHistory"><span class="hs-identifier">fetchHistory</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#streamEvents"><span class="hs-identifier">streamEvents</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#FollowOption"><span class="hs-identifier">FollowOption</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Conduit</span></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Accum</span></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Cont</span></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Except</span></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Identity</span></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Maybe</span></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.RWS.CPS</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CRWS</span></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.RWS.Lazy</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">LRWS</span></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.RWS.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SRWS</span></span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Reader</span></span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Select</span></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.State.Lazy</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">LS</span></span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.State.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SS</span></span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Writer.CPS</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CW</span></span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Writer.Lazy</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">LW</span></span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Writer.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SW</span></span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">for_</span></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Int</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Int64</span></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Map</span></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ProtoLens.Field</span></span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ProtoLens.Message</span></span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Proxy</span></span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Time.Clock.System</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">SystemTime</span></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Typeable</span></span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.UUID</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">UUID</span></span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.UUID.V4</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">UUID</span></span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V</span></span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Lens.Family2</span></span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Proto.Temporal.Api.Common.V1.Message_Fields</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Common</span></span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Proto.Temporal.Api.Enums.V1.Query</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Query</span></span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Proto.Temporal.Api.Enums.V1.TaskQueue</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">TaskQueueKind</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Proto.Temporal.Api.Enums.V1.Workflow</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">HistoryEventFilterType</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">WorkflowExecutionStatus</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Proto.Temporal.Api.History.V1.Message</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">History</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">HistoryEvent</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">HistoryEvent'Attributes</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Proto.Temporal.Api.History.V1.Message_Fields</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">History</span></span><span>
</span><span id="line-105"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Proto.Temporal.Api.Query.V1.Message_Fields</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Query</span></span><span>
</span><span id="line-106"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Proto.Temporal.Api.Taskqueue.V1.Message_Fields</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TQ</span></span><span>
</span><span id="line-107"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Proto.Temporal.Api.Workflowservice.V1.RequestResponse</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-108"></span><span>  </span><span class="annot"><span class="hs-identifier">GetWorkflowExecutionHistoryRequest</span></span><span class="hs-special">,</span><span>
</span><span id="line-109"></span><span>  </span><span class="annot"><span class="hs-identifier">GetWorkflowExecutionHistoryResponse</span></span><span class="hs-special">,</span><span>
</span><span id="line-110"></span><span>  </span><span class="annot"><span class="hs-identifier">QueryWorkflowRequest</span></span><span class="hs-special">,</span><span>
</span><span id="line-111"></span><span>  </span><span class="annot"><span class="hs-identifier">QueryWorkflowResponse</span></span><span class="hs-special">,</span><span>
</span><span id="line-112"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Proto.Temporal.Api.Workflowservice.V1.RequestResponse_Fields</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">RR</span></span><span>
</span><span id="line-114"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Proto.Temporal.Api.Workflowservice.V1.RequestResponse_Fields</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">WF</span></span><span>
</span><span id="line-115"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html"><span class="hs-identifier">Temporal.Client.Types</span></a></span><span>
</span><span id="line-116"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Temporal.Common.html"><span class="hs-identifier">Temporal.Common</span></a></span><span>
</span><span id="line-117"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Temporal.Core.Client</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Core</span></span><span>
</span><span id="line-118"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Temporal.Core.Client.WorkflowService</span></span><span>
</span><span id="line-119"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Temporal.Duration.html"><span class="hs-identifier">Temporal.Duration</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Duration.html#Duration"><span class="hs-identifier">Duration</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Duration.html#durationToProto"><span class="hs-identifier">durationToProto</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Temporal.Exception.html"><span class="hs-identifier">Temporal.Exception</span></a></span><span>
</span><span id="line-121"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Temporal.Payload.html"><span class="hs-identifier">Temporal.Payload</span></a></span><span>
</span><span id="line-122"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Temporal.SearchAttributes.Internal.html"><span class="hs-identifier">Temporal.SearchAttributes.Internal</span></a></span><span>
</span><span id="line-123"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Temporal.Workflow.html"><span class="hs-identifier">Temporal.Workflow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Query.html#KnownQuery"><span class="hs-identifier">KnownQuery</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Workflow.Signal.html#KnownSignal"><span class="hs-identifier">KnownSignal</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Workflow.Query.html#QueryRef"><span class="hs-identifier">QueryRef</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Temporal.Workflow.Definition.html"><span class="hs-identifier">Temporal.Workflow.Definition</span></a></span><span>
</span><span id="line-125"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">UnliftIO</span></span><span>
</span><span id="line-126"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Unsafe.Coerce</span></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="hs-comment">---------------------------------------------------------------------------------</span><span>
</span><span id="line-130"></span><span class="hs-comment">-- WorkflowClient stuff</span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span id="local-6989586621680186115"><span class="annot"><a href="Temporal.Client.html#workflowClient"><span class="hs-identifier hs-type">workflowClient</span></a></span><span>
</span><span id="line-133"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621680186115"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Core.Client</span></span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowClientConfig"><span class="hs-identifier hs-type">WorkflowClientConfig</span></a></span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680186115"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowClient"><span class="hs-identifier hs-type">WorkflowClient</span></a></span></span><span>
</span><span id="line-137"></span><span id="workflowClient"><span class="annot"><span class="annottext">workflowClient :: forall (m :: * -&gt; *).
MonadIO m =&gt;
Client -&gt; WorkflowClientConfig -&gt; m WorkflowClient
</span><a href="Temporal.Client.html#workflowClient"><span class="hs-identifier hs-var hs-var">workflowClient</span></a></span></span><span> </span><span id="local-6989586621680186874"><span class="annot"><span class="annottext">Client
</span><a href="#local-6989586621680186874"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621680186875"><span class="annot"><span class="annottext">WorkflowClientConfig
</span><a href="#local-6989586621680186875"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-138"></span><span>  </span><span class="annot"><span class="annottext">WorkflowClient -&gt; m WorkflowClient
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-139"></span><span>    </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowClient"><span class="hs-identifier hs-type">WorkflowClient</span></a></span><span>
</span><span id="line-140"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">clientCore :: Client
</span><a href="#local-6989586621680186877"><span class="hs-identifier hs-var">clientCore</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Client
</span><a href="#local-6989586621680186874"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-141"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clientConfig :: WorkflowClientConfig
</span><a href="#local-6989586621680186878"><span class="hs-identifier hs-var">clientConfig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WorkflowClientConfig
</span><a href="#local-6989586621680186875"><span class="hs-identifier hs-var">conf</span></a></span><span>
</span><span id="line-142"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span class="hs-keyword">class</span><span> </span><span id="HasWorkflowClient"><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-var">HasWorkflowClient</span></a></span></span><span> </span><span id="local-6989586621680186128"><span class="annot"><a href="#local-6989586621680186128"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-146"></span><span>  </span><span id="askWorkflowClient"><span class="annot"><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-type">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680186128"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowClient"><span class="hs-identifier hs-type">WorkflowClient</span></a></span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621680186129"><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186129"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ReaderT</span></span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowClient"><span class="hs-identifier hs-type">WorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186129"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-150"></span><span>  </span><span id="local-6989586621680186885"><span class="annot"><span class="annottext">askWorkflowClient :: ReaderT WorkflowClient m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ReaderT WorkflowClient m WorkflowClient
forall (m :: * -&gt; *) r. Monad m =&gt; ReaderT r m r
</span><span class="hs-identifier hs-var">ask</span></span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680186135"><span id="local-6989586621680186136"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186135"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186135"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621680186136"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AccumT</span></span><span> </span><span class="annot"><a href="#local-6989586621680186136"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186135"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-154"></span><span>  </span><span id="local-6989586621680186896"><span class="annot"><span class="annottext">askWorkflowClient :: AccumT w m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient -&gt; AccumT w m WorkflowClient
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; AccumT w m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680186144"><span id="local-6989586621680186145"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186144"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186144"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ReaderT</span></span><span> </span><span class="annot"><a href="#local-6989586621680186145"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186144"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-158"></span><span>  </span><span id="local-6989586621680186906"><span class="annot"><span class="annottext">askWorkflowClient :: ReaderT r m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient -&gt; ReaderT r m WorkflowClient
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT r m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680186152"><span id="local-6989586621680186153"><span id="local-6989586621680186154"><span id="local-6989586621680186155"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186152"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186152"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CRWS.RWST</span></span><span> </span><span class="annot"><a href="#local-6989586621680186153"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186154"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186155"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186152"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-162"></span><span>  </span><span id="local-6989586621680186915"><span class="annot"><span class="annottext">askWorkflowClient :: RWST r w s m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient -&gt; RWST r w s m WorkflowClient
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; RWST r w s m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621680186162"><span id="local-6989586621680186163"><span id="local-6989586621680186164"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186162"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CRWS.RWST</span></span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowClient"><span class="hs-identifier hs-type">WorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186163"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186164"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186162"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-166"></span><span>  </span><span id="local-6989586621680186920"><span class="annot"><span class="annottext">askWorkflowClient :: RWST WorkflowClient w s m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RWST WorkflowClient w s m WorkflowClient
forall (m :: * -&gt; *) r w s. Monad m =&gt; RWST r w s m r
</span><span class="hs-identifier hs-var">CRWS.ask</span></span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680186174"><span id="local-6989586621680186175"><span id="local-6989586621680186176"><span id="local-6989586621680186177"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186174"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186174"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621680186175"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LRWS.RWST</span></span><span> </span><span class="annot"><a href="#local-6989586621680186176"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186175"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186177"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186174"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-170"></span><span>  </span><span id="local-6989586621680186931"><span class="annot"><span class="annottext">askWorkflowClient :: RWST r w s m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient -&gt; RWST r w s m WorkflowClient
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; RWST r w s m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621680186184"><span id="local-6989586621680186185"><span id="local-6989586621680186186"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186184"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621680186185"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LRWS.RWST</span></span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowClient"><span class="hs-identifier hs-type">WorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186185"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186186"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186184"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-174"></span><span>  </span><span id="local-6989586621680186938"><span class="annot"><span class="annottext">askWorkflowClient :: RWST WorkflowClient w s m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RWST WorkflowClient w s m WorkflowClient
forall w (m :: * -&gt; *) r s. (Monoid w, Monad m) =&gt; RWST r w s m r
</span><span class="hs-identifier hs-var">LRWS.ask</span></span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680186196"><span id="local-6989586621680186197"><span id="local-6989586621680186198"><span id="local-6989586621680186199"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186196"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186196"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621680186197"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SRWS.RWST</span></span><span> </span><span class="annot"><a href="#local-6989586621680186198"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186197"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186199"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186196"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-178"></span><span>  </span><span id="local-6989586621680186949"><span class="annot"><span class="annottext">askWorkflowClient :: RWST r w s m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient -&gt; RWST r w s m WorkflowClient
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; RWST r w s m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621680186206"><span id="local-6989586621680186207"><span id="local-6989586621680186208"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186206"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621680186207"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SRWS.RWST</span></span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowClient"><span class="hs-identifier hs-type">WorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186207"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186208"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186206"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-182"></span><span>  </span><span id="local-6989586621680186956"><span class="annot"><span class="annottext">askWorkflowClient :: RWST WorkflowClient w s m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RWST WorkflowClient w s m WorkflowClient
forall w (m :: * -&gt; *) r s. (Monoid w, Monad m) =&gt; RWST r w s m r
</span><span class="hs-identifier hs-var">SRWS.ask</span></span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680186216"><span id="local-6989586621680186217"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186216"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186216"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CW.WriterT</span></span><span> </span><span class="annot"><a href="#local-6989586621680186217"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186216"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-186"></span><span>  </span><span id="local-6989586621680186966"><span class="annot"><span class="annottext">askWorkflowClient :: WriterT w m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient -&gt; WriterT w m WorkflowClient
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; WriterT w m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680186222"><span id="local-6989586621680186223"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186222"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186222"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621680186223"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LW.WriterT</span></span><span> </span><span class="annot"><a href="#local-6989586621680186223"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186222"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-190"></span><span>  </span><span id="local-6989586621680186976"><span class="annot"><span class="annottext">askWorkflowClient :: WriterT w m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient -&gt; WriterT w m WorkflowClient
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; WriterT w m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680186228"><span id="local-6989586621680186229"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186228"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186228"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621680186229"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SW.WriterT</span></span><span> </span><span class="annot"><a href="#local-6989586621680186229"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186228"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-194"></span><span>  </span><span id="local-6989586621680186986"><span class="annot"><span class="annottext">askWorkflowClient :: WriterT w m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient -&gt; WriterT w m WorkflowClient
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; WriterT w m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680186234"><span id="local-6989586621680186235"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186234"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186234"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LS.StateT</span></span><span> </span><span class="annot"><a href="#local-6989586621680186235"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186234"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-198"></span><span>  </span><span id="local-6989586621680186995"><span class="annot"><span class="annottext">askWorkflowClient :: StateT s m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient -&gt; StateT s m WorkflowClient
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; StateT s m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680186240"><span id="local-6989586621680186241"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186240"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186240"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SS.StateT</span></span><span> </span><span class="annot"><a href="#local-6989586621680186241"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186240"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-202"></span><span>  </span><span id="local-6989586621680187004"><span class="annot"><span class="annottext">askWorkflowClient :: StateT s m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient -&gt; StateT s m WorkflowClient
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; StateT s m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680186246"><span id="local-6989586621680186247"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186246"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186246"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ExceptT</span></span><span> </span><span class="annot"><a href="#local-6989586621680186247"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186246"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-206"></span><span>  </span><span id="local-6989586621680187013"><span class="annot"><span class="annottext">askWorkflowClient :: ExceptT e m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient -&gt; ExceptT e m WorkflowClient
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT e m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680186251"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186251"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186251"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IdentityT</span></span><span> </span><span class="annot"><a href="#local-6989586621680186251"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-210"></span><span>  </span><span id="local-6989586621680187022"><span class="annot"><span class="annottext">askWorkflowClient :: IdentityT m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient -&gt; IdentityT m WorkflowClient
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; IdentityT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680186255"><span id="local-6989586621680186256"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186255"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186255"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ContT</span></span><span> </span><span class="annot"><a href="#local-6989586621680186256"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186255"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-214"></span><span>  </span><span id="local-6989586621680187031"><span class="annot"><span class="annottext">askWorkflowClient :: ContT r m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient -&gt; ContT r m WorkflowClient
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ContT r m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680186260"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186260"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186260"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MaybeT</span></span><span> </span><span class="annot"><a href="#local-6989586621680186260"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-218"></span><span>  </span><span id="local-6989586621680187040"><span class="annot"><span class="annottext">askWorkflowClient :: MaybeT m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient -&gt; MaybeT m WorkflowClient
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; MaybeT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680186264"><span id="local-6989586621680186265"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186264"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186264"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SelectT</span></span><span> </span><span class="annot"><a href="#local-6989586621680186265"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186264"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-222"></span><span>  </span><span id="local-6989586621680187049"><span class="annot"><span class="annottext">askWorkflowClient :: SelectT r m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient -&gt; SelectT r m WorkflowClient
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; SelectT r m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680186271"><span id="local-6989586621680186272"><span id="local-6989586621680186273"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621680186271"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186271"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ConduitT</span></span><span> </span><span class="annot"><a href="#local-6989586621680186272"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186273"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186271"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-226"></span><span>  </span><span id="local-6989586621680187058"><span class="annot"><span class="annottext">askWorkflowClient :: ConduitT i o m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient -&gt; ConduitT i o m WorkflowClient
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ConduitT i o m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowClient"><span class="hs-identifier hs-type">WorkflowClient</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-230"></span><span>  </span><span id="local-6989586621680187061"><span class="annot"><span class="annottext">askWorkflowClient :: WorkflowClient -&gt; WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var hs-var hs-var">askWorkflowClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WorkflowClient -&gt; WorkflowClient
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span>
</span><span id="line-233"></span><span id="local-6989586621680186277"><span id="local-6989586621680186278"><span id="local-6989586621680186280"><span class="annot"><a href="Temporal.Client.html#throwEither"><span class="hs-identifier hs-type">throwEither</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621680186277"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621680186278"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621680186278"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186280"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680186277"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186280"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-234"></span><span id="throwEither"><span class="annot"><span class="annottext">throwEither :: forall (m :: * -&gt; *) e a.
(MonadIO m, Exception e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Temporal.Client.html#throwEither"><span class="hs-identifier hs-var hs-var">throwEither</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(e -&gt; m a) -&gt; (a -&gt; m a) -&gt; Either e a -&gt; m a
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; m a
forall (m :: * -&gt; *) e a. (MonadIO m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; m a
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Either e a -&gt; m a)
-&gt; (IO (Either e a) -&gt; m (Either e a)) -&gt; IO (Either e a) -&gt; m a
forall (m :: * -&gt; *) b c a.
Monad m =&gt;
(b -&gt; m c) -&gt; (a -&gt; m b) -&gt; a -&gt; m c
</span><span class="hs-operator hs-var">&lt;=&lt;</span></span><span> </span><span class="annot"><span class="annottext">IO (Either e a) -&gt; m (Either e a)
forall a. IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span class="annot"><span class="hs-comment">{- | Run a workflow, synchronously waiting for it to complete.

This function will block until the workflow completes, and will return the result of the workflow
or throw a 'WorkflowExecutionClosed' exception if the workflow was closed without returning a result.
-}</span></span><span>
</span><span id="line-242"></span><span class="annot"><a href="Temporal.Client.html#execute"><span class="hs-identifier hs-type">execute</span></a></span><span>
</span><span id="line-243"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680186295"><span class="annot"><a href="#local-6989586621680186295"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621680186296"><span class="annot"><a href="#local-6989586621680186296"><span class="hs-identifier hs-type">wf</span></a></span></span><span>
</span><span id="line-244"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186295"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621680186295"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowRef"><span class="hs-identifier hs-type">WorkflowRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186296"><span class="hs-identifier hs-type">wf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-245"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680186296"><span class="hs-identifier hs-type">wf</span></a></span><span>
</span><span id="line-246"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Common.html#WorkflowId"><span class="hs-identifier hs-type">WorkflowId</span></a></span><span>
</span><span id="line-247"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#StartWorkflowOptions"><span class="hs-identifier hs-type">StartWorkflowOptions</span></a></span><span>
</span><span id="line-248"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowArgs"><span class="hs-identifier hs-type">WorkflowArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186296"><span class="hs-identifier hs-type">wf</span></a></span><span> </span><span class="annot"><a href="Temporal.Payload.html#%3A-%3E%3A"><span class="hs-operator hs-type">:-&gt;:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186295"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowResult"><span class="hs-identifier hs-type">WorkflowResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186296"><span class="hs-identifier hs-type">wf</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-249"></span><span id="execute"><span class="annot"><span class="annottext">execute :: forall (m :: * -&gt; *) wf.
(HasWorkflowClient m, MonadIO m, WorkflowRef wf) =&gt;
wf
-&gt; WorkflowId
-&gt; StartWorkflowOptions
-&gt; WorkflowArgs wf :-&gt;: m (WorkflowResult wf)
</span><a href="Temporal.Client.html#execute"><span class="hs-identifier hs-var hs-var">execute</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">wf -&gt; KnownWorkflow (WorkflowArgs wf) (WorkflowResult wf)
forall f.
WorkflowRef f =&gt;
f -&gt; KnownWorkflow (WorkflowArgs f) (WorkflowResult f)
</span><a href="Temporal.Workflow.Definition.html#workflowRef"><span class="hs-identifier hs-var">workflowRef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621680187083"><span class="annot"><span class="annottext">k :: KnownWorkflow (WorkflowArgs wf) (WorkflowResult wf)
</span><a href="#local-6989586621680187083"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#KnownWorkflow"><span class="hs-identifier hs-type">KnownWorkflow</span></a></span><span> </span><span id="local-6989586621680187097"><span class="annot"><span class="annottext">codec
</span><a href="#local-6989586621680187097"><span class="hs-identifier hs-var">codec</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680187098"><span class="annot"><span class="annottext">WorkflowId
</span><a href="#local-6989586621680187098"><span class="hs-identifier hs-var">wfId</span></a></span></span><span> </span><span id="local-6989586621680187099"><span class="annot"><span class="annottext">StartWorkflowOptions
</span><a href="#local-6989586621680187099"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (args :: [*]) result codec.
(VarArgs args, AllArgs (Codec codec) args) =&gt;
codec -&gt; (Vector UnencodedPayload -&gt; result) -&gt; args :-&gt;: result
</span><a href="Temporal.Payload.html#withArgs"><span class="hs-identifier hs-var">withArgs</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowArgs"><span class="hs-identifier hs-type">WorkflowArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186296"><span class="hs-identifier hs-type">wf</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680186295"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowResult"><span class="hs-identifier hs-type">WorkflowResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186296"><span class="hs-identifier hs-type">wf</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">codec
</span><a href="#local-6989586621680187097"><span class="hs-identifier hs-var">codec</span></a></span><span> </span><span class="annot"><span class="annottext">((Vector UnencodedPayload -&gt; m (WorkflowResult wf))
 -&gt; WorkflowArgs wf :-&gt;: m (WorkflowResult wf))
-&gt; (Vector UnencodedPayload -&gt; m (WorkflowResult wf))
-&gt; WorkflowArgs wf :-&gt;: m (WorkflowResult wf)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680187101"><span class="annot"><span class="annottext">Vector UnencodedPayload
</span><a href="#local-6989586621680187101"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-250"></span><span>  </span><span id="local-6989586621680187102"><span class="annot"><a href="#local-6989586621680187102"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">KnownWorkflow (WorkflowArgs wf) (WorkflowResult wf)
-&gt; WorkflowId
-&gt; StartWorkflowOptions
-&gt; Vector UnencodedPayload
-&gt; m (WorkflowHandle (WorkflowResult wf))
forall (m :: * -&gt; *) (args :: [*]) result.
(MonadIO m, HasWorkflowClient m) =&gt;
KnownWorkflow args result
-&gt; WorkflowId
-&gt; StartWorkflowOptions
-&gt; Vector UnencodedPayload
-&gt; m (WorkflowHandle result)
</span><a href="Temporal.Client.html#startFromPayloads"><span class="hs-identifier hs-var">startFromPayloads</span></a></span><span> </span><span class="annot"><span class="annottext">KnownWorkflow (WorkflowArgs wf) (WorkflowResult wf)
</span><a href="#local-6989586621680187083"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowId
</span><a href="#local-6989586621680187098"><span class="hs-identifier hs-var">wfId</span></a></span><span> </span><span class="annot"><span class="annottext">StartWorkflowOptions
</span><a href="#local-6989586621680187099"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">Vector UnencodedPayload
</span><a href="#local-6989586621680187101"><span class="hs-identifier hs-var">inputs</span></a></span><span>
</span><span id="line-251"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#waitWorkflowResult"><span class="hs-identifier hs-type">waitWorkflowResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680187102"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-252"></span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span class="annot"><span class="hs-comment">{- | Given a 'WorkflowHandle', wait for the workflow to complete and return the result.

This function will block until the workflow completes, and will return the result of the workflow
or throw a 'WorkflowExecutionClosed' exception if the workflow was closed without returning a result.
-}</span></span><span>
</span><span id="line-259"></span><span id="local-6989586621680186329"><span id="local-6989586621680186330"><span class="annot"><a href="Temporal.Client.html#waitWorkflowResult"><span class="hs-identifier hs-type">waitWorkflowResult</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="annot"><a href="#local-6989586621680186329"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621680186330"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186329"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680186330"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186329"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-260"></span><span id="waitWorkflowResult"><span class="annot"><span class="annottext">waitWorkflowResult :: forall a (m :: * -&gt; *).
(Typeable a, MonadIO m) =&gt;
WorkflowHandle a -&gt; m a
</span><a href="Temporal.Client.html#waitWorkflowResult"><span class="hs-identifier hs-var hs-var">waitWorkflowResult</span></a></span></span><span> </span><span id="local-6989586621680187158"><span class="annot"><span class="annottext">h :: WorkflowHandle a
</span><a href="#local-6989586621680187158"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span> </span><span id="local-6989586621680187159"><span class="annot"><span class="annottext">Payload -&gt; IO a
</span><a href="#local-6989586621680187159"><span class="hs-identifier hs-var">readResult</span></a></span></span><span> </span><span class="annot"><span class="annottext">WorkflowType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680187160"><span class="annot"><span class="annottext">WorkflowClient
</span><a href="#local-6989586621680187160"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621680187161"><span class="annot"><span class="annottext">WorkflowId
</span><a href="#local-6989586621680187161"><span class="hs-identifier hs-var">wf</span></a></span></span><span> </span><span id="local-6989586621680187162"><span class="annot"><span class="annottext">Maybe RunId
</span><a href="#local-6989586621680187162"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-261"></span><span>  </span><span id="local-6989586621680187163"><span class="annot"><a href="#local-6989586621680187163"><span class="hs-identifier hs-var">mev</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReaderT WorkflowClient m (Maybe HistoryEvent)
-&gt; WorkflowClient -&gt; m (Maybe HistoryEvent)
forall r (m :: * -&gt; *) a. ReaderT r m a -&gt; r -&gt; m a
</span><span class="hs-identifier hs-var">runReaderT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WorkflowId
-&gt; Maybe RunId
-&gt; Namespace
-&gt; ReaderT WorkflowClient m (Maybe HistoryEvent)
forall (m :: * -&gt; *).
(MonadIO m, HasWorkflowClient m) =&gt;
WorkflowId -&gt; Maybe RunId -&gt; Namespace -&gt; m (Maybe HistoryEvent)
</span><a href="Temporal.Client.html#waitResult"><span class="hs-identifier hs-var">waitResult</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowId
</span><a href="#local-6989586621680187161"><span class="hs-identifier hs-var">wf</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe RunId
</span><a href="#local-6989586621680187162"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowClient
</span><a href="#local-6989586621680187160"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">clientConfig</span><span class="hs-operator">.</span><span class="hs-identifier">namespace</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">WorkflowClient
</span><a href="#local-6989586621680187160"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621680187163"><span class="hs-identifier hs-type">mev</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-263"></span><span>    </span><span class="annot"><span class="annottext">Maybe HistoryEvent
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; m a
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Unexpected empty history&quot;</span></span><span>
</span><span id="line-264"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621680187167"><span class="annot"><span class="annottext">HistoryEvent
</span><a href="#local-6989586621680187167"><span class="hs-identifier hs-var">ev</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HistoryEvent
</span><a href="#local-6989586621680187167"><span class="hs-identifier hs-var">ev</span></a></span><span> </span><span class="annot"><span class="annottext">HistoryEvent
-&gt; FoldLike
     (Maybe HistoryEvent'Attributes)
     HistoryEvent
     HistoryEvent
     (Maybe HistoryEvent'Attributes)
     (Maybe HistoryEvent'Attributes)
-&gt; Maybe HistoryEvent'Attributes
forall s a t b. s -&gt; FoldLike a s t a b -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">FoldLike
  (Maybe HistoryEvent'Attributes)
  HistoryEvent
  HistoryEvent
  (Maybe HistoryEvent'Attributes)
  (Maybe HistoryEvent'Attributes)
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;maybe'attributes&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">History.maybe'attributes</span></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-265"></span><span>      </span><span class="annot"><span class="annottext">Maybe HistoryEvent'Attributes
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; m a
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Unrecognized history event&quot;</span></span><span>
</span><span id="line-266"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621680187170"><span class="annot"><span class="annottext">HistoryEvent'Attributes
</span><a href="#local-6989586621680187170"><span class="hs-identifier hs-var">attrType</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HistoryEvent'Attributes
</span><a href="#local-6989586621680187170"><span class="hs-identifier hs-var">attrType</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-267"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">HistoryEvent'WorkflowExecutionCompletedEventAttributes</span></span><span> </span><span id="local-6989586621680187172"><span class="annot"><span class="annottext">WorkflowExecutionCompletedEventAttributes
</span><a href="#local-6989586621680187172"><span class="hs-identifier hs-var">attrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-268"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680187173"><span class="annot"><span class="annottext">payloads :: [Payload]
</span><a href="#local-6989586621680187173"><span class="hs-identifier hs-var hs-var">payloads</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Payload -&gt; Payload
</span><a href="Temporal.Payload.html#convertFromProtoPayload"><span class="hs-identifier hs-var">convertFromProtoPayload</span></a></span><span> </span><span class="annot"><span class="annottext">(Payload -&gt; Payload) -&gt; [Payload] -&gt; [Payload]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WorkflowExecutionCompletedEventAttributes
</span><a href="#local-6989586621680187172"><span class="hs-identifier hs-var">attrs</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionCompletedEventAttributes
-&gt; FoldLike
     [Payload]
     WorkflowExecutionCompletedEventAttributes
     WorkflowExecutionCompletedEventAttributes
     [Payload]
     [Payload]
-&gt; [Payload]
forall s a t b. s -&gt; FoldLike a s t a b -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">LensLike'
  (Constant [Payload])
  WorkflowExecutionCompletedEventAttributes
  Payloads
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;result&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">History.result</span></span><span> </span><span class="annot"><span class="annottext">LensLike'
  (Constant [Payload])
  WorkflowExecutionCompletedEventAttributes
  Payloads
-&gt; (([Payload] -&gt; Constant [Payload] [Payload])
    -&gt; Payloads -&gt; Constant [Payload] Payloads)
-&gt; FoldLike
     [Payload]
     WorkflowExecutionCompletedEventAttributes
     WorkflowExecutionCompletedEventAttributes
     [Payload]
     [Payload]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">([Payload] -&gt; Constant [Payload] [Payload])
-&gt; Payloads -&gt; Constant [Payload] Payloads
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;payloads&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.payloads</span></span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span>          </span><span class="hs-comment">-- LMAO this is such a comical coercion</span><span>
</span><span id="line-270"></span><span>          </span><span class="hs-comment">--</span><span>
</span><span id="line-271"></span><span>          </span><span class="hs-comment">-- We just need to ignore payloads if the result type is unit to allow workflows to evolve</span><span>
</span><span id="line-272"></span><span>          </span><span class="hs-comment">-- such that they can return something else in the future.</span><span>
</span><span id="line-273"></span><span>          </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">WorkflowHandle a -&gt; TypeRep
forall {k} (proxy :: k -&gt; *) (a :: k).
Typeable a =&gt;
proxy a -&gt; TypeRep
</span><span class="hs-identifier hs-var">typeRep</span></span><span> </span><span class="annot"><span class="annottext">WorkflowHandle a
</span><a href="#local-6989586621680187158"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">TypeRep -&gt; TypeRep -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">() -&gt; TypeRep
forall a. Typeable a =&gt; a -&gt; TypeRep
</span><span class="hs-identifier hs-var">typeOf</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span>            </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">a -&gt; m a
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; m a) -&gt; a -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">() -&gt; a
forall a b. a -&gt; b
</span><span class="hs-identifier hs-var">unsafeCoerce</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-275"></span><span>            </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Payload]
</span><a href="#local-6989586621680187173"><span class="hs-identifier hs-var">payloads</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-276"></span><span>              </span><span class="hs-special">(</span><span id="local-6989586621680187182"><span class="annot"><span class="annottext">Payload
</span><a href="#local-6989586621680187182"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[Payload]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO a -&gt; m a
forall a. IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO a -&gt; m a) -&gt; IO a -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Payload -&gt; IO a
</span><a href="#local-6989586621680187159"><span class="hs-identifier hs-var">readResult</span></a></span><span> </span><span class="annot"><span class="annottext">Payload
</span><a href="#local-6989586621680187182"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-277"></span><span>              </span><span class="annot"><span class="annottext">[Payload]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; m a
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Missing result payload&quot;</span></span><span>
</span><span id="line-278"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">HistoryEvent'WorkflowExecutionFailedEventAttributes</span></span><span> </span><span id="local-6989586621680187184"><span class="annot"><span class="annottext">WorkflowExecutionFailedEventAttributes
</span><a href="#local-6989586621680187184"><span class="hs-identifier hs-var">attrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-279"></span><span>          </span><span class="annot"><span class="annottext">WorkflowExecutionClosed -&gt; m a
forall (m :: * -&gt; *) e a. (MonadIO m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">(WorkflowExecutionClosed -&gt; m a) -&gt; WorkflowExecutionClosed -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionFailedEventAttributes -&gt; WorkflowExecutionClosed
</span><a href="Temporal.Exception.html#WorkflowExecutionFailed"><span class="hs-identifier hs-var">WorkflowExecutionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionFailedEventAttributes
</span><a href="#local-6989586621680187184"><span class="hs-identifier hs-var">attrs</span></a></span><span>
</span><span id="line-280"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">HistoryEvent'WorkflowExecutionTimedOutEventAttributes</span></span><span> </span><span id="local-6989586621680187187"><span class="annot"><span class="annottext">WorkflowExecutionTimedOutEventAttributes
</span><a href="#local-6989586621680187187"><span class="hs-identifier hs-var">_attrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionClosed -&gt; m a
forall (m :: * -&gt; *) e a. (MonadIO m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionClosed
</span><a href="Temporal.Exception.html#WorkflowExecutionTimedOut"><span class="hs-identifier hs-var">WorkflowExecutionTimedOut</span></a></span><span>
</span><span id="line-281"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">HistoryEvent'WorkflowExecutionCanceledEventAttributes</span></span><span> </span><span id="local-6989586621680187190"><span class="annot"><span class="annottext">WorkflowExecutionCanceledEventAttributes
</span><a href="#local-6989586621680187190"><span class="hs-identifier hs-var">_attrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionClosed -&gt; m a
forall (m :: * -&gt; *) e a. (MonadIO m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionClosed
</span><a href="Temporal.Exception.html#WorkflowExecutionCanceled"><span class="hs-identifier hs-var">WorkflowExecutionCanceled</span></a></span><span>
</span><span id="line-282"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">HistoryEvent'WorkflowExecutionTerminatedEventAttributes</span></span><span> </span><span id="local-6989586621680187193"><span class="annot"><span class="annottext">WorkflowExecutionTerminatedEventAttributes
</span><a href="#local-6989586621680187193"><span class="hs-identifier hs-var">_attrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionClosed -&gt; m a
forall (m :: * -&gt; *) e a. (MonadIO m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionClosed
</span><a href="Temporal.Exception.html#WorkflowExecutionTerminated"><span class="hs-identifier hs-var">WorkflowExecutionTerminated</span></a></span><span>
</span><span id="line-283"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">HistoryEvent'WorkflowExecutionContinuedAsNewEventAttributes</span></span><span> </span><span id="local-6989586621680187196"><span class="annot"><span class="annottext">WorkflowExecutionContinuedAsNewEventAttributes
</span><a href="#local-6989586621680187196"><span class="hs-identifier hs-var">_attrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionClosed -&gt; m a
forall (m :: * -&gt; *) e a. (MonadIO m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionClosed
</span><a href="Temporal.Exception.html#WorkflowExecutionContinuedAsNew"><span class="hs-identifier hs-var">WorkflowExecutionContinuedAsNew</span></a></span><span>
</span><span id="line-284"></span><span>        </span><span id="local-6989586621680187198"><span class="annot"><span class="annottext">HistoryEvent'Attributes
</span><a href="#local-6989586621680187198"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; m a
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;History event not supported &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">HistoryEvent'Attributes -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">HistoryEvent'Attributes
</span><a href="#local-6989586621680187198"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span class="hs-keyword">data</span><span> </span><span id="SignalOptions"><span class="annot"><a href="Temporal.Client.html#SignalOptions"><span class="hs-identifier hs-var">SignalOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SignalOptions"><span class="annot"><a href="Temporal.Client.html#SignalOptions"><span class="hs-identifier hs-var">SignalOptions</span></a></span></span><span>
</span><span id="line-288"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="requestId"><span class="annot"><span class="annottext">SignalOptions -&gt; Maybe Text
</span><a href="Temporal.Client.html#requestId"><span class="hs-identifier hs-var hs-var">requestId</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-289"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Used to de-dupe sent signals</span></span><span>
</span><span id="line-290"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="skipGenerateWorkflowTask"><span class="annot"><span class="annottext">SignalOptions -&gt; Bool
</span><a href="Temporal.Client.html#skipGenerateWorkflowTask"><span class="hs-identifier hs-var hs-var">skipGenerateWorkflowTask</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-291"></span><span>  </span><span class="hs-comment">-- ^ Indicates that a new workflow task should not be generated when this signal is received.</span><span>
</span><span id="line-292"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-293"></span><span>  </span><span class="hs-comment">-- Defaults to False.</span><span>
</span><span id="line-294"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-295"></span><span>  </span><span class="hs-comment">-- Generally this is not needed.</span><span>
</span><span id="line-296"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="headers"><span class="annot"><span class="annottext">SignalOptions -&gt; Map Text Payload
</span><a href="Temporal.Client.html#headers"><span class="hs-identifier hs-var hs-var">headers</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><a href="Temporal.Payload.html#Payload"><span class="hs-identifier hs-type">Payload</span></a></span><span>
</span><span id="line-297"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-298"></span><span>
</span><span id="line-299"></span><span>
</span><span id="line-300"></span><span class="annot"><a href="Temporal.Client.html#defaultSignalOptions"><span class="hs-identifier hs-type">defaultSignalOptions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Temporal.Client.html#SignalOptions"><span class="hs-identifier hs-type">SignalOptions</span></a></span><span>
</span><span id="line-301"></span><span id="defaultSignalOptions"><span class="annot"><span class="annottext">defaultSignalOptions :: SignalOptions
</span><a href="Temporal.Client.html#defaultSignalOptions"><span class="hs-identifier hs-var hs-var">defaultSignalOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-302"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#SignalOptions"><span class="hs-identifier hs-type">SignalOptions</span></a></span><span>
</span><span id="line-303"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">skipGenerateWorkflowTask :: Bool
</span><a href="Temporal.Client.html#skipGenerateWorkflowTask"><span class="hs-identifier hs-var">skipGenerateWorkflowTask</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-304"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">requestId :: Maybe Text
</span><a href="Temporal.Client.html#requestId"><span class="hs-identifier hs-var">requestId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Text
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-305"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">headers :: Map Text Payload
</span><a href="Temporal.Client.html#headers"><span class="hs-identifier hs-var">headers</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map Text Payload
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-306"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-307"></span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span class="annot"><span class="hs-comment">{- | A Signal is an asynchronous request to a Workflow Execution.

A Signal delivers data to a running Workflow Execution. It cannot return data to the caller;
to do so, use a Query instead. The Workflow code that handles a Signal can mutate Workflow state.
A Signal can be sent from a Temporal Client or a Workflow. When a Signal is sent, it is received
by the Cluster and recorded as an Event to the Workflow Execution Event History. A successful
response from the Cluster means that the Signal has been persisted and will be delivered at least
once to the Workflow Execution. The next scheduled Workflow Task will contain the Signal Event.

Signal handlers are Workflow functions that listen for Signals by the Signal name. Signals are delivered
in the order they are received by the Cluster. If multiple deliveries of a Signal would be a problem for
your Workflow, add idempotency logic to your Signal handler that checks for duplicates.
-}</span></span><span>
</span><span id="line-322"></span><span class="annot"><a href="Temporal.Client.html#signal"><span class="hs-identifier hs-type">signal</span></a></span><span>
</span><span id="line-323"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680186396"><span class="annot"><a href="#local-6989586621680186396"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621680186397"><span class="annot"><a href="#local-6989586621680186397"><span class="hs-identifier hs-type">sig</span></a></span></span><span> </span><span id="local-6989586621680186399"><span class="annot"><a href="#local-6989586621680186399"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-324"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621680186396"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Workflow.Signal.html#SignalRef"><span class="hs-identifier hs-type">SignalRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186397"><span class="hs-identifier hs-type">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186399"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-326"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680186397"><span class="hs-identifier hs-type">sig</span></a></span><span>
</span><span id="line-327"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#SignalOptions"><span class="hs-identifier hs-type">SignalOptions</span></a></span><span>
</span><span id="line-328"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Signal.html#SignalArgs"><span class="hs-identifier hs-type">SignalArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186397"><span class="hs-identifier hs-type">sig</span></a></span><span> </span><span class="annot"><a href="Temporal.Payload.html#%3A-%3E%3A"><span class="hs-operator hs-type">:-&gt;:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186396"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-329"></span><span id="signal"><span class="annot"><span class="annottext">signal :: forall (m :: * -&gt; *) sig a.
(MonadIO m, SignalRef sig) =&gt;
WorkflowHandle a
-&gt; sig -&gt; SignalOptions -&gt; SignalArgs sig :-&gt;: m ()
</span><a href="Temporal.Client.html#signal"><span class="hs-identifier hs-var hs-var">signal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span> </span><span class="annot"><span class="annottext">Payload -&gt; IO a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680187207"><span class="annot"><span class="annottext">WorkflowType
</span><a href="#local-6989586621680187207"><span class="hs-identifier hs-var">_t</span></a></span></span><span> </span><span id="local-6989586621680187208"><span class="annot"><span class="annottext">WorkflowClient
</span><a href="#local-6989586621680187208"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621680187209"><span class="annot"><span class="annottext">WorkflowId
</span><a href="#local-6989586621680187209"><span class="hs-identifier hs-var">wf</span></a></span></span><span> </span><span id="local-6989586621680187210"><span class="annot"><span class="annottext">Maybe RunId
</span><a href="#local-6989586621680187210"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">sig -&gt; KnownSignal (SignalArgs sig)
forall sig. SignalRef sig =&gt; sig -&gt; KnownSignal (SignalArgs sig)
</span><a href="Temporal.Workflow.Signal.html#signalRef"><span class="hs-identifier hs-var">signalRef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Signal.html#KnownSignal"><span class="hs-identifier hs-type">KnownSignal</span></a></span><span> </span><span id="local-6989586621680187264"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680187264"><span class="hs-identifier hs-var">sName</span></a></span></span><span> </span><span id="local-6989586621680187265"><span class="annot"><span class="annottext">codec
</span><a href="#local-6989586621680187265"><span class="hs-identifier hs-var">sCodec</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680187266"><span class="annot"><span class="annottext">SignalOptions
</span><a href="#local-6989586621680187266"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (args :: [*]) result codec.
(VarArgs args, AllArgs (Codec codec) args) =&gt;
codec -&gt; (Vector UnencodedPayload -&gt; result) -&gt; args :-&gt;: result
</span><a href="Temporal.Payload.html#withArgs"><span class="hs-identifier hs-var">withArgs</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Signal.html#SignalArgs"><span class="hs-identifier hs-type">SignalArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186397"><span class="hs-identifier hs-type">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680186396"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">codec
</span><a href="#local-6989586621680187265"><span class="hs-identifier hs-var">sCodec</span></a></span><span> </span><span class="annot"><span class="annottext">((Vector UnencodedPayload -&gt; m ()) -&gt; SignalArgs sig :-&gt;: m ())
-&gt; (Vector UnencodedPayload -&gt; m ()) -&gt; SignalArgs sig :-&gt;: m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680187267"><span class="annot"><span class="annottext">Vector UnencodedPayload
</span><a href="#local-6989586621680187267"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall a. IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; IO () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-330"></span><span>  </span><span id="local-6989586621680187268"><span class="annot"><a href="#local-6989586621680187268"><span class="hs-identifier hs-var">inputs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PayloadProcessor -&gt; Vector Payload -&gt; IO (Vector Payload)
forall (m :: * -&gt; *) (f :: * -&gt; *).
(MonadIO m, Traversable f) =&gt;
PayloadProcessor -&gt; f Payload -&gt; m (f Payload)
</span><a href="Temporal.Payload.html#processorEncodePayloads"><span class="hs-identifier hs-var">processorEncodePayloads</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowClient
</span><a href="#local-6989586621680187208"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">clientConfig</span><span class="hs-operator">.</span><span class="hs-identifier">payloadProcessor</span><span> </span><span class="annot"><span class="annottext">(Vector Payload -&gt; IO (Vector Payload))
-&gt; IO (Vector Payload) -&gt; IO (Vector Payload)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">IO (Vector Payload) -&gt; IO (Vector Payload)
forall a. IO a -&gt; IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector UnencodedPayload -&gt; IO (Vector Payload)
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
forall (m :: * -&gt; *) a. Monad m =&gt; Vector (m a) -&gt; m (Vector a)
</span><span class="hs-identifier hs-var">sequence</span></span><span> </span><span class="annot"><span class="annottext">Vector UnencodedPayload
</span><a href="#local-6989586621680187267"><span class="hs-identifier hs-var">inputs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-331"></span><span>  </span><span id="local-6989586621680187272"><span class="annot"><a href="#local-6989586621680187272"><span class="hs-identifier hs-var">hdrs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Temporal.Payload.html#processorEncodePayloads"><span class="hs-identifier hs-type">processorEncodePayloads</span></a></span><span> </span><span class="annot"><span class="hs-identifier">c</span></span><span class="hs-operator">.</span><span class="hs-identifier">clientConfig</span><span class="hs-operator">.</span><span class="hs-identifier">payloadProcessor</span><span> </span><span class="annot"><span class="hs-identifier">opts</span></span><span class="hs-operator">.</span><span class="hs-identifier">headers</span><span>
</span><span id="line-332"></span><span>  </span><span id="local-6989586621680187273"><span class="annot"><a href="#local-6989586621680187273"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-333"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">signalWorkflowExecution</span></span><span> </span><span class="annot"><span class="hs-identifier">c</span></span><span class="hs-operator">.</span><span class="hs-identifier">clientCore</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-334"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">defMessage</span></span><span>
</span><span id="line-335"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">&amp;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">WF.namespace</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.~</span></span><span> </span><span class="annot"><a href="Temporal.Common.html#rawNamespace"><span class="hs-identifier hs-var">rawNamespace</span></a></span><span> </span><span class="annot"><span class="hs-identifier">c</span></span><span class="hs-operator">.</span><span class="hs-identifier">clientConfig</span><span class="hs-operator">.</span><span class="hs-identifier">namespace</span><span>
</span><span id="line-336"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">&amp;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">WF.workflowExecution</span></span><span>
</span><span id="line-337"></span><span>          </span><span class="annot"><span class="hs-operator hs-type">.~</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">defMessage</span></span><span>
</span><span id="line-338"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">&amp;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Common.workflowId</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.~</span></span><span> </span><span class="annot"><a href="Temporal.Common.html#rawWorkflowId"><span class="hs-identifier hs-var">rawWorkflowId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680187209"><span class="hs-identifier hs-type">wf</span></a></span><span>
</span><span id="line-339"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">&amp;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Common.runId</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">maybe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="annot"><a href="Temporal.Common.html#rawRunId"><span class="hs-identifier hs-var">rawRunId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680187210"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-340"></span><span>             </span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">&amp;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">WF.signalName</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.~</span></span><span> </span><span class="annot"><a href="#local-6989586621680187264"><span class="hs-identifier hs-type">sName</span></a></span><span>
</span><span id="line-342"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">&amp;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">WF.input</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">defMessage</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">&amp;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Common.vec'payloads</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">fmap</span></span><span> </span><span class="annot"><a href="Temporal.Payload.html#convertToProtoPayload"><span class="hs-identifier hs-type">convertToProtoPayload</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680187268"><span class="hs-identifier hs-type">inputs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-343"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">&amp;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">WF.identity</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-var">Core.identity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Core.clientConfig</span></span><span> </span><span class="annot"><span class="hs-identifier">c</span></span><span class="hs-operator">.</span><span class="hs-identifier">clientCore</span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">&amp;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">WF.requestId</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">fromMaybe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="annot"><span class="hs-identifier">opts</span></span><span class="hs-operator">.</span><span class="hs-identifier">requestId</span><span>
</span><span id="line-345"></span><span>        </span><span class="hs-comment">-- Deprecated, no need to set</span><span>
</span><span id="line-346"></span><span>        </span><span class="hs-comment">-- &amp; WF.control .~ _</span><span>
</span><span id="line-347"></span><span>        </span><span class="hs-comment">-- TODO put other useful headers in here</span><span>
</span><span id="line-348"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">&amp;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">WF.header</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.~</span></span><span> </span><span class="annot"><a href="Temporal.Common.html#headerToProto"><span class="hs-identifier hs-type">headerToProto</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">fmap</span></span><span> </span><span class="annot"><a href="Temporal.Payload.html#convertToProtoPayload"><span class="hs-identifier hs-type">convertToProtoPayload</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680187272"><span class="hs-identifier hs-type">hdrs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-349"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">&amp;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">WF.skipGenerateWorkflowTask</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.~</span></span><span> </span><span class="annot"><span class="hs-identifier">opts</span></span><span class="hs-operator">.</span><span class="hs-identifier">skipGenerateWorkflowTask</span><span>
</span><span id="line-350"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621680187273"><span class="hs-identifier hs-type">result</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-351"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621680187366"><span class="annot"><span class="annottext">RpcError
</span><a href="#local-6989586621680187366"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RpcError -&gt; IO ()
forall (m :: * -&gt; *) e a. (MonadIO m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">RpcError
</span><a href="#local-6989586621680187366"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-352"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><span class="annottext">SignalWorkflowExecutionResponse
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-353"></span><span>
</span><span id="line-354"></span><span>
</span><span id="line-355"></span><span class="hs-keyword">data</span><span> </span><span id="QueryOptions"><span class="annot"><a href="Temporal.Client.html#QueryOptions"><span class="hs-identifier hs-var">QueryOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="QueryOptions"><span class="annot"><a href="Temporal.Client.html#QueryOptions"><span class="hs-identifier hs-var">QueryOptions</span></a></span></span><span>
</span><span id="line-356"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-comment">-- queryId :: Text</span><span>
</span><span id="line-357"></span><span>    </span><span class="hs-comment">-- ,</span><span>
</span><span id="line-358"></span><span>    </span><span id="queryRejectCondition"><span class="annot"><span class="annottext">QueryOptions -&gt; QueryRejectCondition
</span><a href="Temporal.Client.html#queryRejectCondition"><span class="hs-identifier hs-var hs-var">queryRejectCondition</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#QueryRejectCondition"><span class="hs-identifier hs-type">QueryRejectCondition</span></a></span><span>
</span><span id="line-359"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="queryHeaders"><span class="annot"><span class="annottext">QueryOptions -&gt; Map Text Payload
</span><a href="Temporal.Client.html#queryHeaders"><span class="hs-identifier hs-var hs-var">queryHeaders</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><a href="Temporal.Payload.html#Payload"><span class="hs-identifier hs-type">Payload</span></a></span><span>
</span><span id="line-360"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-361"></span><span>
</span><span id="line-362"></span><span>
</span><span id="line-363"></span><span class="annot"><a href="Temporal.Client.html#defaultQueryOptions"><span class="hs-identifier hs-type">defaultQueryOptions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Temporal.Client.html#QueryOptions"><span class="hs-identifier hs-type">QueryOptions</span></a></span><span>
</span><span id="line-364"></span><span id="defaultQueryOptions"><span class="annot"><span class="annottext">defaultQueryOptions :: QueryOptions
</span><a href="Temporal.Client.html#defaultQueryOptions"><span class="hs-identifier hs-var hs-var">defaultQueryOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-365"></span><span>  </span><span class="annot"><a href="Temporal.Client.html#QueryOptions"><span class="hs-identifier hs-type">QueryOptions</span></a></span><span>
</span><span id="line-366"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">queryRejectCondition :: QueryRejectCondition
</span><a href="Temporal.Client.html#queryRejectCondition"><span class="hs-identifier hs-var">queryRejectCondition</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QueryRejectCondition
</span><a href="Temporal.Client.Types.html#QueryRejectConditionRejectNone"><span class="hs-identifier hs-var">QueryRejectConditionRejectNone</span></a></span><span>
</span><span id="line-367"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">queryHeaders :: Map Text Payload
</span><a href="Temporal.Client.html#queryHeaders"><span class="hs-identifier hs-var">queryHeaders</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map Text Payload
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-368"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span class="annot"><span class="hs-comment">{- | A Query is a synchronous operation that is used to get the state of a Workflow Execution. The state of a running Workflow Execution is constantly changing. You can use Queries to expose the internal Workflow Execution state to the external world. Queries are available for running or completed Workflows Executions only if the Worker is up and listening on the Task Queue.

Queries are sent from a Temporal Client to a Workflow Execution. The API call is synchronous. The Query is identified at both ends by a Query name. The Workflow must have a Query handler that is developed to handle that Query and provide data that represents the state of the Workflow Execution.

Queries are strongly consistent and are guaranteed to return the most recent state. This means that the data reflects the state of all confirmed Events that came in before the Query was sent. An Event is considered confirmed if the call creating the Event returned success. Events that are created while the Query is outstanding may or may not be reflected in the Workflow state the Query result is based on.

A Query can carry arguments to specify the data it is requesting. And each Workflow can expose data to multiple types of Queries.

A Query must never mutate the state of the Workflow Execution&#8212;that is, Queries are read-only and cannot contain any blocking code. This means, for example, that Query handling logic cannot schedule Activity Executions.

For the Haskell library, this means that the only state that is accessible to a Query is 'Info' and values in 'StateVar's.

Sending Queries to completed Workflow Executions is supported, though Query reject conditions can be configured per Query.
-}</span></span><span>
</span><span id="line-385"></span><span class="annot"><a href="Temporal.Client.html#query"><span class="hs-identifier hs-type">query</span></a></span><span>
</span><span id="line-386"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680186489"><span class="annot"><a href="#local-6989586621680186489"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621680186490"><span class="annot"><a href="#local-6989586621680186490"><span class="hs-identifier hs-type">query</span></a></span></span><span> </span><span id="local-6989586621680186492"><span class="annot"><a href="#local-6989586621680186492"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-387"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621680186489"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Workflow.Query.html#QueryRef"><span class="hs-identifier hs-type">QueryRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186490"><span class="hs-identifier hs-type">query</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-388"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186492"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-389"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680186490"><span class="hs-identifier hs-type">query</span></a></span><span>
</span><span id="line-390"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#QueryOptions"><span class="hs-identifier hs-type">QueryOptions</span></a></span><span>
</span><span id="line-391"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Query.html#QueryArgs"><span class="hs-identifier hs-type">QueryArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186490"><span class="hs-identifier hs-type">query</span></a></span><span> </span><span class="annot"><a href="Temporal.Payload.html#%3A-%3E%3A"><span class="hs-operator hs-type">:-&gt;:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186489"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#QueryRejected"><span class="hs-identifier hs-type">QueryRejected</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Query.html#QueryResult"><span class="hs-identifier hs-type">QueryResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186490"><span class="hs-identifier hs-type">query</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-392"></span><span id="query"><span class="annot"><span class="annottext">query :: forall (m :: * -&gt; *) query a.
(MonadIO m, QueryRef query) =&gt;
WorkflowHandle a
-&gt; query
-&gt; QueryOptions
-&gt; QueryArgs query
   :-&gt;: m (Either QueryRejected (QueryResult query))
</span><a href="Temporal.Client.html#query"><span class="hs-identifier hs-var hs-var">query</span></a></span></span><span> </span><span id="local-6989586621680187374"><span class="annot"><span class="annottext">WorkflowHandle a
</span><a href="#local-6989586621680187374"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">query -&gt; KnownQuery (QueryArgs query) (QueryResult query)
forall query.
QueryRef query =&gt;
query -&gt; KnownQuery (QueryArgs query) (QueryResult query)
</span><a href="Temporal.Workflow.Query.html#queryRef"><span class="hs-identifier hs-var">queryRef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Workflow.Query.html#KnownQuery"><span class="hs-identifier hs-type">KnownQuery</span></a></span><span> </span><span id="local-6989586621680187460"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680187460"><span class="hs-identifier hs-var">qn</span></a></span></span><span> </span><span id="local-6989586621680187461"><span class="annot"><span class="annottext">codec
</span><a href="#local-6989586621680187461"><span class="hs-identifier hs-var">codec</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680187462"><span class="annot"><span class="annottext">QueryOptions
</span><a href="#local-6989586621680187462"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (args :: [*]) result codec.
(VarArgs args, AllArgs (Codec codec) args) =&gt;
codec -&gt; (Vector UnencodedPayload -&gt; result) -&gt; args :-&gt;: result
</span><a href="Temporal.Payload.html#withArgs"><span class="hs-identifier hs-var">withArgs</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Query.html#QueryArgs"><span class="hs-identifier hs-type">QueryArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186490"><span class="hs-identifier hs-type">query</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680186489"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#QueryRejected"><span class="hs-identifier hs-type">QueryRejected</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Query.html#QueryResult"><span class="hs-identifier hs-type">QueryResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186490"><span class="hs-identifier hs-type">query</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">codec
</span><a href="#local-6989586621680187461"><span class="hs-identifier hs-var">codec</span></a></span><span> </span><span class="annot"><span class="annottext">((Vector UnencodedPayload
  -&gt; m (Either QueryRejected (QueryResult query)))
 -&gt; QueryArgs query
    :-&gt;: m (Either QueryRejected (QueryResult query)))
-&gt; (Vector UnencodedPayload
    -&gt; m (Either QueryRejected (QueryResult query)))
-&gt; QueryArgs query
   :-&gt;: m (Either QueryRejected (QueryResult query))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680187463"><span class="annot"><span class="annottext">Vector UnencodedPayload
</span><a href="#local-6989586621680187463"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO (Either QueryRejected (QueryResult query))
-&gt; m (Either QueryRejected (QueryResult query))
forall a. IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO (Either QueryRejected (QueryResult query))
 -&gt; m (Either QueryRejected (QueryResult query)))
-&gt; IO (Either QueryRejected (QueryResult query))
-&gt; m (Either QueryRejected (QueryResult query))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-393"></span><span>  </span><span id="local-6989586621680187464"><span class="annot"><a href="#local-6989586621680187464"><span class="hs-identifier hs-var">inputs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Vector UnencodedPayload -&gt; IO (Vector Payload)
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
forall (m :: * -&gt; *) a. Monad m =&gt; Vector (m a) -&gt; m (Vector a)
</span><span class="hs-identifier hs-var">sequence</span></span><span> </span><span class="annot"><span class="annottext">Vector UnencodedPayload
</span><a href="#local-6989586621680187463"><span class="hs-identifier hs-var">inputs</span></a></span><span>
</span><span id="line-394"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680187465"><span class="annot"><a href="#local-6989586621680187465"><span class="hs-identifier hs-var hs-var">processor</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WorkflowHandle a
</span><a href="#local-6989586621680187374"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">workflowHandleClient</span><span class="hs-operator">.</span><span class="hs-identifier">clientConfig</span><span class="hs-operator">.</span><span class="hs-identifier">payloadProcessor</span><span>
</span><span id="line-395"></span><span>      </span><span id="local-6989586621680187466"><span class="annot"><a href="#local-6989586621680187466"><span class="hs-identifier hs-var hs-var">baseInput</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-396"></span><span>        </span><span class="annot"><a href="Temporal.Client.Types.html#QueryWorkflowInput"><span class="hs-identifier hs-type">QueryWorkflowInput</span></a></span><span>
</span><span id="line-397"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">queryWorkflowType :: Text
</span><a href="#local-6989586621680187468"><span class="hs-identifier hs-var">queryWorkflowType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680187460"><span class="hs-identifier hs-var">qn</span></a></span><span>
</span><span id="line-398"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">queryWorkflowRunId :: Maybe RunId
</span><a href="#local-6989586621680187469"><span class="hs-identifier hs-var">queryWorkflowRunId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WorkflowHandle a
</span><a href="#local-6989586621680187374"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">workflowHandleRunId</span><span>
</span><span id="line-399"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">queryWorkflowRejectCondition :: QueryRejectCondition
</span><a href="#local-6989586621680187470"><span class="hs-identifier hs-var">queryWorkflowRejectCondition</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QueryOptions
</span><a href="#local-6989586621680187462"><span class="hs-identifier hs-var">opts</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">queryRejectCondition</span><span>
</span><span id="line-400"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">queryWorkflowWorkflowId :: WorkflowId
</span><a href="#local-6989586621680187471"><span class="hs-identifier hs-var">queryWorkflowWorkflowId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WorkflowHandle a
</span><a href="#local-6989586621680187374"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">workflowHandleWorkflowId</span><span>
</span><span id="line-401"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">queryWorkflowHeaders :: Map Text Payload
</span><a href="#local-6989586621680187472"><span class="hs-identifier hs-var">queryWorkflowHeaders</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QueryOptions
</span><a href="#local-6989586621680187462"><span class="hs-identifier hs-var">opts</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">queryHeaders</span><span>
</span><span id="line-402"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">queryWorkflowArgs :: Vector Payload
</span><a href="#local-6989586621680187473"><span class="hs-identifier hs-var">queryWorkflowArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector Payload
</span><a href="#local-6989586621680187464"><span class="hs-identifier hs-var">inputs'</span></a></span><span>
</span><span id="line-403"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-404"></span><span>  </span><span id="local-6989586621680187474"><span class="annot"><a href="#local-6989586621680187474"><span class="hs-identifier hs-var">eRes</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier">h</span></span><span class="hs-operator">.</span><span class="hs-identifier">workflowHandleClient</span><span class="hs-operator">.</span><span class="hs-identifier">clientConfig</span><span class="hs-operator">.</span><span class="hs-identifier">interceptors</span><span class="hs-operator">.</span><span class="hs-identifier">queryWorkflow</span><span> </span><span class="annot"><a href="#local-6989586621680187466"><span class="hs-identifier hs-type">baseInput</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680187475"><span class="annot"><span class="annottext">QueryWorkflowInput
</span><a href="#local-6989586621680187475"><span class="hs-identifier hs-var">input</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-405"></span><span>    </span><span id="local-6989586621680187476"><span class="annot"><a href="#local-6989586621680187476"><span class="hs-identifier hs-var">queryArgs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PayloadProcessor -&gt; Vector Payload -&gt; IO (Vector Payload)
forall (m :: * -&gt; *) (f :: * -&gt; *).
(MonadIO m, Traversable f) =&gt;
PayloadProcessor -&gt; f Payload -&gt; m (f Payload)
</span><a href="Temporal.Payload.html#processorEncodePayloads"><span class="hs-identifier hs-var">processorEncodePayloads</span></a></span><span> </span><span class="annot"><span class="annottext">PayloadProcessor
</span><a href="#local-6989586621680187465"><span class="hs-identifier hs-var">processor</span></a></span><span> </span><span class="annot"><span class="annottext">QueryWorkflowInput
</span><a href="#local-6989586621680187475"><span class="hs-identifier hs-var">input</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">queryWorkflowArgs</span><span>
</span><span id="line-406"></span><span>    </span><span id="local-6989586621680187477"><span class="annot"><a href="#local-6989586621680187477"><span class="hs-identifier hs-var">headerPayloads</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Temporal.Payload.html#processorEncodePayloads"><span class="hs-identifier hs-type">processorEncodePayloads</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680187465"><span class="hs-identifier hs-type">processor</span></a></span><span> </span><span class="annot"><span class="hs-identifier">input</span></span><span class="hs-operator">.</span><span class="hs-identifier">queryWorkflowHeaders</span><span>
</span><span id="line-407"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621680187478"><span class="hs-identifier hs-type">msg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">QueryWorkflowRequest</span></span><span>
</span><span id="line-408"></span><span>        </span><span id="local-6989586621680187478"><span class="annot"><a href="#local-6989586621680187478"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-409"></span><span>          </span><span class="annot"><span class="annottext">QueryWorkflowRequest
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span>
</span><span id="line-410"></span><span>            </span><span class="annot"><span class="annottext">QueryWorkflowRequest
-&gt; (QueryWorkflowRequest -&gt; QueryWorkflowRequest)
-&gt; QueryWorkflowRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f QueryWorkflowRequest Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f QueryWorkflowRequest Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;namespace&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.namespace</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f QueryWorkflowRequest Text)
-&gt; Text -&gt; QueryWorkflowRequest -&gt; QueryWorkflowRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Namespace -&gt; Text
</span><a href="Temporal.Common.html#rawNamespace"><span class="hs-identifier hs-var">rawNamespace</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowHandle a
</span><a href="#local-6989586621680187374"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">workflowHandleClient</span><span class="hs-operator">.</span><span class="hs-identifier">clientConfig</span><span class="hs-operator">.</span><span class="hs-identifier">namespace</span><span>
</span><span id="line-411"></span><span>            </span><span class="annot"><span class="annottext">QueryWorkflowRequest
-&gt; (QueryWorkflowRequest -&gt; QueryWorkflowRequest)
-&gt; QueryWorkflowRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f QueryWorkflowRequest WorkflowExecution
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f QueryWorkflowRequest WorkflowExecution
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;execution&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.execution</span></span><span>
</span><span id="line-412"></span><span>              </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f QueryWorkflowRequest WorkflowExecution)
-&gt; WorkflowExecution
-&gt; QueryWorkflowRequest
-&gt; QueryWorkflowRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">WorkflowExecution
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span>
</span><span id="line-413"></span><span>                    </span><span class="annot"><span class="annottext">WorkflowExecution
-&gt; (WorkflowExecution -&gt; WorkflowExecution) -&gt; WorkflowExecution
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f WorkflowExecution Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f WorkflowExecution Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;workflowId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.workflowId</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f WorkflowExecution Text)
-&gt; Text -&gt; WorkflowExecution -&gt; WorkflowExecution
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">WorkflowId -&gt; Text
</span><a href="Temporal.Common.html#rawWorkflowId"><span class="hs-identifier hs-var">rawWorkflowId</span></a></span><span> </span><span class="annot"><span class="annottext">QueryWorkflowInput
</span><a href="#local-6989586621680187475"><span class="hs-identifier hs-var">input</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">queryWorkflowWorkflowId</span><span>
</span><span id="line-414"></span><span>                    </span><span class="annot"><span class="annottext">WorkflowExecution
-&gt; (WorkflowExecution -&gt; WorkflowExecution) -&gt; WorkflowExecution
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f WorkflowExecution Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f WorkflowExecution Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;runId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.runId</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f WorkflowExecution Text)
-&gt; Text -&gt; WorkflowExecution -&gt; WorkflowExecution
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; (RunId -&gt; Text) -&gt; Maybe RunId -&gt; Text
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">RunId -&gt; Text
</span><a href="Temporal.Common.html#rawRunId"><span class="hs-identifier hs-var">rawRunId</span></a></span><span> </span><span class="annot"><span class="annottext">QueryWorkflowInput
</span><a href="#local-6989586621680187475"><span class="hs-identifier hs-var">input</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">queryWorkflowRunId</span><span>
</span><span id="line-415"></span><span>                 </span><span class="hs-special">)</span><span>
</span><span id="line-416"></span><span>            </span><span class="annot"><span class="annottext">QueryWorkflowRequest
-&gt; (QueryWorkflowRequest -&gt; QueryWorkflowRequest)
-&gt; QueryWorkflowRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f QueryWorkflowRequest WorkflowQuery
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f QueryWorkflowRequest WorkflowQuery
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;query&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.query</span></span><span>
</span><span id="line-417"></span><span>              </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f QueryWorkflowRequest WorkflowQuery)
-&gt; WorkflowQuery -&gt; QueryWorkflowRequest -&gt; QueryWorkflowRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">WorkflowQuery
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span>
</span><span id="line-418"></span><span>                    </span><span class="annot"><span class="annottext">WorkflowQuery -&gt; (WorkflowQuery -&gt; WorkflowQuery) -&gt; WorkflowQuery
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f WorkflowQuery Text
forall {f :: * -&gt; *}. Identical f =&gt; LensLike' f WorkflowQuery Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;queryType&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Query.queryType</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f WorkflowQuery Text)
-&gt; Text -&gt; WorkflowQuery -&gt; WorkflowQuery
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">QueryWorkflowInput
</span><a href="#local-6989586621680187475"><span class="hs-identifier hs-var">input</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">queryWorkflowType</span><span>
</span><span id="line-419"></span><span>                    </span><span class="annot"><span class="annottext">WorkflowQuery -&gt; (WorkflowQuery -&gt; WorkflowQuery) -&gt; WorkflowQuery
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f WorkflowQuery Payloads
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f WorkflowQuery Payloads
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;queryArgs&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Query.queryArgs</span></span><span>
</span><span id="line-420"></span><span>                      </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f WorkflowQuery Payloads)
-&gt; Payloads -&gt; WorkflowQuery -&gt; WorkflowQuery
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Payloads
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span> </span><span class="annot"><span class="annottext">Payloads -&gt; (Payloads -&gt; Payloads) -&gt; Payloads
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f Payloads (Vector Payload)
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f Payloads (Vector Payload)
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;vec'payloads&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.vec'payloads</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f Payloads (Vector Payload))
-&gt; Vector Payload -&gt; Payloads -&gt; Payloads
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">(Payload -&gt; Payload) -&gt; Vector Payload -&gt; Vector Payload
forall a b. (a -&gt; b) -&gt; Vector a -&gt; Vector b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Payload -&gt; Payload
</span><a href="Temporal.Payload.html#convertToProtoPayload"><span class="hs-identifier hs-var">convertToProtoPayload</span></a></span><span> </span><span class="annot"><span class="annottext">Vector Payload
</span><a href="#local-6989586621680187476"><span class="hs-identifier hs-var">queryArgs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-421"></span><span>                    </span><span class="annot"><span class="annottext">WorkflowQuery -&gt; (WorkflowQuery -&gt; WorkflowQuery) -&gt; WorkflowQuery
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f WorkflowQuery Header
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f WorkflowQuery Header
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;header&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Query.header</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f WorkflowQuery Header)
-&gt; Header -&gt; WorkflowQuery -&gt; WorkflowQuery
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Map Text Payload -&gt; Header
</span><a href="Temporal.Common.html#headerToProto"><span class="hs-identifier hs-var">headerToProto</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Payload -&gt; Payload) -&gt; Map Text Payload -&gt; Map Text Payload
forall a b. (a -&gt; b) -&gt; Map Text a -&gt; Map Text b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Payload -&gt; Payload
</span><a href="Temporal.Payload.html#convertToProtoPayload"><span class="hs-identifier hs-var">convertToProtoPayload</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text Payload
</span><a href="#local-6989586621680187477"><span class="hs-identifier hs-var">headerPayloads</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-422"></span><span>                 </span><span class="hs-special">)</span><span>
</span><span id="line-423"></span><span>            </span><span class="annot"><span class="annottext">QueryWorkflowRequest
-&gt; (QueryWorkflowRequest -&gt; QueryWorkflowRequest)
-&gt; QueryWorkflowRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f QueryWorkflowRequest QueryRejectCondition
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f QueryWorkflowRequest QueryRejectCondition
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;queryRejectCondition&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.queryRejectCondition</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f QueryWorkflowRequest QueryRejectCondition)
-&gt; QueryRejectCondition
-&gt; QueryWorkflowRequest
-&gt; QueryWorkflowRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">QueryOptions
</span><a href="#local-6989586621680187462"><span class="hs-identifier hs-var">opts</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">queryRejectCondition</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-424"></span><span>              </span><span class="annot"><span class="annottext">QueryRejectCondition
</span><a href="Temporal.Client.Types.html#QueryRejectConditionRejectNone"><span class="hs-identifier hs-var">QueryRejectConditionRejectNone</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QueryRejectCondition
</span><span class="hs-identifier hs-var">Query.QUERY_REJECT_CONDITION_NONE</span></span><span>
</span><span id="line-425"></span><span>              </span><span class="annot"><span class="annottext">QueryRejectCondition
</span><a href="Temporal.Client.Types.html#QueryRejectConditionNotOpen"><span class="hs-identifier hs-var">QueryRejectConditionNotOpen</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QueryRejectCondition
</span><span class="hs-identifier hs-var">Query.QUERY_REJECT_CONDITION_NOT_OPEN</span></span><span>
</span><span id="line-426"></span><span>              </span><span class="annot"><span class="annottext">QueryRejectCondition
</span><a href="Temporal.Client.Types.html#QueryRejectConditionNotCompletedCleanly"><span class="hs-identifier hs-var">QueryRejectConditionNotCompletedCleanly</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QueryRejectCondition
</span><span class="hs-identifier hs-var">Query.QUERY_REJECT_CONDITION_NOT_COMPLETED_CLEANLY</span></span><span>
</span><span id="line-427"></span><span>
</span><span id="line-428"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621680187547"><span class="annot"><a href="#local-6989586621680187547"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier">QueryWorkflowResponse</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">throwIO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Temporal.Core.Client.WorkflowService.queryWorkflow</span></span><span> </span><span class="annot"><span class="hs-identifier">h</span></span><span class="hs-operator">.</span><span class="hs-identifier">workflowHandleClient</span><span class="hs-operator">.</span><span class="hs-identifier">clientCore</span><span> </span><span class="annot"><a href="#local-6989586621680187478"><span class="hs-identifier hs-type">msg</span></a></span><span>
</span><span id="line-429"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621680187547"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">^.</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">WF.maybe'queryRejected</span></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-430"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621680187550"><span class="annot"><span class="annottext">QueryRejected
</span><a href="#local-6989586621680187550"><span class="hs-identifier hs-var">rejection</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-431"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680187551"><span class="annot"><span class="annottext">status :: WorkflowExecutionStatus
</span><a href="#local-6989586621680187551"><span class="hs-identifier hs-var hs-var">status</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionStatus -&gt; WorkflowExecutionStatus
</span><a href="#local-6989586621680187552"><span class="hs-identifier hs-var">queryRejectionStatusFromProto</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QueryRejected
</span><a href="#local-6989586621680187550"><span class="hs-identifier hs-var">rejection</span></a></span><span> </span><span class="annot"><span class="annottext">QueryRejected
-&gt; FoldLike
     WorkflowExecutionStatus
     QueryRejected
     QueryRejected
     WorkflowExecutionStatus
     WorkflowExecutionStatus
-&gt; WorkflowExecutionStatus
forall s a t b. s -&gt; FoldLike a s t a b -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">FoldLike
  WorkflowExecutionStatus
  QueryRejected
  QueryRejected
  WorkflowExecutionStatus
  WorkflowExecutionStatus
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;status&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Query.status</span></span><span class="hs-special">)</span><span>
</span><span id="line-432"></span><span>        </span><span class="annot"><span class="annottext">Either QueryRejected Payload -&gt; IO (Either QueryRejected Payload)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Either QueryRejected Payload -&gt; IO (Either QueryRejected Payload))
-&gt; Either QueryRejected Payload
-&gt; IO (Either QueryRejected Payload)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QueryRejected -&gt; Either QueryRejected Payload
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(QueryRejected -&gt; Either QueryRejected Payload)
-&gt; QueryRejected -&gt; Either QueryRejected Payload
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#QueryRejected"><span class="hs-identifier hs-type">QueryRejected</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">WorkflowExecutionStatus
status :: WorkflowExecutionStatus
status :: WorkflowExecutionStatus
</span><a href="#local-6989586621680187551"><span class="hs-glyph hs-var hs-var">..</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-433"></span><span>      </span><span class="annot"><span class="annottext">Maybe QueryRejected
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QueryWorkflowResponse
</span><a href="#local-6989586621680187547"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">QueryWorkflowResponse
-&gt; FoldLike
     (Vector Payload)
     QueryWorkflowResponse
     QueryWorkflowResponse
     (Vector Payload)
     (Vector Payload)
-&gt; Vector Payload
forall s a t b. s -&gt; FoldLike a s t a b -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">LensLike'
  (Constant (Vector Payload)) QueryWorkflowResponse Payloads
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;queryResult&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.queryResult</span></span><span> </span><span class="annot"><span class="annottext">LensLike'
  (Constant (Vector Payload)) QueryWorkflowResponse Payloads
-&gt; ((Vector Payload -&gt; Constant (Vector Payload) (Vector Payload))
    -&gt; Payloads -&gt; Constant (Vector Payload) Payloads)
-&gt; FoldLike
     (Vector Payload)
     QueryWorkflowResponse
     QueryWorkflowResponse
     (Vector Payload)
     (Vector Payload)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Vector Payload -&gt; Constant (Vector Payload) (Vector Payload))
-&gt; Payloads -&gt; Constant (Vector Payload) Payloads
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;vec'payloads&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.vec'payloads</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Vector Payload -&gt; Int -&gt; Maybe Payload
forall a. Vector a -&gt; Int -&gt; Maybe a
</span><span class="hs-operator hs-var">V.!?</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-434"></span><span>        </span><span class="annot"><span class="annottext">Maybe Payload
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ValueError -&gt; IO (Either QueryRejected Payload)
forall (m :: * -&gt; *) e a. (MonadIO m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">(ValueError -&gt; IO (Either QueryRejected Payload))
-&gt; ValueError -&gt; IO (Either QueryRejected Payload)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ValueError
</span><a href="Temporal.Payload.html#ValueError"><span class="hs-identifier hs-var">ValueError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;No return value payloads provided by query response&quot;</span></span><span>
</span><span id="line-435"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621680187559"><span class="annot"><span class="annottext">Payload
</span><a href="#local-6989586621680187559"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either QueryRejected Payload -&gt; IO (Either QueryRejected Payload)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Either QueryRejected Payload -&gt; IO (Either QueryRejected Payload))
-&gt; Either QueryRejected Payload
-&gt; IO (Either QueryRejected Payload)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Payload -&gt; Either QueryRejected Payload
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Payload -&gt; Either QueryRejected Payload)
-&gt; Payload -&gt; Either QueryRejected Payload
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Payload -&gt; Payload
</span><a href="Temporal.Payload.html#convertFromProtoPayload"><span class="hs-identifier hs-var">convertFromProtoPayload</span></a></span><span> </span><span class="annot"><span class="annottext">Payload
</span><a href="#local-6989586621680187559"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-436"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">forM</span></span><span> </span><span class="annot"><a href="#local-6989586621680187474"><span class="hs-identifier hs-type">eRes</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680187561"><span class="annot"><span class="annottext">Payload
</span><a href="#local-6989586621680187561"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-437"></span><span>    </span><span class="annot"><span class="annottext">PayloadProcessor -&gt; Payload -&gt; IO (Either [Char] Payload)
</span><a href="Temporal.Payload.html#payloadProcessorDecode"><span class="hs-identifier hs-var">payloadProcessorDecode</span></a></span><span> </span><span class="annot"><span class="annottext">PayloadProcessor
</span><a href="#local-6989586621680187465"><span class="hs-identifier hs-var">processor</span></a></span><span> </span><span class="annot"><span class="annottext">Payload
</span><a href="#local-6989586621680187561"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either [Char] Payload)
-&gt; (Either [Char] Payload -&gt; UnencodedPayload) -&gt; UnencodedPayload
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; UnencodedPayload)
-&gt; (Payload -&gt; UnencodedPayload)
-&gt; Either [Char] Payload
-&gt; UnencodedPayload
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ValueError -&gt; UnencodedPayload
forall (m :: * -&gt; *) e a. (MonadIO m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">(ValueError -&gt; UnencodedPayload)
-&gt; ([Char] -&gt; ValueError) -&gt; [Char] -&gt; UnencodedPayload
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ValueError
</span><a href="Temporal.Payload.html#ValueError"><span class="hs-identifier hs-var">ValueError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Payload -&gt; UnencodedPayload
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">UnencodedPayload
-&gt; (Payload -&gt; IO (Either [Char] (QueryResult query)))
-&gt; IO (Either [Char] (QueryResult query))
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">codec -&gt; Payload -&gt; IO (Either [Char] (QueryResult query))
forall fmt a. Codec fmt a =&gt; fmt -&gt; Payload -&gt; IO (Either [Char] a)
</span><a href="Temporal.Payload.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">codec
</span><a href="#local-6989586621680187461"><span class="hs-identifier hs-var">codec</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either [Char] (QueryResult query))
-&gt; (Either [Char] (QueryResult query) -&gt; IO (QueryResult query))
-&gt; IO (QueryResult query)
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; IO (QueryResult query))
-&gt; (QueryResult query -&gt; IO (QueryResult query))
-&gt; Either [Char] (QueryResult query)
-&gt; IO (QueryResult query)
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ValueError -&gt; IO (QueryResult query)
forall (m :: * -&gt; *) e a. (MonadIO m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">(ValueError -&gt; IO (QueryResult query))
-&gt; ([Char] -&gt; ValueError) -&gt; [Char] -&gt; IO (QueryResult query)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ValueError
</span><a href="Temporal.Payload.html#ValueError"><span class="hs-identifier hs-var">ValueError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">QueryResult query -&gt; IO (QueryResult query)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-438"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-439"></span><span>    </span><span id="local-6989586621680187552"><span class="annot"><span class="annottext">queryRejectionStatusFromProto :: WorkflowExecutionStatus -&gt; WorkflowExecutionStatus
</span><a href="#local-6989586621680187552"><span class="hs-identifier hs-var hs-var">queryRejectionStatusFromProto</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-440"></span><span>      </span><span class="annot"><span class="annottext">WorkflowExecutionStatus
</span><span class="hs-identifier hs-var">WORKFLOW_EXECUTION_STATUS_UNSPECIFIED</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionStatus
</span><a href="Temporal.Client.Types.html#UnknownStatus"><span class="hs-identifier hs-var">UnknownStatus</span></a></span><span>
</span><span id="line-441"></span><span>      </span><span class="annot"><span class="annottext">WorkflowExecutionStatus
</span><span class="hs-identifier hs-var">WORKFLOW_EXECUTION_STATUS_RUNNING</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionStatus
</span><a href="Temporal.Client.Types.html#Running"><span class="hs-identifier hs-var">Running</span></a></span><span>
</span><span id="line-442"></span><span>      </span><span class="annot"><span class="annottext">WorkflowExecutionStatus
</span><span class="hs-identifier hs-var">WORKFLOW_EXECUTION_STATUS_COMPLETED</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionStatus
</span><a href="Temporal.Client.Types.html#Completed"><span class="hs-identifier hs-var">Completed</span></a></span><span>
</span><span id="line-443"></span><span>      </span><span class="annot"><span class="annottext">WorkflowExecutionStatus
</span><span class="hs-identifier hs-var">WORKFLOW_EXECUTION_STATUS_FAILED</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionStatus
</span><a href="Temporal.Client.Types.html#Failed"><span class="hs-identifier hs-var">Failed</span></a></span><span>
</span><span id="line-444"></span><span>      </span><span class="annot"><span class="annottext">WorkflowExecutionStatus
</span><span class="hs-identifier hs-var">WORKFLOW_EXECUTION_STATUS_CANCELED</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionStatus
</span><a href="Temporal.Client.Types.html#Canceled"><span class="hs-identifier hs-var">Canceled</span></a></span><span>
</span><span id="line-445"></span><span>      </span><span class="annot"><span class="annottext">WorkflowExecutionStatus
</span><span class="hs-identifier hs-var">WORKFLOW_EXECUTION_STATUS_TERMINATED</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionStatus
</span><a href="Temporal.Client.Types.html#Terminated"><span class="hs-identifier hs-var">Terminated</span></a></span><span>
</span><span id="line-446"></span><span>      </span><span class="annot"><span class="annottext">WorkflowExecutionStatus
</span><span class="hs-identifier hs-var">WORKFLOW_EXECUTION_STATUS_CONTINUED_AS_NEW</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionStatus
</span><a href="Temporal.Client.Types.html#ContinuedAsNew"><span class="hs-identifier hs-var">ContinuedAsNew</span></a></span><span>
</span><span id="line-447"></span><span>      </span><span class="annot"><span class="annottext">WorkflowExecutionStatus
</span><span class="hs-identifier hs-var">WORKFLOW_EXECUTION_STATUS_TIMED_OUT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionStatus
</span><a href="Temporal.Client.Types.html#TimedOut"><span class="hs-identifier hs-var">TimedOut</span></a></span><span>
</span><span id="line-448"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">WorkflowExecutionStatus'Unrecognized</span></span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionStatus'UnrecognizedValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionStatus
</span><a href="Temporal.Client.Types.html#UnknownStatus"><span class="hs-identifier hs-var">UnknownStatus</span></a></span><span>
</span><span id="line-449"></span><span>
</span><span id="line-450"></span><span>
</span><span id="line-451"></span><span class="annot"><span class="hs-comment">{- | Sometimes you know that a Workflow exists or existed, but you didn't create the workflow from
the current process or code path. In this case, you can use 'getHandle' to get a handle to the
workflow so that you can interact with it.

Note that it is possible for a workflow to be closed or archived by the time you get a handle,
so you should be prepared to handle 'WorkflowExecutionClosed' exceptions.
-}</span></span><span>
</span><span id="line-458"></span><span id="local-6989586621680186559"><span id="local-6989586621680186560"><span id="local-6989586621680186561"><span class="annot"><a href="Temporal.Client.html#getHandle"><span class="hs-identifier hs-type">getHandle</span></a></span><span>
</span><span id="line-459"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186559"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621680186559"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-460"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Workflow.Definition.html#KnownWorkflow"><span class="hs-identifier hs-type">KnownWorkflow</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186560"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186561"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-461"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Common.html#WorkflowId"><span class="hs-identifier hs-type">WorkflowId</span></a></span><span>
</span><span id="line-462"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Temporal.Common.html#RunId"><span class="hs-identifier hs-type">RunId</span></a></span><span>
</span><span id="line-463"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680186559"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186561"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-464"></span><span id="getHandle"><span class="annot"><span class="annottext">getHandle :: forall (m :: * -&gt; *) (args :: [*]) a.
(HasWorkflowClient m, MonadIO m) =&gt;
KnownWorkflow args a
-&gt; WorkflowId -&gt; Maybe RunId -&gt; m (WorkflowHandle a)
</span><a href="Temporal.Client.html#getHandle"><span class="hs-identifier hs-var hs-var">getHandle</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#KnownWorkflow"><span class="hs-identifier hs-type">KnownWorkflow</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621680187602"><span class="annot"><span class="annottext">codec
knownWorkflowCodec :: codec
knownWorkflowCodec :: ()
</span><a href="#local-6989586621680187602"><span class="hs-identifier hs-var hs-var">knownWorkflowCodec</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680187604"><span class="annot"><span class="annottext">Text
knownWorkflowName :: Text
knownWorkflowName :: forall (args :: [*]) result. KnownWorkflow args result -&gt; Text
</span><a href="#local-6989586621680187604"><span class="hs-identifier hs-var hs-var">knownWorkflowName</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680187606"><span class="annot"><span class="annottext">WorkflowId
</span><a href="#local-6989586621680187606"><span class="hs-identifier hs-var">wfId</span></a></span></span><span> </span><span id="local-6989586621680187607"><span class="annot"><span class="annottext">Maybe RunId
</span><a href="#local-6989586621680187607"><span class="hs-identifier hs-var">runId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-465"></span><span>  </span><span id="local-6989586621680187608"><span class="annot"><a href="#local-6989586621680187608"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-466"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-467"></span><span>    </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span>
</span><span id="line-468"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#workflowHandleReadResult"><span class="hs-identifier hs-var">workflowHandleReadResult</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680187610"><span class="annot"><span class="annottext">Payload
</span><a href="#local-6989586621680187610"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-469"></span><span>          </span><span id="local-6989586621680187611"><span class="annot"><a href="#local-6989586621680187611"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">codec -&gt; Payload -&gt; IO (Either [Char] a)
forall fmt a. Codec fmt a =&gt; fmt -&gt; Payload -&gt; IO (Either [Char] a)
</span><a href="Temporal.Payload.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">codec
</span><a href="#local-6989586621680187602"><span class="hs-identifier hs-var">knownWorkflowCodec</span></a></span><span> </span><span class="annot"><span class="annottext">(Payload -&gt; IO (Either [Char] a))
-&gt; UnencodedPayload -&gt; IO (Either [Char] a)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; UnencodedPayload)
-&gt; (Payload -&gt; UnencodedPayload)
-&gt; Either [Char] Payload
-&gt; UnencodedPayload
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ValueError -&gt; UnencodedPayload
forall (m :: * -&gt; *) e a. (MonadIO m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">(ValueError -&gt; UnencodedPayload)
-&gt; ([Char] -&gt; ValueError) -&gt; [Char] -&gt; UnencodedPayload
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ValueError
</span><a href="Temporal.Payload.html#ValueError"><span class="hs-identifier hs-var">ValueError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Payload -&gt; UnencodedPayload
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Either [Char] Payload -&gt; UnencodedPayload)
-&gt; IO (Either [Char] Payload) -&gt; UnencodedPayload
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">PayloadProcessor -&gt; Payload -&gt; IO (Either [Char] Payload)
</span><a href="Temporal.Payload.html#payloadProcessorDecode"><span class="hs-identifier hs-var">payloadProcessorDecode</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowClient
</span><a href="#local-6989586621680187608"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">clientConfig</span><span class="hs-operator">.</span><span class="hs-identifier">payloadProcessor</span><span> </span><span class="annot"><span class="annottext">Payload
</span><a href="#local-6989586621680187610"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-470"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">throwIO</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="Temporal.Payload.html#ValueError"><span class="hs-identifier hs-type">ValueError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="#local-6989586621680187611"><span class="hs-identifier hs-type">result</span></a></span><span>
</span><span id="line-471"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#workflowHandleClient"><span class="hs-identifier hs-var">workflowHandleClient</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621680187608"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-472"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#workflowHandleWorkflowId"><span class="hs-identifier hs-var">workflowHandleWorkflowId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621680187606"><span class="hs-identifier hs-type">wfId</span></a></span><span>
</span><span id="line-473"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#workflowHandleRunId"><span class="hs-identifier hs-var">workflowHandleRunId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621680187607"><span class="hs-identifier hs-type">runId</span></a></span><span>
</span><span id="line-474"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#workflowHandleType"><span class="hs-identifier hs-var">workflowHandleType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Temporal.Common.html#WorkflowType"><span class="hs-identifier hs-type">WorkflowType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680187604"><span class="hs-identifier hs-type">knownWorkflowName</span></a></span><span>
</span><span id="line-475"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-476"></span><span>
</span><span id="line-477"></span><span>
</span><span id="line-478"></span><span class="hs-comment">-- TODO</span><span>
</span><span id="line-479"></span><span class="hs-comment">-- list</span><span>
</span><span id="line-480"></span><span class="hs-comment">--   :: MonadIO m</span><span>
</span><span id="line-481"></span><span class="hs-comment">--   =&gt; WorkflowClient</span><span>
</span><span id="line-482"></span><span class="hs-comment">--   -&gt; ListWorkflowOptions</span><span>
</span><span id="line-483"></span><span class="hs-comment">--   -&gt; m [WorkflowId]</span><span>
</span><span id="line-484"></span><span>
</span><span id="line-485"></span><span class="annot"><span class="hs-comment">{- | Start a new Workflow Execution from an unchecked list of payloads. This can be useful if you are forwarding
execution from another Workflow or from an external source, but no checking to make sure that the input
types are correct is performed.
-}</span></span><span>
</span><span id="line-489"></span><span id="local-6989586621680186326"><span id="local-6989586621680186327"><span id="local-6989586621680186328"><span class="annot"><a href="Temporal.Client.html#startFromPayloads"><span class="hs-identifier hs-type">startFromPayloads</span></a></span><span>
</span><span id="line-490"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621680186326"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186326"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-491"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Workflow.Definition.html#KnownWorkflow"><span class="hs-identifier hs-type">KnownWorkflow</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186327"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186328"><span class="hs-identifier hs-type">result</span></a></span><span>
</span><span id="line-492"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Common.html#WorkflowId"><span class="hs-identifier hs-type">WorkflowId</span></a></span><span>
</span><span id="line-493"></span><span>  </span><span class="hs-comment">-- ^ A Workflow Id is a customizable, application-level identifier for a Workflow Execution that is unique to an Open Workflow Execution within a Namespace.</span><span>
</span><span id="line-494"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-495"></span><span>  </span><span class="hs-comment">-- A Workflow Id is meant to be a business-process identifier such as customer identifier or order identifier.</span><span>
</span><span id="line-496"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-497"></span><span>  </span><span class="hs-comment">-- A Workflow Id Reuse Policy can be used to manage whether a Workflow Id can be re-used. The Temporal Platform guarantees uniqueness of the Workflow Id within a Namespace based on the Workflow Id Reuse Policy.</span><span>
</span><span id="line-498"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-499"></span><span>  </span><span class="hs-comment">-- A Workflow Execution can be uniquely identified across all Namespaces by its Namespace, Workflow Id, and Run Id.</span><span>
</span><span id="line-500"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#StartWorkflowOptions"><span class="hs-identifier hs-type">StartWorkflowOptions</span></a></span><span>
</span><span id="line-501"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V.Vector</span></span><span> </span><span class="annot"><a href="Temporal.Payload.html#UnencodedPayload"><span class="hs-identifier hs-type">UnencodedPayload</span></a></span><span>
</span><span id="line-502"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680186326"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186328"><span class="hs-identifier hs-type">result</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-503"></span><span id="startFromPayloads"><span class="annot"><span class="annottext">startFromPayloads :: forall (m :: * -&gt; *) (args :: [*]) result.
(MonadIO m, HasWorkflowClient m) =&gt;
KnownWorkflow args result
-&gt; WorkflowId
-&gt; StartWorkflowOptions
-&gt; Vector UnencodedPayload
-&gt; m (WorkflowHandle result)
</span><a href="Temporal.Client.html#startFromPayloads"><span class="hs-identifier hs-var hs-var">startFromPayloads</span></a></span></span><span> </span><span id="local-6989586621680187621"><span class="annot"><span class="annottext">k :: KnownWorkflow args result
</span><a href="#local-6989586621680187621"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#KnownWorkflow"><span class="hs-identifier hs-type">KnownWorkflow</span></a></span><span> </span><span id="local-6989586621680187704"><span class="annot"><span class="annottext">codec
</span><a href="#local-6989586621680187704"><span class="hs-identifier hs-var">codec</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680187705"><span class="annot"><span class="annottext">WorkflowId
</span><a href="#local-6989586621680187705"><span class="hs-identifier hs-var">wfId</span></a></span></span><span> </span><span id="local-6989586621680187706"><span class="annot"><span class="annottext">StartWorkflowOptions
</span><a href="#local-6989586621680187706"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621680187707"><span class="annot"><span class="annottext">Vector UnencodedPayload
</span><a href="#local-6989586621680187707"><span class="hs-identifier hs-var">payloads</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-504"></span><span>  </span><span id="local-6989586621680187708"><span class="annot"><a href="#local-6989586621680187708"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-505"></span><span>  </span><span id="local-6989586621680187709"><span class="annot"><a href="#local-6989586621680187709"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">liftIO</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">sequence</span></span><span> </span><span class="annot"><a href="#local-6989586621680187707"><span class="hs-identifier hs-type">payloads</span></a></span><span>
</span><span id="line-506"></span><span>  </span><span id="local-6989586621680187710"><span class="annot"><a href="#local-6989586621680187710"><span class="hs-identifier hs-var">wfH</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">liftIO</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#start"><span class="hs-identifier hs-var">Temporal.Client.Types.start</span></a></span><span> </span><span class="annot"><span class="hs-identifier">c</span></span><span class="hs-operator">.</span><span class="hs-identifier">clientConfig</span><span class="hs-operator">.</span><span class="hs-identifier">interceptors</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Common.html#WorkflowType"><span class="hs-identifier hs-type">WorkflowType</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Temporal.Workflow.Definition.html#knownWorkflowName"><span class="hs-identifier hs-var">knownWorkflowName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680187621"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680187705"><span class="hs-identifier hs-type">wfId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680187706"><span class="hs-identifier hs-type">opts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680187709"><span class="hs-identifier hs-type">ps</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680187712"><span class="annot"><span class="annottext">WorkflowType
</span><a href="#local-6989586621680187712"><span class="hs-identifier hs-var">wfName</span></a></span></span><span> </span><span id="local-6989586621680187713"><span class="annot"><span class="annottext">WorkflowId
</span><a href="#local-6989586621680187713"><span class="hs-identifier hs-var">wfId'</span></a></span></span><span> </span><span id="local-6989586621680187714"><span class="annot"><span class="annottext">StartWorkflowOptions
</span><a href="#local-6989586621680187714"><span class="hs-identifier hs-var">opts'</span></a></span></span><span> </span><span id="local-6989586621680187715"><span class="annot"><span class="annottext">Vector Payload
</span><a href="#local-6989586621680187715"><span class="hs-identifier hs-var">payloads'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-507"></span><span>    </span><span id="local-6989586621680187716"><span class="annot"><a href="#local-6989586621680187716"><span class="hs-identifier hs-var">reqId</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO UUID
</span><span class="hs-identifier hs-var">UUID.nextRandom</span></span><span>
</span><span id="line-508"></span><span>    </span><span id="local-6989586621680187718"><span class="annot"><a href="#local-6989586621680187718"><span class="hs-identifier hs-var">searchAttrs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Temporal.SearchAttributes.Internal.html#searchAttributesToProto"><span class="hs-identifier hs-type">searchAttributesToProto</span></a></span><span> </span><span class="annot"><span class="hs-identifier">opts'</span></span><span class="hs-operator">.</span><span class="hs-identifier">searchAttributes</span><span>
</span><span id="line-509"></span><span>    </span><span id="local-6989586621680187720"><span class="annot"><a href="#local-6989586621680187720"><span class="hs-identifier hs-var">payloads''</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Temporal.Payload.html#processorEncodePayloads"><span class="hs-identifier hs-type">processorEncodePayloads</span></a></span><span> </span><span class="annot"><span class="hs-identifier">c</span></span><span class="hs-operator">.</span><span class="hs-identifier">clientConfig</span><span class="hs-operator">.</span><span class="hs-identifier">payloadProcessor</span><span> </span><span class="annot"><a href="#local-6989586621680187715"><span class="hs-identifier hs-type">payloads'</span></a></span><span>
</span><span id="line-510"></span><span>    </span><span id="local-6989586621680187721"><span class="annot"><a href="#local-6989586621680187721"><span class="hs-identifier hs-var">hdrs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Temporal.Payload.html#processorEncodePayloads"><span class="hs-identifier hs-type">processorEncodePayloads</span></a></span><span> </span><span class="annot"><span class="hs-identifier">c</span></span><span class="hs-operator">.</span><span class="hs-identifier">clientConfig</span><span class="hs-operator">.</span><span class="hs-identifier">payloadProcessor</span><span> </span><span class="annot"><span class="hs-identifier">opts'</span></span><span class="hs-operator">.</span><span class="hs-identifier">headers</span><span>
</span><span id="line-511"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680187722"><span class="annot"><a href="#local-6989586621680187722"><span class="hs-identifier hs-var hs-var">tq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TaskQueue -&gt; Text
</span><a href="Temporal.Common.html#rawTaskQueue"><span class="hs-identifier hs-var">rawTaskQueue</span></a></span><span> </span><span class="annot"><span class="annottext">StartWorkflowOptions
</span><a href="#local-6989586621680187714"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">taskQueue</span><span>
</span><span id="line-512"></span><span>        </span><span id="local-6989586621680187724"><span class="annot"><a href="#local-6989586621680187724"><span class="hs-identifier hs-var hs-var">req</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-513"></span><span>          </span><span class="annot"><span class="annottext">StartWorkflowExecutionRequest
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span>
</span><span id="line-514"></span><span>            </span><span class="annot"><span class="annottext">StartWorkflowExecutionRequest
-&gt; (StartWorkflowExecutionRequest -&gt; StartWorkflowExecutionRequest)
-&gt; StartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f StartWorkflowExecutionRequest Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f StartWorkflowExecutionRequest Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;namespace&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.namespace</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f StartWorkflowExecutionRequest Text)
-&gt; Text
-&gt; StartWorkflowExecutionRequest
-&gt; StartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Namespace -&gt; Text
</span><a href="Temporal.Common.html#rawNamespace"><span class="hs-identifier hs-var">rawNamespace</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowClient
</span><a href="#local-6989586621680187708"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">clientConfig</span><span class="hs-operator">.</span><span class="hs-identifier">namespace</span><span>
</span><span id="line-515"></span><span>            </span><span class="annot"><span class="annottext">StartWorkflowExecutionRequest
-&gt; (StartWorkflowExecutionRequest -&gt; StartWorkflowExecutionRequest)
-&gt; StartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f StartWorkflowExecutionRequest Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f StartWorkflowExecutionRequest Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;workflowId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.workflowId</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f StartWorkflowExecutionRequest Text)
-&gt; Text
-&gt; StartWorkflowExecutionRequest
-&gt; StartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">WorkflowId -&gt; Text
</span><a href="Temporal.Common.html#rawWorkflowId"><span class="hs-identifier hs-var">rawWorkflowId</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowId
</span><a href="#local-6989586621680187713"><span class="hs-identifier hs-var">wfId'</span></a></span><span>
</span><span id="line-516"></span><span>            </span><span class="annot"><span class="annottext">StartWorkflowExecutionRequest
-&gt; (StartWorkflowExecutionRequest -&gt; StartWorkflowExecutionRequest)
-&gt; StartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f StartWorkflowExecutionRequest WorkflowType
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f StartWorkflowExecutionRequest WorkflowType
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;workflowType&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.workflowType</span></span><span>
</span><span id="line-517"></span><span>              </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f StartWorkflowExecutionRequest WorkflowType)
-&gt; WorkflowType
-&gt; StartWorkflowExecutionRequest
-&gt; StartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">WorkflowType
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span> </span><span class="annot"><span class="annottext">WorkflowType -&gt; (WorkflowType -&gt; WorkflowType) -&gt; WorkflowType
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f WorkflowType Text
forall {f :: * -&gt; *}. Identical f =&gt; LensLike' f WorkflowType Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;name&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.name</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f WorkflowType Text)
-&gt; Text -&gt; WorkflowType -&gt; WorkflowType
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">WorkflowType -&gt; Text
</span><a href="Temporal.Common.html#rawWorkflowType"><span class="hs-identifier hs-var">rawWorkflowType</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowType
</span><a href="#local-6989586621680187712"><span class="hs-identifier hs-var">wfName</span></a></span><span>
</span><span id="line-518"></span><span>                 </span><span class="hs-special">)</span><span>
</span><span id="line-519"></span><span>            </span><span class="annot"><span class="annottext">StartWorkflowExecutionRequest
-&gt; (StartWorkflowExecutionRequest -&gt; StartWorkflowExecutionRequest)
-&gt; StartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f StartWorkflowExecutionRequest TaskQueue
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f StartWorkflowExecutionRequest TaskQueue
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;taskQueue&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.taskQueue</span></span><span>
</span><span id="line-520"></span><span>              </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f StartWorkflowExecutionRequest TaskQueue)
-&gt; TaskQueue
-&gt; StartWorkflowExecutionRequest
-&gt; StartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">TaskQueue
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span>
</span><span id="line-521"></span><span>                    </span><span class="annot"><span class="annottext">TaskQueue -&gt; (TaskQueue -&gt; TaskQueue) -&gt; TaskQueue
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f TaskQueue Text
forall {f :: * -&gt; *}. Identical f =&gt; LensLike' f TaskQueue Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;name&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.name</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}. Identical f =&gt; LensLike' f TaskQueue Text)
-&gt; Text -&gt; TaskQueue -&gt; TaskQueue
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680187722"><span class="hs-identifier hs-var">tq</span></a></span><span>
</span><span id="line-522"></span><span>                    </span><span class="annot"><span class="annottext">TaskQueue -&gt; (TaskQueue -&gt; TaskQueue) -&gt; TaskQueue
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f TaskQueue TaskQueueKind
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f TaskQueue TaskQueueKind
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;kind&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">TQ.kind</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f TaskQueue TaskQueueKind)
-&gt; TaskQueueKind -&gt; TaskQueue -&gt; TaskQueue
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">TaskQueueKind
</span><span class="hs-identifier hs-var">TASK_QUEUE_KIND_UNSPECIFIED</span></span><span>
</span><span id="line-523"></span><span>                 </span><span class="hs-special">)</span><span>
</span><span id="line-524"></span><span>            </span><span class="annot"><span class="annottext">StartWorkflowExecutionRequest
-&gt; (StartWorkflowExecutionRequest -&gt; StartWorkflowExecutionRequest)
-&gt; StartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f StartWorkflowExecutionRequest Payloads
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f StartWorkflowExecutionRequest Payloads
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;input&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.input</span></span><span>
</span><span id="line-525"></span><span>              </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f StartWorkflowExecutionRequest Payloads)
-&gt; Payloads
-&gt; StartWorkflowExecutionRequest
-&gt; StartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Payloads
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span> </span><span class="annot"><span class="annottext">Payloads -&gt; (Payloads -&gt; Payloads) -&gt; Payloads
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f Payloads (Vector Payload)
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f Payloads (Vector Payload)
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;vec'payloads&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.vec'payloads</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f Payloads (Vector Payload))
-&gt; Vector Payload -&gt; Payloads -&gt; Payloads
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Payload -&gt; Payload
</span><a href="Temporal.Payload.html#convertToProtoPayload"><span class="hs-identifier hs-var">convertToProtoPayload</span></a></span><span> </span><span class="annot"><span class="annottext">(Payload -&gt; Payload) -&gt; Vector Payload -&gt; Vector Payload
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Vector Payload
</span><a href="#local-6989586621680187720"><span class="hs-identifier hs-var">payloads''</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-526"></span><span>                 </span><span class="hs-special">)</span><span>
</span><span id="line-527"></span><span>            </span><span class="annot"><span class="annottext">StartWorkflowExecutionRequest
-&gt; (StartWorkflowExecutionRequest -&gt; StartWorkflowExecutionRequest)
-&gt; StartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f StartWorkflowExecutionRequest (Maybe Duration)
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f StartWorkflowExecutionRequest (Maybe Duration)
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;maybe'workflowExecutionTimeout&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.maybe'workflowExecutionTimeout</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f StartWorkflowExecutionRequest (Maybe Duration))
-&gt; Maybe Duration
-&gt; StartWorkflowExecutionRequest
-&gt; StartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Duration -&gt; Duration
</span><a href="Temporal.Duration.html#durationToProto"><span class="hs-identifier hs-var">durationToProto</span></a></span><span> </span><span class="annot"><span class="annottext">(Duration -&gt; Duration) -&gt; Maybe Duration -&gt; Maybe Duration
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">StartWorkflowOptions
</span><a href="#local-6989586621680187714"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">timeouts</span><span class="hs-operator">.</span><span class="hs-identifier">executionTimeout</span><span class="hs-special">)</span><span>
</span><span id="line-528"></span><span>            </span><span class="annot"><span class="annottext">StartWorkflowExecutionRequest
-&gt; (StartWorkflowExecutionRequest -&gt; StartWorkflowExecutionRequest)
-&gt; StartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f StartWorkflowExecutionRequest (Maybe Duration)
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f StartWorkflowExecutionRequest (Maybe Duration)
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;maybe'workflowRunTimeout&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.maybe'workflowRunTimeout</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f StartWorkflowExecutionRequest (Maybe Duration))
-&gt; Maybe Duration
-&gt; StartWorkflowExecutionRequest
-&gt; StartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Duration -&gt; Duration
</span><a href="Temporal.Duration.html#durationToProto"><span class="hs-identifier hs-var">durationToProto</span></a></span><span> </span><span class="annot"><span class="annottext">(Duration -&gt; Duration) -&gt; Maybe Duration -&gt; Maybe Duration
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">StartWorkflowOptions
</span><a href="#local-6989586621680187714"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">timeouts</span><span class="hs-operator">.</span><span class="hs-identifier">runTimeout</span><span class="hs-special">)</span><span>
</span><span id="line-529"></span><span>            </span><span class="annot"><span class="annottext">StartWorkflowExecutionRequest
-&gt; (StartWorkflowExecutionRequest -&gt; StartWorkflowExecutionRequest)
-&gt; StartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f StartWorkflowExecutionRequest (Maybe Duration)
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f StartWorkflowExecutionRequest (Maybe Duration)
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;maybe'workflowTaskTimeout&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.maybe'workflowTaskTimeout</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f StartWorkflowExecutionRequest (Maybe Duration))
-&gt; Maybe Duration
-&gt; StartWorkflowExecutionRequest
-&gt; StartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Duration -&gt; Duration
</span><a href="Temporal.Duration.html#durationToProto"><span class="hs-identifier hs-var">durationToProto</span></a></span><span> </span><span class="annot"><span class="annottext">(Duration -&gt; Duration) -&gt; Maybe Duration -&gt; Maybe Duration
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">StartWorkflowOptions
</span><a href="#local-6989586621680187714"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">timeouts</span><span class="hs-operator">.</span><span class="hs-identifier">taskTimeout</span><span class="hs-special">)</span><span>
</span><span id="line-530"></span><span>            </span><span class="annot"><span class="annottext">StartWorkflowExecutionRequest
-&gt; (StartWorkflowExecutionRequest -&gt; StartWorkflowExecutionRequest)
-&gt; StartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f StartWorkflowExecutionRequest Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f StartWorkflowExecutionRequest Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;identity&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.identity</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f StartWorkflowExecutionRequest Text)
-&gt; Text
-&gt; StartWorkflowExecutionRequest
-&gt; StartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">ClientConfig -&gt; Text
</span><span class="hs-identifier hs-var">Core.identity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Client -&gt; ClientConfig
</span><span class="hs-identifier hs-var">Core.clientConfig</span></span><span> </span><span class="annot"><span class="annottext">WorkflowClient
</span><a href="#local-6989586621680187708"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">clientCore</span><span class="hs-special">)</span><span>
</span><span id="line-531"></span><span>            </span><span class="annot"><span class="annottext">StartWorkflowExecutionRequest
-&gt; (StartWorkflowExecutionRequest -&gt; StartWorkflowExecutionRequest)
-&gt; StartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f StartWorkflowExecutionRequest Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f StartWorkflowExecutionRequest Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;requestId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.requestId</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f StartWorkflowExecutionRequest Text)
-&gt; Text
-&gt; StartWorkflowExecutionRequest
-&gt; StartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">UUID -&gt; Text
</span><span class="hs-identifier hs-var">UUID.toText</span></span><span> </span><span class="annot"><span class="annottext">UUID
</span><a href="#local-6989586621680187716"><span class="hs-identifier hs-var">reqId</span></a></span><span>
</span><span id="line-532"></span><span>            </span><span class="annot"><span class="annottext">StartWorkflowExecutionRequest
-&gt; (StartWorkflowExecutionRequest -&gt; StartWorkflowExecutionRequest)
-&gt; StartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f StartWorkflowExecutionRequest WorkflowIdReusePolicy
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f StartWorkflowExecutionRequest WorkflowIdReusePolicy
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;workflowIdReusePolicy&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.workflowIdReusePolicy</span></span><span>
</span><span id="line-533"></span><span>              </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f StartWorkflowExecutionRequest WorkflowIdReusePolicy)
-&gt; WorkflowIdReusePolicy
-&gt; StartWorkflowExecutionRequest
-&gt; StartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">WorkflowIdReusePolicy -&gt; WorkflowIdReusePolicy
</span><a href="Temporal.Common.html#workflowIdReusePolicyToProto"><span class="hs-identifier hs-var">workflowIdReusePolicyToProto</span></a></span><span>
</span><span id="line-534"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WorkflowIdReusePolicy
-&gt; Maybe WorkflowIdReusePolicy -&gt; WorkflowIdReusePolicy
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">WorkflowIdReusePolicy
</span><a href="Temporal.Common.html#WorkflowIdReusePolicyAllowDuplicateFailedOnly"><span class="hs-identifier hs-var">WorkflowIdReusePolicyAllowDuplicateFailedOnly</span></a></span><span> </span><span class="annot"><span class="annottext">StartWorkflowOptions
</span><a href="#local-6989586621680187714"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">workflowIdReusePolicy</span><span class="hs-special">)</span><span>
</span><span id="line-535"></span><span>            </span><span class="annot"><span class="annottext">StartWorkflowExecutionRequest
-&gt; (StartWorkflowExecutionRequest -&gt; StartWorkflowExecutionRequest)
-&gt; StartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f StartWorkflowExecutionRequest (Maybe RetryPolicy)
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f StartWorkflowExecutionRequest (Maybe RetryPolicy)
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;maybe'retryPolicy&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.maybe'retryPolicy</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f StartWorkflowExecutionRequest (Maybe RetryPolicy))
-&gt; Maybe RetryPolicy
-&gt; StartWorkflowExecutionRequest
-&gt; StartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RetryPolicy -&gt; RetryPolicy
</span><a href="Temporal.Common.html#retryPolicyToProto"><span class="hs-identifier hs-var">retryPolicyToProto</span></a></span><span> </span><span class="annot"><span class="annottext">(RetryPolicy -&gt; RetryPolicy)
-&gt; Maybe RetryPolicy -&gt; Maybe RetryPolicy
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">StartWorkflowOptions
</span><a href="#local-6989586621680187714"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">retryPolicy</span><span class="hs-special">)</span><span>
</span><span id="line-536"></span><span>            </span><span class="annot"><span class="annottext">StartWorkflowExecutionRequest
-&gt; (StartWorkflowExecutionRequest -&gt; StartWorkflowExecutionRequest)
-&gt; StartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f StartWorkflowExecutionRequest Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f StartWorkflowExecutionRequest Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;cronSchedule&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.cronSchedule</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f StartWorkflowExecutionRequest Text)
-&gt; Text
-&gt; StartWorkflowExecutionRequest
-&gt; StartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Maybe Text -&gt; Text
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">StartWorkflowOptions
</span><a href="#local-6989586621680187714"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">cronSchedule</span><span>
</span><span id="line-537"></span><span>            </span><span class="annot"><span class="annottext">StartWorkflowExecutionRequest
-&gt; (StartWorkflowExecutionRequest -&gt; StartWorkflowExecutionRequest)
-&gt; StartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f StartWorkflowExecutionRequest Memo
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f StartWorkflowExecutionRequest Memo
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;memo&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.memo</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f StartWorkflowExecutionRequest Memo)
-&gt; Memo
-&gt; StartWorkflowExecutionRequest
-&gt; StartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Map Text Payload -&gt; Memo
</span><a href="Temporal.Common.html#convertToProtoMemo"><span class="hs-identifier hs-var">convertToProtoMemo</span></a></span><span> </span><span class="annot"><span class="annottext">StartWorkflowOptions
</span><a href="#local-6989586621680187714"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">memo</span><span>
</span><span id="line-538"></span><span>            </span><span class="annot"><span class="annottext">StartWorkflowExecutionRequest
-&gt; (StartWorkflowExecutionRequest -&gt; StartWorkflowExecutionRequest)
-&gt; StartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f StartWorkflowExecutionRequest SearchAttributes
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f StartWorkflowExecutionRequest SearchAttributes
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;searchAttributes&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.searchAttributes</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f StartWorkflowExecutionRequest SearchAttributes)
-&gt; SearchAttributes
-&gt; StartWorkflowExecutionRequest
-&gt; StartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SearchAttributes
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span> </span><span class="annot"><span class="annottext">SearchAttributes
-&gt; (SearchAttributes -&gt; SearchAttributes) -&gt; SearchAttributes
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f SearchAttributes (Map Text Payload)
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f SearchAttributes (Map Text Payload)
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;indexedFields&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.indexedFields</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f SearchAttributes (Map Text Payload))
-&gt; Map Text Payload -&gt; SearchAttributes -&gt; SearchAttributes
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Map Text Payload
</span><a href="#local-6989586621680187718"><span class="hs-identifier hs-var">searchAttrs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-539"></span><span>            </span><span class="hs-comment">--     TODO Not sure how to use these yet</span><span>
</span><span id="line-540"></span><span>            </span><span class="annot"><span class="annottext">StartWorkflowExecutionRequest
-&gt; (StartWorkflowExecutionRequest -&gt; StartWorkflowExecutionRequest)
-&gt; StartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f StartWorkflowExecutionRequest Header
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f StartWorkflowExecutionRequest Header
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;header&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.header</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f StartWorkflowExecutionRequest Header)
-&gt; Header
-&gt; StartWorkflowExecutionRequest
-&gt; StartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Map Text Payload -&gt; Header
</span><a href="Temporal.Common.html#headerToProto"><span class="hs-identifier hs-var">headerToProto</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Payload -&gt; Payload) -&gt; Map Text Payload -&gt; Map Text Payload
forall a b. (a -&gt; b) -&gt; Map Text a -&gt; Map Text b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Payload -&gt; Payload
</span><a href="Temporal.Payload.html#convertToProtoPayload"><span class="hs-identifier hs-var">convertToProtoPayload</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text Payload
</span><a href="#local-6989586621680187721"><span class="hs-identifier hs-var">hdrs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-541"></span><span>            </span><span class="annot"><span class="annottext">StartWorkflowExecutionRequest
-&gt; (StartWorkflowExecutionRequest -&gt; StartWorkflowExecutionRequest)
-&gt; StartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f StartWorkflowExecutionRequest Bool
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f StartWorkflowExecutionRequest Bool
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;requestEagerExecution&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.requestEagerExecution</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f StartWorkflowExecutionRequest Bool)
-&gt; Bool
-&gt; StartWorkflowExecutionRequest
-&gt; StartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">StartWorkflowOptions
</span><a href="#local-6989586621680187714"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">requestEagerExecution</span><span>
</span><span id="line-542"></span><span>            </span><span class="hs-comment">{-
              These values will be available as ContinuedFailure and LastCompletionResult in the
              WorkflowExecutionStarted event and through SDKs. The are currently only used by the
              server itself (for the schedules feature) and are not intended to be exposed in
              StartWorkflowExecution.

              WF.continuedFailure
              WF.lastCompletionResult
            -}</span><span>
</span><span id="line-551"></span><span>            </span><span class="annot"><span class="annottext">StartWorkflowExecutionRequest
-&gt; (StartWorkflowExecutionRequest -&gt; StartWorkflowExecutionRequest)
-&gt; StartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f StartWorkflowExecutionRequest (Maybe Duration)
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f StartWorkflowExecutionRequest (Maybe Duration)
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;maybe'workflowStartDelay&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.maybe'workflowStartDelay</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f StartWorkflowExecutionRequest (Maybe Duration))
-&gt; Maybe Duration
-&gt; StartWorkflowExecutionRequest
-&gt; StartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Duration -&gt; Duration
</span><a href="Temporal.Duration.html#durationToProto"><span class="hs-identifier hs-var">durationToProto</span></a></span><span> </span><span class="annot"><span class="annottext">(Duration -&gt; Duration) -&gt; Maybe Duration -&gt; Maybe Duration
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">StartWorkflowOptions -&gt; Maybe Duration
</span><a href="Temporal.Client.Types.html#workflowStartDelay"><span class="hs-identifier hs-var">workflowStartDelay</span></a></span><span> </span><span class="annot"><span class="annottext">StartWorkflowOptions
</span><a href="#local-6989586621680187714"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-552"></span><span>    </span><span id="local-6989586621680187886"><span class="annot"><a href="#local-6989586621680187886"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">startWorkflowExecution</span></span><span> </span><span class="annot"><span class="hs-identifier">c</span></span><span class="hs-operator">.</span><span class="hs-identifier">clientCore</span><span> </span><span class="annot"><a href="#local-6989586621680187724"><span class="hs-identifier hs-type">req</span></a></span><span>
</span><span id="line-553"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621680187886"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-554"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621680187888"><span class="annot"><span class="annottext">RpcError
</span><a href="#local-6989586621680187888"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RpcError -&gt; IO (WorkflowHandle Payload)
forall (m :: * -&gt; *) e a. (MonadIO m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">RpcError
</span><a href="#local-6989586621680187888"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-555"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621680187889"><span class="annot"><span class="annottext">StartWorkflowExecutionResponse
</span><a href="#local-6989586621680187889"><span class="hs-identifier hs-var">swer</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-556"></span><span>        </span><span class="annot"><span class="annottext">WorkflowHandle Payload -&gt; IO (WorkflowHandle Payload)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(WorkflowHandle Payload -&gt; IO (WorkflowHandle Payload))
-&gt; WorkflowHandle Payload -&gt; IO (WorkflowHandle Payload)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-557"></span><span>          </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span>
</span><span id="line-558"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">workflowHandleReadResult :: Payload -&gt; UnencodedPayload
</span><a href="Temporal.Client.Types.html#workflowHandleReadResult"><span class="hs-identifier hs-var">workflowHandleReadResult</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Payload -&gt; UnencodedPayload
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-559"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">workflowHandleType :: WorkflowType
</span><a href="Temporal.Client.Types.html#workflowHandleType"><span class="hs-identifier hs-var">workflowHandleType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; WorkflowType
</span><a href="Temporal.Common.html#WorkflowType"><span class="hs-identifier hs-var">WorkflowType</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; WorkflowType) -&gt; Text -&gt; WorkflowType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">KnownWorkflow args result -&gt; Text
forall (args :: [*]) result. KnownWorkflow args result -&gt; Text
</span><a href="Temporal.Workflow.Definition.html#knownWorkflowName"><span class="hs-identifier hs-var">knownWorkflowName</span></a></span><span> </span><span class="annot"><span class="annottext">KnownWorkflow args result
</span><a href="#local-6989586621680187621"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-560"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">workflowHandleClient :: WorkflowClient
</span><a href="Temporal.Client.Types.html#workflowHandleClient"><span class="hs-identifier hs-var">workflowHandleClient</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WorkflowClient
</span><a href="#local-6989586621680187708"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-561"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">workflowHandleWorkflowId :: WorkflowId
</span><a href="Temporal.Client.Types.html#workflowHandleWorkflowId"><span class="hs-identifier hs-var">workflowHandleWorkflowId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WorkflowId
</span><a href="#local-6989586621680187713"><span class="hs-identifier hs-var">wfId'</span></a></span><span>
</span><span id="line-562"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">workflowHandleRunId :: Maybe RunId
</span><a href="Temporal.Client.Types.html#workflowHandleRunId"><span class="hs-identifier hs-var">workflowHandleRunId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RunId -&gt; Maybe RunId
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; RunId
</span><a href="Temporal.Common.html#RunId"><span class="hs-identifier hs-var">RunId</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; RunId) -&gt; Text -&gt; RunId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">StartWorkflowExecutionResponse
</span><a href="#local-6989586621680187889"><span class="hs-identifier hs-var">swer</span></a></span><span> </span><span class="annot"><span class="annottext">StartWorkflowExecutionResponse
-&gt; FoldLike
     Text
     StartWorkflowExecutionResponse
     StartWorkflowExecutionResponse
     Text
     Text
-&gt; Text
forall s a t b. s -&gt; FoldLike a s t a b -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">FoldLike
  Text
  StartWorkflowExecutionResponse
  StartWorkflowExecutionResponse
  Text
  Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;runId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.runId</span></span><span class="hs-special">)</span><span>
</span><span id="line-563"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-564"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-565"></span><span>    </span><span class="annot"><a href="#local-6989586621680187710"><span class="hs-identifier hs-type">wfH</span></a></span><span>
</span><span id="line-566"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#workflowHandleReadResult"><span class="hs-identifier hs-var">workflowHandleReadResult</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680187892"><span class="annot"><span class="annottext">Payload
</span><a href="#local-6989586621680187892"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-567"></span><span>          </span><span class="annot"><span class="annottext">WorkflowHandle Payload -&gt; Payload -&gt; UnencodedPayload
forall a. WorkflowHandle a -&gt; Payload -&gt; IO a
</span><a href="Temporal.Client.Types.html#workflowHandleReadResult"><span class="hs-identifier hs-var">workflowHandleReadResult</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowHandle Payload
</span><a href="#local-6989586621680187710"><span class="hs-identifier hs-var">wfH</span></a></span><span> </span><span class="annot"><span class="annottext">Payload
</span><a href="#local-6989586621680187892"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">UnencodedPayload -&gt; (Payload -&gt; IO result) -&gt; IO result
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680187893"><span class="annot"><span class="annottext">Payload
</span><a href="#local-6989586621680187893"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-568"></span><span>            </span><span id="local-6989586621680187894"><span class="annot"><a href="#local-6989586621680187894"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">codec -&gt; Payload -&gt; IO (Either [Char] result)
forall fmt a. Codec fmt a =&gt; fmt -&gt; Payload -&gt; IO (Either [Char] a)
</span><a href="Temporal.Payload.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">codec
</span><a href="#local-6989586621680187704"><span class="hs-identifier hs-var">codec</span></a></span><span> </span><span class="annot"><span class="annottext">(Payload -&gt; IO (Either [Char] result))
-&gt; UnencodedPayload -&gt; IO (Either [Char] result)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; UnencodedPayload)
-&gt; (Payload -&gt; UnencodedPayload)
-&gt; Either [Char] Payload
-&gt; UnencodedPayload
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ValueError -&gt; UnencodedPayload
forall (m :: * -&gt; *) e a. (MonadIO m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">(ValueError -&gt; UnencodedPayload)
-&gt; ([Char] -&gt; ValueError) -&gt; [Char] -&gt; UnencodedPayload
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ValueError
</span><a href="Temporal.Payload.html#ValueError"><span class="hs-identifier hs-var">ValueError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Payload -&gt; UnencodedPayload
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Either [Char] Payload -&gt; UnencodedPayload)
-&gt; IO (Either [Char] Payload) -&gt; UnencodedPayload
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">PayloadProcessor -&gt; Payload -&gt; IO (Either [Char] Payload)
</span><a href="Temporal.Payload.html#payloadProcessorDecode"><span class="hs-identifier hs-var">payloadProcessorDecode</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowClient
</span><a href="#local-6989586621680187708"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">clientConfig</span><span class="hs-operator">.</span><span class="hs-identifier">payloadProcessor</span><span> </span><span class="annot"><span class="annottext">Payload
</span><a href="#local-6989586621680187893"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-569"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">throwIO</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="Temporal.Payload.html#ValueError"><span class="hs-identifier hs-type">ValueError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="#local-6989586621680187894"><span class="hs-identifier hs-type">result</span></a></span><span>
</span><span id="line-570"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-571"></span><span>
</span><span id="line-572"></span><span>
</span><span id="line-573"></span><span class="annot"><span class="hs-comment">{- | Begin a new Workflow Execution.

This function does not wait for the Workflow to complete. Instead, it returns a 'WorkflowHandle'
that can be used to wait for the Workflow to complete or perform other operations.

This can be used to &quot;fire-and-forget&quot; a Workflow by discarding the handle.
-}</span></span><span>
</span><span id="line-580"></span><span class="annot"><a href="Temporal.Client.html#start"><span class="hs-identifier hs-type">start</span></a></span><span>
</span><span id="line-581"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680186659"><span class="annot"><a href="#local-6989586621680186659"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621680186660"><span class="annot"><a href="#local-6989586621680186660"><span class="hs-identifier hs-type">wf</span></a></span></span><span>
</span><span id="line-582"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621680186659"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186659"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowRef"><span class="hs-identifier hs-type">WorkflowRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186660"><span class="hs-identifier hs-type">wf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-583"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680186660"><span class="hs-identifier hs-type">wf</span></a></span><span>
</span><span id="line-584"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Common.html#WorkflowId"><span class="hs-identifier hs-type">WorkflowId</span></a></span><span>
</span><span id="line-585"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#StartWorkflowOptions"><span class="hs-identifier hs-type">StartWorkflowOptions</span></a></span><span>
</span><span id="line-586"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowArgs"><span class="hs-identifier hs-type">WorkflowArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186660"><span class="hs-identifier hs-type">wf</span></a></span><span> </span><span class="annot"><a href="Temporal.Payload.html#%3A-%3E%3A"><span class="hs-operator hs-type">:-&gt;:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186659"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowResult"><span class="hs-identifier hs-type">WorkflowResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186660"><span class="hs-identifier hs-type">wf</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-587"></span><span id="start"><span class="annot"><span class="annottext">start :: forall (m :: * -&gt; *) wf.
(MonadIO m, HasWorkflowClient m, WorkflowRef wf) =&gt;
wf
-&gt; WorkflowId
-&gt; StartWorkflowOptions
-&gt; WorkflowArgs wf :-&gt;: m (WorkflowHandle (WorkflowResult wf))
</span><a href="Temporal.Client.html#start"><span class="hs-identifier hs-var hs-var">start</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">wf -&gt; KnownWorkflow (WorkflowArgs wf) (WorkflowResult wf)
forall f.
WorkflowRef f =&gt;
f -&gt; KnownWorkflow (WorkflowArgs f) (WorkflowResult f)
</span><a href="Temporal.Workflow.Definition.html#workflowRef"><span class="hs-identifier hs-var">workflowRef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621680187899"><span class="annot"><span class="annottext">k :: KnownWorkflow (WorkflowArgs wf) (WorkflowResult wf)
</span><a href="#local-6989586621680187899"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#KnownWorkflow"><span class="hs-identifier hs-type">KnownWorkflow</span></a></span><span> </span><span id="local-6989586621680187908"><span class="annot"><span class="annottext">codec
</span><a href="#local-6989586621680187908"><span class="hs-identifier hs-var">codec</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680187909"><span class="annot"><span class="annottext">WorkflowId
</span><a href="#local-6989586621680187909"><span class="hs-identifier hs-var">wfId</span></a></span></span><span> </span><span id="local-6989586621680187910"><span class="annot"><span class="annottext">StartWorkflowOptions
</span><a href="#local-6989586621680187910"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (args :: [*]) result codec.
(VarArgs args, AllArgs (Codec codec) args) =&gt;
codec -&gt; (Vector UnencodedPayload -&gt; result) -&gt; args :-&gt;: result
</span><a href="Temporal.Payload.html#withArgs"><span class="hs-identifier hs-var">withArgs</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowArgs"><span class="hs-identifier hs-type">WorkflowArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186660"><span class="hs-identifier hs-type">wf</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680186659"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowResult"><span class="hs-identifier hs-type">WorkflowResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186660"><span class="hs-identifier hs-type">wf</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">codec
</span><a href="#local-6989586621680187908"><span class="hs-identifier hs-var">codec</span></a></span><span> </span><span class="annot"><span class="annottext">((Vector UnencodedPayload
  -&gt; m (WorkflowHandle (WorkflowResult wf)))
 -&gt; WorkflowArgs wf :-&gt;: m (WorkflowHandle (WorkflowResult wf)))
-&gt; (Vector UnencodedPayload
    -&gt; m (WorkflowHandle (WorkflowResult wf)))
-&gt; WorkflowArgs wf :-&gt;: m (WorkflowHandle (WorkflowResult wf))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680187911"><span class="annot"><span class="annottext">Vector UnencodedPayload
</span><a href="#local-6989586621680187911"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-588"></span><span>  </span><span class="annot"><span class="annottext">KnownWorkflow (WorkflowArgs wf) (WorkflowResult wf)
-&gt; WorkflowId
-&gt; StartWorkflowOptions
-&gt; Vector UnencodedPayload
-&gt; m (WorkflowHandle (WorkflowResult wf))
forall (m :: * -&gt; *) (args :: [*]) result.
(MonadIO m, HasWorkflowClient m) =&gt;
KnownWorkflow args result
-&gt; WorkflowId
-&gt; StartWorkflowOptions
-&gt; Vector UnencodedPayload
-&gt; m (WorkflowHandle result)
</span><a href="Temporal.Client.html#startFromPayloads"><span class="hs-identifier hs-var">startFromPayloads</span></a></span><span> </span><span class="annot"><span class="annottext">KnownWorkflow (WorkflowArgs wf) (WorkflowResult wf)
</span><a href="#local-6989586621680187899"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowId
</span><a href="#local-6989586621680187909"><span class="hs-identifier hs-var">wfId</span></a></span><span> </span><span class="annot"><span class="annottext">StartWorkflowOptions
</span><a href="#local-6989586621680187910"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">Vector UnencodedPayload
</span><a href="#local-6989586621680187911"><span class="hs-identifier hs-var">inputs</span></a></span><span>
</span><span id="line-589"></span><span>
</span><span id="line-590"></span><span>
</span><span id="line-591"></span><span class="annot"><span class="hs-comment">{- | If there is a running Workflow Execution with the given Workflow Id, it will be Signaled.

Otherwise, a new Workflow Execution is started and immediately send the Signal.
-}</span></span><span>
</span><span id="line-595"></span><span class="annot"><a href="Temporal.Client.html#signalWithStart"><span class="hs-identifier hs-type">signalWithStart</span></a></span><span>
</span><span id="line-596"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680186665"><span class="annot"><a href="#local-6989586621680186665"><span class="hs-identifier hs-type">wf</span></a></span></span><span> </span><span id="local-6989586621680186666"><span class="annot"><a href="#local-6989586621680186666"><span class="hs-identifier hs-type">sig</span></a></span></span><span> </span><span id="local-6989586621680186664"><span class="annot"><a href="#local-6989586621680186664"><span class="hs-identifier hs-type">m</span></a></span></span><span>
</span><span id="line-597"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621680186664"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186664"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowRef"><span class="hs-identifier hs-type">WorkflowRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186665"><span class="hs-identifier hs-type">wf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Workflow.Signal.html#SignalRef"><span class="hs-identifier hs-type">SignalRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186666"><span class="hs-identifier hs-type">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-598"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680186665"><span class="hs-identifier hs-type">wf</span></a></span><span>
</span><span id="line-599"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Common.html#WorkflowId"><span class="hs-identifier hs-type">WorkflowId</span></a></span><span>
</span><span id="line-600"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#StartWorkflowOptions"><span class="hs-identifier hs-type">StartWorkflowOptions</span></a></span><span>
</span><span id="line-601"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680186666"><span class="hs-identifier hs-type">sig</span></a></span><span>
</span><span id="line-602"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowArgs"><span class="hs-identifier hs-type">WorkflowArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186665"><span class="hs-identifier hs-type">wf</span></a></span><span> </span><span class="annot"><a href="Temporal.Payload.html#%3A-%3E%3A"><span class="hs-operator hs-type">:-&gt;:</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Signal.html#SignalArgs"><span class="hs-identifier hs-type">SignalArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186666"><span class="hs-identifier hs-type">sig</span></a></span><span> </span><span class="annot"><a href="Temporal.Payload.html#%3A-%3E%3A"><span class="hs-operator hs-type">:-&gt;:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186664"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowResult"><span class="hs-identifier hs-type">WorkflowResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186665"><span class="hs-identifier hs-type">wf</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-603"></span><span id="signalWithStart"><span class="annot"><span class="annottext">signalWithStart :: forall wf sig (m :: * -&gt; *).
(MonadIO m, HasWorkflowClient m, WorkflowRef wf, SignalRef sig) =&gt;
wf
-&gt; WorkflowId
-&gt; StartWorkflowOptions
-&gt; sig
-&gt; WorkflowArgs wf
   :-&gt;: (SignalArgs sig :-&gt;: m (WorkflowHandle (WorkflowResult wf)))
</span><a href="Temporal.Client.html#signalWithStart"><span class="hs-identifier hs-var hs-var">signalWithStart</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">wf -&gt; KnownWorkflow (WorkflowArgs wf) (WorkflowResult wf)
forall f.
WorkflowRef f =&gt;
f -&gt; KnownWorkflow (WorkflowArgs f) (WorkflowResult f)
</span><a href="Temporal.Workflow.Definition.html#workflowRef"><span class="hs-identifier hs-var">workflowRef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621680187919"><span class="annot"><span class="annottext">k :: KnownWorkflow (WorkflowArgs wf) (WorkflowResult wf)
</span><a href="#local-6989586621680187919"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#KnownWorkflow"><span class="hs-identifier hs-type">KnownWorkflow</span></a></span><span> </span><span id="local-6989586621680187926"><span class="annot"><span class="annottext">codec
</span><a href="#local-6989586621680187926"><span class="hs-identifier hs-var">codec</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680187927"><span class="annot"><span class="annottext">WorkflowId
</span><a href="#local-6989586621680187927"><span class="hs-identifier hs-var">wfId</span></a></span></span><span> </span><span id="local-6989586621680187928"><span class="annot"><span class="annottext">StartWorkflowOptions
</span><a href="#local-6989586621680187928"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">sig -&gt; KnownSignal (SignalArgs sig)
forall sig. SignalRef sig =&gt; sig -&gt; KnownSignal (SignalArgs sig)
</span><a href="Temporal.Workflow.Signal.html#signalRef"><span class="hs-identifier hs-var">signalRef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Workflow.Signal.html#KnownSignal"><span class="hs-identifier hs-type">KnownSignal</span></a></span><span> </span><span id="local-6989586621680188040"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680188040"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621680188041"><span class="annot"><span class="annottext">codec
</span><a href="#local-6989586621680188041"><span class="hs-identifier hs-var">sigCodec</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WorkflowArgs wf
:-&gt;: (SignalArgs sig :-&gt;: m (WorkflowHandle (WorkflowResult wf)))
</span><a href="#local-6989586621680188042"><span class="hs-identifier hs-var">unnestedArgs</span></a></span><span>
</span><span id="line-604"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-605"></span><span>    </span><span class="annot"><a href="#local-6989586621680188043"><span class="hs-identifier hs-type">signalArgsMaker</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680186664"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Signal.html#SignalArgs"><span class="hs-identifier hs-type">SignalArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186666"><span class="hs-identifier hs-type">sig</span></a></span><span> </span><span class="annot"><a href="Temporal.Payload.html#%3A-%3E%3A"><span class="hs-operator hs-type">:-&gt;:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186664"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowResult"><span class="hs-identifier hs-type">WorkflowResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186665"><span class="hs-identifier hs-type">wf</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Workflow.Signal.html#SignalArgs"><span class="hs-identifier hs-type">SignalArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186666"><span class="hs-identifier hs-type">sig</span></a></span><span> </span><span class="annot"><a href="Temporal.Payload.html#%3A-%3E%3A"><span class="hs-operator hs-type">:-&gt;:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186664"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowResult"><span class="hs-identifier hs-type">WorkflowResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186665"><span class="hs-identifier hs-type">wf</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-606"></span><span>    </span><span id="local-6989586621680188043"><span class="annot"><span class="annottext">signalArgsMaker :: m (SignalArgs sig :-&gt;: m (WorkflowHandle (WorkflowResult wf)))
-&gt; SignalArgs sig :-&gt;: m (WorkflowHandle (WorkflowResult wf))
</span><a href="#local-6989586621680188043"><span class="hs-identifier hs-var hs-var">signalArgsMaker</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (args :: [*]) (m :: * -&gt; *) result.
(VarArgs args, Monad m) =&gt;
Proxy (m result) -&gt; m (args :-&gt;: m result) -&gt; args :-&gt;: m result
</span><a href="Temporal.Payload.html#sequenceArgs"><span class="hs-identifier hs-var">sequenceArgs</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Signal.html#SignalArgs"><span class="hs-identifier hs-type">SignalArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186666"><span class="hs-identifier hs-type">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680186664"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall t. Proxy t
forall {k} (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680186664"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowResult"><span class="hs-identifier hs-type">WorkflowResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186665"><span class="hs-identifier hs-type">wf</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-607"></span><span>
</span><span id="line-608"></span><span>    </span><span class="annot"><a href="#local-6989586621680188042"><span class="hs-identifier hs-type">unnestedArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowArgs"><span class="hs-identifier hs-type">WorkflowArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186665"><span class="hs-identifier hs-type">wf</span></a></span><span> </span><span class="annot"><a href="Temporal.Payload.html#%3A-%3E%3A"><span class="hs-operator hs-type">:-&gt;:</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Signal.html#SignalArgs"><span class="hs-identifier hs-type">SignalArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186666"><span class="hs-identifier hs-type">sig</span></a></span><span> </span><span class="annot"><a href="Temporal.Payload.html#%3A-%3E%3A"><span class="hs-operator hs-type">:-&gt;:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186664"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowResult"><span class="hs-identifier hs-type">WorkflowResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186665"><span class="hs-identifier hs-type">wf</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-609"></span><span>    </span><span id="local-6989586621680188042"><span class="annot"><span class="annottext">unnestedArgs :: WorkflowArgs wf
:-&gt;: (SignalArgs sig :-&gt;: m (WorkflowHandle (WorkflowResult wf)))
</span><a href="#local-6989586621680188042"><span class="hs-identifier hs-var hs-var">unnestedArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-610"></span><span>      </span><span class="annot"><span class="annottext">forall (args :: [*]) result result'.
VarArgs args =&gt;
(result -&gt; result') -&gt; (args :-&gt;: result) -&gt; args :-&gt;: result'
</span><a href="Temporal.Payload.html#mapResult"><span class="hs-identifier hs-var">mapResult</span></a></span><span>
</span><span id="line-611"></span><span>        </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowArgs"><span class="hs-identifier hs-type">WorkflowArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186665"><span class="hs-identifier hs-type">wf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-612"></span><span>        </span><span class="annot"><span class="annottext">m (SignalArgs sig :-&gt;: m (WorkflowHandle (WorkflowResult wf)))
-&gt; SignalArgs sig :-&gt;: m (WorkflowHandle (WorkflowResult wf))
</span><a href="#local-6989586621680188043"><span class="hs-identifier hs-var">signalArgsMaker</span></a></span><span>
</span><span id="line-613"></span><span>        </span><span class="annot"><span class="annottext">WorkflowArgs wf
:-&gt;: m (SignalArgs sig :-&gt;: m (WorkflowHandle (WorkflowResult wf)))
</span><a href="#local-6989586621680188047"><span class="hs-identifier hs-var">nestedArgs</span></a></span><span>
</span><span id="line-614"></span><span>
</span><span id="line-615"></span><span>    </span><span id="local-6989586621680188047"><span class="annot"><span class="annottext">nestedArgs :: WorkflowArgs wf
:-&gt;: m (SignalArgs sig :-&gt;: m (WorkflowHandle (WorkflowResult wf)))
</span><a href="#local-6989586621680188047"><span class="hs-identifier hs-var hs-var">nestedArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (args :: [*]) result codec.
(VarArgs args, AllArgs (Codec codec) args) =&gt;
codec -&gt; (Vector UnencodedPayload -&gt; result) -&gt; args :-&gt;: result
</span><a href="Temporal.Payload.html#withArgs"><span class="hs-identifier hs-var">withArgs</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowArgs"><span class="hs-identifier hs-type">WorkflowArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186665"><span class="hs-identifier hs-type">wf</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680186664"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Signal.html#SignalArgs"><span class="hs-identifier hs-type">SignalArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186666"><span class="hs-identifier hs-type">sig</span></a></span><span> </span><span class="annot"><a href="Temporal.Payload.html#%3A-%3E%3A"><span class="hs-operator hs-type">:-&gt;:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186664"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowResult"><span class="hs-identifier hs-type">WorkflowResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186665"><span class="hs-identifier hs-type">wf</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">codec
</span><a href="#local-6989586621680187926"><span class="hs-identifier hs-var">codec</span></a></span><span> </span><span class="annot"><span class="annottext">((Vector UnencodedPayload
  -&gt; m (SignalArgs sig :-&gt;: m (WorkflowHandle (WorkflowResult wf))))
 -&gt; WorkflowArgs wf
    :-&gt;: m (SignalArgs sig
            :-&gt;: m (WorkflowHandle (WorkflowResult wf))))
-&gt; (Vector UnencodedPayload
    -&gt; m (SignalArgs sig :-&gt;: m (WorkflowHandle (WorkflowResult wf))))
-&gt; WorkflowArgs wf
   :-&gt;: m (SignalArgs sig :-&gt;: m (WorkflowHandle (WorkflowResult wf)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680188048"><span class="annot"><span class="annottext">Vector UnencodedPayload
</span><a href="#local-6989586621680188048"><span class="hs-identifier hs-var">wfArgs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-616"></span><span>      </span><span id="local-6989586621680188049"><span class="annot"><a href="#local-6989586621680188049"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-617"></span><span>      </span><span id="local-6989586621680188050"><span class="annot"><a href="#local-6989586621680188050"><span class="hs-identifier hs-var">wfArgs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Temporal.Payload.html#processorEncodePayloads"><span class="hs-identifier hs-type">processorEncodePayloads</span></a></span><span> </span><span class="annot"><span class="hs-identifier">c</span></span><span class="hs-operator">.</span><span class="hs-identifier">clientConfig</span><span class="hs-operator">.</span><span class="hs-identifier">payloadProcessor</span><span> </span><span class="annot"><span class="hs-operator hs-type">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">sequence</span></span><span> </span><span class="annot"><a href="#local-6989586621680188048"><span class="hs-identifier hs-type">wfArgs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-618"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621680188051"><span class="hs-identifier hs-type">signalArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680188050"><span class="hs-identifier hs-type">wfArgs'</span></a></span><span>
</span><span id="line-619"></span><span>
</span><span id="line-620"></span><span>    </span><span class="annot"><a href="#local-6989586621680188051"><span class="hs-identifier hs-type">signalArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V.Vector</span></span><span> </span><span class="annot"><a href="Temporal.Payload.html#Payload"><span class="hs-identifier hs-type">Payload</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Workflow.Signal.html#SignalArgs"><span class="hs-identifier hs-type">SignalArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186666"><span class="hs-identifier hs-type">sig</span></a></span><span> </span><span class="annot"><a href="Temporal.Payload.html#%3A-%3E%3A"><span class="hs-operator hs-type">:-&gt;:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186664"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowResult"><span class="hs-identifier hs-type">WorkflowResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186665"><span class="hs-identifier hs-type">wf</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-621"></span><span>    </span><span id="local-6989586621680188051"><span class="annot"><span class="annottext">signalArgs :: Vector Payload
-&gt; SignalArgs sig :-&gt;: m (WorkflowHandle (WorkflowResult wf))
</span><a href="#local-6989586621680188051"><span class="hs-identifier hs-var hs-var">signalArgs</span></a></span></span><span> </span><span id="local-6989586621680188052"><span class="annot"><span class="annottext">Vector Payload
</span><a href="#local-6989586621680188052"><span class="hs-identifier hs-var">wfArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (args :: [*]) result codec.
(VarArgs args, AllArgs (Codec codec) args) =&gt;
codec -&gt; (Vector UnencodedPayload -&gt; result) -&gt; args :-&gt;: result
</span><a href="Temporal.Payload.html#withArgs"><span class="hs-identifier hs-var">withArgs</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Signal.html#SignalArgs"><span class="hs-identifier hs-type">SignalArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186666"><span class="hs-identifier hs-type">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680186664"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowResult"><span class="hs-identifier hs-type">WorkflowResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186665"><span class="hs-identifier hs-type">wf</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">codec
</span><a href="#local-6989586621680188041"><span class="hs-identifier hs-var">sigCodec</span></a></span><span> </span><span class="annot"><span class="annottext">((Vector UnencodedPayload
  -&gt; m (WorkflowHandle (WorkflowResult wf)))
 -&gt; SignalArgs sig :-&gt;: m (WorkflowHandle (WorkflowResult wf)))
-&gt; (Vector UnencodedPayload
    -&gt; m (WorkflowHandle (WorkflowResult wf)))
-&gt; SignalArgs sig :-&gt;: m (WorkflowHandle (WorkflowResult wf))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680188053"><span class="annot"><span class="annottext">Vector UnencodedPayload
</span><a href="#local-6989586621680188053"><span class="hs-identifier hs-var">sa</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-622"></span><span>      </span><span id="local-6989586621680188054"><span class="annot"><a href="#local-6989586621680188054"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span>
</span><span id="line-623"></span><span>      </span><span id="local-6989586621680188055"><span class="annot"><a href="#local-6989586621680188055"><span class="hs-identifier hs-var">sigArgs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">liftIO</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">sequence</span></span><span> </span><span class="annot"><a href="#local-6989586621680188053"><span class="hs-identifier hs-type">sa</span></a></span><span>
</span><span id="line-624"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680188056"><span class="annot"><a href="#local-6989586621680188056"><span class="hs-identifier hs-var hs-var">processor</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WorkflowClient
</span><a href="#local-6989586621680188054"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">clientConfig</span><span class="hs-operator">.</span><span class="hs-identifier">payloadProcessor</span><span>
</span><span id="line-625"></span><span>          </span><span id="local-6989586621680188057"><span class="annot"><a href="#local-6989586621680188057"><span class="hs-identifier hs-var hs-var">interceptorOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-626"></span><span>            </span><span class="annot"><a href="Temporal.Client.Types.html#SignalWithStartWorkflowInput"><span class="hs-identifier hs-type">SignalWithStartWorkflowInput</span></a></span><span>
</span><span id="line-627"></span><span>              </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">signalWithStartWorkflowType :: WorkflowType
</span><a href="#local-6989586621680188059"><span class="hs-identifier hs-var">signalWithStartWorkflowType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; WorkflowType
</span><a href="Temporal.Common.html#WorkflowType"><span class="hs-identifier hs-var">WorkflowType</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; WorkflowType) -&gt; Text -&gt; WorkflowType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">KnownWorkflow (WorkflowArgs wf) (WorkflowResult wf) -&gt; Text
forall (args :: [*]) result. KnownWorkflow args result -&gt; Text
</span><a href="Temporal.Workflow.Definition.html#knownWorkflowName"><span class="hs-identifier hs-var">knownWorkflowName</span></a></span><span> </span><span class="annot"><span class="annottext">KnownWorkflow (WorkflowArgs wf) (WorkflowResult wf)
</span><a href="#local-6989586621680187919"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-628"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">signalWithStartSignalName :: Text
</span><a href="#local-6989586621680188060"><span class="hs-identifier hs-var">signalWithStartSignalName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680188040"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-629"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">signalWithStartSignalArgs :: Vector Payload
</span><a href="#local-6989586621680188061"><span class="hs-identifier hs-var">signalWithStartSignalArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector Payload
</span><a href="#local-6989586621680188055"><span class="hs-identifier hs-var">sigArgs'</span></a></span><span>
</span><span id="line-630"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">signalWithStartArgs :: Vector Payload
</span><a href="#local-6989586621680188062"><span class="hs-identifier hs-var">signalWithStartArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector Payload
</span><a href="#local-6989586621680188052"><span class="hs-identifier hs-var">wfArgs</span></a></span><span>
</span><span id="line-631"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">signalWithStartOptions :: StartWorkflowOptions
</span><a href="#local-6989586621680188063"><span class="hs-identifier hs-var">signalWithStartOptions</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StartWorkflowOptions
</span><a href="#local-6989586621680187928"><span class="hs-identifier hs-var">opts</span></a></span><span>
</span><span id="line-632"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">signalWithStartWorkflowId :: WorkflowId
</span><a href="#local-6989586621680188064"><span class="hs-identifier hs-var">signalWithStartWorkflowId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WorkflowId
</span><a href="#local-6989586621680187927"><span class="hs-identifier hs-var">wfId</span></a></span><span>
</span><span id="line-633"></span><span>              </span><span class="hs-special">}</span><span>
</span><span id="line-634"></span><span>      </span><span id="local-6989586621680188065"><span class="annot"><a href="#local-6989586621680188065"><span class="hs-identifier hs-var">wfH</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">liftIO</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#signalWithStart"><span class="hs-identifier hs-var">Temporal.Client.Types.signalWithStart</span></a></span><span> </span><span class="annot"><span class="hs-identifier">c</span></span><span class="hs-operator">.</span><span class="hs-identifier">clientConfig</span><span class="hs-operator">.</span><span class="hs-identifier">interceptors</span><span> </span><span class="annot"><a href="#local-6989586621680188057"><span class="hs-identifier hs-type">interceptorOpts</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680188067"><span class="annot"><span class="annottext">SignalWithStartWorkflowInput
</span><a href="#local-6989586621680188067"><span class="hs-identifier hs-var">opts'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-635"></span><span>        </span><span id="local-6989586621680188068"><span class="annot"><a href="#local-6989586621680188068"><span class="hs-identifier hs-var">reqId</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO UUID
</span><span class="hs-identifier hs-var">UUID.nextRandom</span></span><span>
</span><span id="line-636"></span><span>        </span><span id="local-6989586621680188069"><span class="annot"><a href="#local-6989586621680188069"><span class="hs-identifier hs-var">searchAttrs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Temporal.SearchAttributes.Internal.html#searchAttributesToProto"><span class="hs-identifier hs-type">searchAttributesToProto</span></a></span><span> </span><span class="annot"><span class="hs-identifier">opts'</span></span><span class="hs-operator">.</span><span class="hs-identifier">signalWithStartOptions</span><span class="hs-operator">.</span><span class="hs-identifier">searchAttributes</span><span>
</span><span id="line-637"></span><span>        </span><span id="local-6989586621680188070"><span class="annot"><a href="#local-6989586621680188070"><span class="hs-identifier hs-var">signalArgs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Temporal.Payload.html#processorEncodePayloads"><span class="hs-identifier hs-type">processorEncodePayloads</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680188056"><span class="hs-identifier hs-type">processor</span></a></span><span> </span><span class="annot"><span class="hs-identifier">opts'</span></span><span class="hs-operator">.</span><span class="hs-identifier">signalWithStartSignalArgs</span><span>
</span><span id="line-638"></span><span>        </span><span id="local-6989586621680188071"><span class="annot"><a href="#local-6989586621680188071"><span class="hs-identifier hs-var">wfArgs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Temporal.Payload.html#processorEncodePayloads"><span class="hs-identifier hs-type">processorEncodePayloads</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680188056"><span class="hs-identifier hs-type">processor</span></a></span><span> </span><span class="annot"><span class="hs-identifier">opts'</span></span><span class="hs-operator">.</span><span class="hs-identifier">signalWithStartArgs</span><span>
</span><span id="line-639"></span><span>        </span><span id="local-6989586621680188072"><span class="annot"><a href="#local-6989586621680188072"><span class="hs-identifier hs-var">hdrs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Temporal.Payload.html#processorEncodePayloads"><span class="hs-identifier hs-type">processorEncodePayloads</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680188056"><span class="hs-identifier hs-type">processor</span></a></span><span> </span><span class="annot"><span class="hs-identifier">opts'</span></span><span class="hs-operator">.</span><span class="hs-identifier">signalWithStartOptions</span><span class="hs-operator">.</span><span class="hs-identifier">headers</span><span>
</span><span id="line-640"></span><span>        </span><span id="local-6989586621680188073"><span class="annot"><a href="#local-6989586621680188073"><span class="hs-identifier hs-var">memo'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Temporal.Payload.html#processorEncodePayloads"><span class="hs-identifier hs-type">processorEncodePayloads</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680188056"><span class="hs-identifier hs-type">processor</span></a></span><span> </span><span class="annot"><span class="hs-identifier">opts'</span></span><span class="hs-operator">.</span><span class="hs-identifier">signalWithStartOptions</span><span class="hs-operator">.</span><span class="hs-identifier">memo</span><span>
</span><span id="line-641"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680188074"><span class="annot"><a href="#local-6989586621680188074"><span class="hs-identifier hs-var hs-var">tq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TaskQueue -&gt; Text
</span><a href="Temporal.Common.html#rawTaskQueue"><span class="hs-identifier hs-var">rawTaskQueue</span></a></span><span> </span><span class="annot"><span class="annottext">SignalWithStartWorkflowInput
</span><a href="#local-6989586621680188067"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">signalWithStartOptions</span><span class="hs-operator">.</span><span class="hs-identifier">taskQueue</span><span>
</span><span id="line-642"></span><span>            </span><span id="local-6989586621680188075"><span class="annot"><a href="#local-6989586621680188075"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-643"></span><span>              </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span>
</span><span id="line-644"></span><span>                </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
-&gt; (SignalWithStartWorkflowExecutionRequest
    -&gt; SignalWithStartWorkflowExecutionRequest)
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f SignalWithStartWorkflowExecutionRequest Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f SignalWithStartWorkflowExecutionRequest Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;namespace&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.namespace</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f SignalWithStartWorkflowExecutionRequest Text)
-&gt; Text
-&gt; SignalWithStartWorkflowExecutionRequest
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Namespace -&gt; Text
</span><a href="Temporal.Common.html#rawNamespace"><span class="hs-identifier hs-var">rawNamespace</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowClient
</span><a href="#local-6989586621680188054"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">clientConfig</span><span class="hs-operator">.</span><span class="hs-identifier">namespace</span><span>
</span><span id="line-645"></span><span>                </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
-&gt; (SignalWithStartWorkflowExecutionRequest
    -&gt; SignalWithStartWorkflowExecutionRequest)
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f SignalWithStartWorkflowExecutionRequest Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f SignalWithStartWorkflowExecutionRequest Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;workflowId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.workflowId</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f SignalWithStartWorkflowExecutionRequest Text)
-&gt; Text
-&gt; SignalWithStartWorkflowExecutionRequest
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">WorkflowId -&gt; Text
</span><a href="Temporal.Common.html#rawWorkflowId"><span class="hs-identifier hs-var">rawWorkflowId</span></a></span><span> </span><span class="annot"><span class="annottext">SignalWithStartWorkflowInput
</span><a href="#local-6989586621680188067"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">signalWithStartWorkflowId</span><span>
</span><span id="line-646"></span><span>                </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
-&gt; (SignalWithStartWorkflowExecutionRequest
    -&gt; SignalWithStartWorkflowExecutionRequest)
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f SignalWithStartWorkflowExecutionRequest WorkflowType
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f SignalWithStartWorkflowExecutionRequest WorkflowType
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;workflowType&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.workflowType</span></span><span>
</span><span id="line-647"></span><span>                  </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f SignalWithStartWorkflowExecutionRequest WorkflowType)
-&gt; WorkflowType
-&gt; SignalWithStartWorkflowExecutionRequest
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">WorkflowType
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span> </span><span class="annot"><span class="annottext">WorkflowType -&gt; (WorkflowType -&gt; WorkflowType) -&gt; WorkflowType
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f WorkflowType Text
forall {f :: * -&gt; *}. Identical f =&gt; LensLike' f WorkflowType Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;name&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.name</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f WorkflowType Text)
-&gt; Text -&gt; WorkflowType -&gt; WorkflowType
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">WorkflowType -&gt; Text
</span><a href="Temporal.Common.html#rawWorkflowType"><span class="hs-identifier hs-var">rawWorkflowType</span></a></span><span> </span><span class="annot"><span class="annottext">SignalWithStartWorkflowInput
</span><a href="#local-6989586621680188067"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">signalWithStartWorkflowType</span><span>
</span><span id="line-648"></span><span>                     </span><span class="hs-special">)</span><span>
</span><span id="line-649"></span><span>                </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
-&gt; (SignalWithStartWorkflowExecutionRequest
    -&gt; SignalWithStartWorkflowExecutionRequest)
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f SignalWithStartWorkflowExecutionRequest Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f SignalWithStartWorkflowExecutionRequest Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;requestId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.requestId</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f SignalWithStartWorkflowExecutionRequest Text)
-&gt; Text
-&gt; SignalWithStartWorkflowExecutionRequest
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">UUID -&gt; Text
</span><span class="hs-identifier hs-var">UUID.toText</span></span><span> </span><span class="annot"><span class="annottext">UUID
</span><a href="#local-6989586621680188068"><span class="hs-identifier hs-var">reqId</span></a></span><span>
</span><span id="line-650"></span><span>                </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
-&gt; (SignalWithStartWorkflowExecutionRequest
    -&gt; SignalWithStartWorkflowExecutionRequest)
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike'
  f SignalWithStartWorkflowExecutionRequest SearchAttributes
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike'
  f SignalWithStartWorkflowExecutionRequest SearchAttributes
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;searchAttributes&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.searchAttributes</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike'
   f SignalWithStartWorkflowExecutionRequest SearchAttributes)
-&gt; SearchAttributes
-&gt; SignalWithStartWorkflowExecutionRequest
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SearchAttributes
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span> </span><span class="annot"><span class="annottext">SearchAttributes
-&gt; (SearchAttributes -&gt; SearchAttributes) -&gt; SearchAttributes
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f SearchAttributes (Map Text Payload)
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f SearchAttributes (Map Text Payload)
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;indexedFields&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.indexedFields</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f SearchAttributes (Map Text Payload))
-&gt; Map Text Payload -&gt; SearchAttributes -&gt; SearchAttributes
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Map Text Payload
</span><a href="#local-6989586621680188069"><span class="hs-identifier hs-var">searchAttrs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-651"></span><span>                </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
-&gt; (SignalWithStartWorkflowExecutionRequest
    -&gt; SignalWithStartWorkflowExecutionRequest)
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f SignalWithStartWorkflowExecutionRequest TaskQueue
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f SignalWithStartWorkflowExecutionRequest TaskQueue
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;taskQueue&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.taskQueue</span></span><span>
</span><span id="line-652"></span><span>                  </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f SignalWithStartWorkflowExecutionRequest TaskQueue)
-&gt; TaskQueue
-&gt; SignalWithStartWorkflowExecutionRequest
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">TaskQueue
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span>
</span><span id="line-653"></span><span>                        </span><span class="annot"><span class="annottext">TaskQueue -&gt; (TaskQueue -&gt; TaskQueue) -&gt; TaskQueue
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f TaskQueue Text
forall {f :: * -&gt; *}. Identical f =&gt; LensLike' f TaskQueue Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;name&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.name</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}. Identical f =&gt; LensLike' f TaskQueue Text)
-&gt; Text -&gt; TaskQueue -&gt; TaskQueue
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680188074"><span class="hs-identifier hs-var">tq</span></a></span><span>
</span><span id="line-654"></span><span>                        </span><span class="annot"><span class="annottext">TaskQueue -&gt; (TaskQueue -&gt; TaskQueue) -&gt; TaskQueue
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f TaskQueue TaskQueueKind
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f TaskQueue TaskQueueKind
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;kind&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">TQ.kind</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f TaskQueue TaskQueueKind)
-&gt; TaskQueueKind -&gt; TaskQueue -&gt; TaskQueue
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">TaskQueueKind
</span><span class="hs-identifier hs-var">TASK_QUEUE_KIND_UNSPECIFIED</span></span><span>
</span><span id="line-655"></span><span>                     </span><span class="hs-special">)</span><span>
</span><span id="line-656"></span><span>                </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
-&gt; (SignalWithStartWorkflowExecutionRequest
    -&gt; SignalWithStartWorkflowExecutionRequest)
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f SignalWithStartWorkflowExecutionRequest Payloads
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f SignalWithStartWorkflowExecutionRequest Payloads
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;input&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.input</span></span><span>
</span><span id="line-657"></span><span>                  </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f SignalWithStartWorkflowExecutionRequest Payloads)
-&gt; Payloads
-&gt; SignalWithStartWorkflowExecutionRequest
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Payloads
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span> </span><span class="annot"><span class="annottext">Payloads -&gt; (Payloads -&gt; Payloads) -&gt; Payloads
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f Payloads (Vector Payload)
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f Payloads (Vector Payload)
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;vec'payloads&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.vec'payloads</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f Payloads (Vector Payload))
-&gt; Vector Payload -&gt; Payloads -&gt; Payloads
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">(Payload -&gt; Payload) -&gt; Vector Payload -&gt; Vector Payload
forall a b. (a -&gt; b) -&gt; Vector a -&gt; Vector b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Payload -&gt; Payload
</span><a href="Temporal.Payload.html#convertToProtoPayload"><span class="hs-identifier hs-var">convertToProtoPayload</span></a></span><span> </span><span class="annot"><span class="annottext">Vector Payload
</span><a href="#local-6989586621680188071"><span class="hs-identifier hs-var">wfArgs'</span></a></span><span>
</span><span id="line-658"></span><span>                     </span><span class="hs-special">)</span><span>
</span><span id="line-659"></span><span>                </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
-&gt; (SignalWithStartWorkflowExecutionRequest
    -&gt; SignalWithStartWorkflowExecutionRequest)
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike'
  f SignalWithStartWorkflowExecutionRequest (Maybe Duration)
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike'
  f SignalWithStartWorkflowExecutionRequest (Maybe Duration)
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;maybe'workflowExecutionTimeout&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.maybe'workflowExecutionTimeout</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike'
   f SignalWithStartWorkflowExecutionRequest (Maybe Duration))
-&gt; Maybe Duration
-&gt; SignalWithStartWorkflowExecutionRequest
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Duration -&gt; Duration
</span><a href="Temporal.Duration.html#durationToProto"><span class="hs-identifier hs-var">durationToProto</span></a></span><span> </span><span class="annot"><span class="annottext">(Duration -&gt; Duration) -&gt; Maybe Duration -&gt; Maybe Duration
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SignalWithStartWorkflowInput
</span><a href="#local-6989586621680188067"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">signalWithStartOptions</span><span class="hs-operator">.</span><span class="hs-identifier">timeouts</span><span class="hs-operator">.</span><span class="hs-identifier">executionTimeout</span><span class="hs-special">)</span><span>
</span><span id="line-660"></span><span>                </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
-&gt; (SignalWithStartWorkflowExecutionRequest
    -&gt; SignalWithStartWorkflowExecutionRequest)
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike'
  f SignalWithStartWorkflowExecutionRequest (Maybe Duration)
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike'
  f SignalWithStartWorkflowExecutionRequest (Maybe Duration)
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;maybe'workflowRunTimeout&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.maybe'workflowRunTimeout</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike'
   f SignalWithStartWorkflowExecutionRequest (Maybe Duration))
-&gt; Maybe Duration
-&gt; SignalWithStartWorkflowExecutionRequest
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Duration -&gt; Duration
</span><a href="Temporal.Duration.html#durationToProto"><span class="hs-identifier hs-var">durationToProto</span></a></span><span> </span><span class="annot"><span class="annottext">(Duration -&gt; Duration) -&gt; Maybe Duration -&gt; Maybe Duration
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SignalWithStartWorkflowInput
</span><a href="#local-6989586621680188067"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">signalWithStartOptions</span><span class="hs-operator">.</span><span class="hs-identifier">timeouts</span><span class="hs-operator">.</span><span class="hs-identifier">runTimeout</span><span class="hs-special">)</span><span>
</span><span id="line-661"></span><span>                </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
-&gt; (SignalWithStartWorkflowExecutionRequest
    -&gt; SignalWithStartWorkflowExecutionRequest)
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike'
  f SignalWithStartWorkflowExecutionRequest (Maybe Duration)
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike'
  f SignalWithStartWorkflowExecutionRequest (Maybe Duration)
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;maybe'workflowTaskTimeout&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.maybe'workflowTaskTimeout</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike'
   f SignalWithStartWorkflowExecutionRequest (Maybe Duration))
-&gt; Maybe Duration
-&gt; SignalWithStartWorkflowExecutionRequest
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Duration -&gt; Duration
</span><a href="Temporal.Duration.html#durationToProto"><span class="hs-identifier hs-var">durationToProto</span></a></span><span> </span><span class="annot"><span class="annottext">(Duration -&gt; Duration) -&gt; Maybe Duration -&gt; Maybe Duration
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SignalWithStartWorkflowInput
</span><a href="#local-6989586621680188067"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">signalWithStartOptions</span><span class="hs-operator">.</span><span class="hs-identifier">timeouts</span><span class="hs-operator">.</span><span class="hs-identifier">taskTimeout</span><span class="hs-special">)</span><span>
</span><span id="line-662"></span><span>                </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
-&gt; (SignalWithStartWorkflowExecutionRequest
    -&gt; SignalWithStartWorkflowExecutionRequest)
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f SignalWithStartWorkflowExecutionRequest Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f SignalWithStartWorkflowExecutionRequest Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;identity&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.identity</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f SignalWithStartWorkflowExecutionRequest Text)
-&gt; Text
-&gt; SignalWithStartWorkflowExecutionRequest
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">ClientConfig -&gt; Text
</span><span class="hs-identifier hs-var">Core.identity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Client -&gt; ClientConfig
</span><span class="hs-identifier hs-var">Core.clientConfig</span></span><span> </span><span class="annot"><span class="annottext">WorkflowClient
</span><a href="#local-6989586621680188054"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">clientCore</span><span class="hs-special">)</span><span>
</span><span id="line-663"></span><span>                </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
-&gt; (SignalWithStartWorkflowExecutionRequest
    -&gt; SignalWithStartWorkflowExecutionRequest)
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f SignalWithStartWorkflowExecutionRequest Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f SignalWithStartWorkflowExecutionRequest Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;requestId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.requestId</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f SignalWithStartWorkflowExecutionRequest Text)
-&gt; Text
-&gt; SignalWithStartWorkflowExecutionRequest
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">UUID -&gt; Text
</span><span class="hs-identifier hs-var">UUID.toText</span></span><span> </span><span class="annot"><span class="annottext">UUID
</span><a href="#local-6989586621680188068"><span class="hs-identifier hs-var">reqId</span></a></span><span>
</span><span id="line-664"></span><span>                </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
-&gt; (SignalWithStartWorkflowExecutionRequest
    -&gt; SignalWithStartWorkflowExecutionRequest)
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike'
  f SignalWithStartWorkflowExecutionRequest WorkflowIdReusePolicy
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike'
  f SignalWithStartWorkflowExecutionRequest WorkflowIdReusePolicy
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;workflowIdReusePolicy&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.workflowIdReusePolicy</span></span><span>
</span><span id="line-665"></span><span>                  </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike'
   f SignalWithStartWorkflowExecutionRequest WorkflowIdReusePolicy)
-&gt; WorkflowIdReusePolicy
-&gt; SignalWithStartWorkflowExecutionRequest
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">WorkflowIdReusePolicy -&gt; WorkflowIdReusePolicy
</span><a href="Temporal.Common.html#workflowIdReusePolicyToProto"><span class="hs-identifier hs-var">workflowIdReusePolicyToProto</span></a></span><span>
</span><span id="line-666"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WorkflowIdReusePolicy
-&gt; Maybe WorkflowIdReusePolicy -&gt; WorkflowIdReusePolicy
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">WorkflowIdReusePolicy
</span><a href="Temporal.Common.html#WorkflowIdReusePolicyAllowDuplicateFailedOnly"><span class="hs-identifier hs-var">WorkflowIdReusePolicyAllowDuplicateFailedOnly</span></a></span><span> </span><span class="annot"><span class="annottext">SignalWithStartWorkflowInput
</span><a href="#local-6989586621680188067"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">signalWithStartOptions</span><span class="hs-operator">.</span><span class="hs-identifier">workflowIdReusePolicy</span><span class="hs-special">)</span><span>
</span><span id="line-667"></span><span>                </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
-&gt; (SignalWithStartWorkflowExecutionRequest
    -&gt; SignalWithStartWorkflowExecutionRequest)
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f SignalWithStartWorkflowExecutionRequest Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f SignalWithStartWorkflowExecutionRequest Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;signalName&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.signalName</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f SignalWithStartWorkflowExecutionRequest Text)
-&gt; Text
-&gt; SignalWithStartWorkflowExecutionRequest
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680188040"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-668"></span><span>                </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
-&gt; (SignalWithStartWorkflowExecutionRequest
    -&gt; SignalWithStartWorkflowExecutionRequest)
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f SignalWithStartWorkflowExecutionRequest Payloads
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f SignalWithStartWorkflowExecutionRequest Payloads
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;signalInput&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.signalInput</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f SignalWithStartWorkflowExecutionRequest Payloads)
-&gt; Payloads
-&gt; SignalWithStartWorkflowExecutionRequest
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Payloads
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span> </span><span class="annot"><span class="annottext">Payloads -&gt; (Payloads -&gt; Payloads) -&gt; Payloads
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f Payloads (Vector Payload)
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f Payloads (Vector Payload)
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;vec'payloads&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.vec'payloads</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f Payloads (Vector Payload))
-&gt; Vector Payload -&gt; Payloads -&gt; Payloads
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">(Payload -&gt; Payload) -&gt; Vector Payload -&gt; Vector Payload
forall a b. (a -&gt; b) -&gt; Vector a -&gt; Vector b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Payload -&gt; Payload
</span><a href="Temporal.Payload.html#convertToProtoPayload"><span class="hs-identifier hs-var">convertToProtoPayload</span></a></span><span> </span><span class="annot"><span class="annottext">Vector Payload
</span><a href="#local-6989586621680188070"><span class="hs-identifier hs-var">signalArgs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-669"></span><span>                </span><span class="hs-comment">-- Deprecated, no need to set</span><span>
</span><span id="line-670"></span><span>                </span><span class="hs-comment">-- &amp; RR.control .~ _</span><span>
</span><span id="line-671"></span><span>                </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
-&gt; (SignalWithStartWorkflowExecutionRequest
    -&gt; SignalWithStartWorkflowExecutionRequest)
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike'
  f SignalWithStartWorkflowExecutionRequest (Maybe RetryPolicy)
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike'
  f SignalWithStartWorkflowExecutionRequest (Maybe RetryPolicy)
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;maybe'retryPolicy&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.maybe'retryPolicy</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike'
   f SignalWithStartWorkflowExecutionRequest (Maybe RetryPolicy))
-&gt; Maybe RetryPolicy
-&gt; SignalWithStartWorkflowExecutionRequest
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RetryPolicy -&gt; RetryPolicy
</span><a href="Temporal.Common.html#retryPolicyToProto"><span class="hs-identifier hs-var">retryPolicyToProto</span></a></span><span> </span><span class="annot"><span class="annottext">(RetryPolicy -&gt; RetryPolicy)
-&gt; Maybe RetryPolicy -&gt; Maybe RetryPolicy
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SignalWithStartWorkflowInput
</span><a href="#local-6989586621680188067"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">signalWithStartOptions</span><span class="hs-operator">.</span><span class="hs-identifier">retryPolicy</span><span class="hs-special">)</span><span>
</span><span id="line-672"></span><span>                </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
-&gt; (SignalWithStartWorkflowExecutionRequest
    -&gt; SignalWithStartWorkflowExecutionRequest)
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f SignalWithStartWorkflowExecutionRequest Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f SignalWithStartWorkflowExecutionRequest Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;cronSchedule&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.cronSchedule</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f SignalWithStartWorkflowExecutionRequest Text)
-&gt; Text
-&gt; SignalWithStartWorkflowExecutionRequest
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Maybe Text -&gt; Text
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">SignalWithStartWorkflowInput
</span><a href="#local-6989586621680188067"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">signalWithStartOptions</span><span class="hs-operator">.</span><span class="hs-identifier">cronSchedule</span><span>
</span><span id="line-673"></span><span>                </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
-&gt; (SignalWithStartWorkflowExecutionRequest
    -&gt; SignalWithStartWorkflowExecutionRequest)
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f SignalWithStartWorkflowExecutionRequest Memo
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f SignalWithStartWorkflowExecutionRequest Memo
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;memo&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.memo</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f SignalWithStartWorkflowExecutionRequest Memo)
-&gt; Memo
-&gt; SignalWithStartWorkflowExecutionRequest
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Map Text Payload -&gt; Memo
</span><a href="Temporal.Common.html#convertToProtoMemo"><span class="hs-identifier hs-var">convertToProtoMemo</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text Payload
</span><a href="#local-6989586621680188073"><span class="hs-identifier hs-var">memo'</span></a></span><span>
</span><span id="line-674"></span><span>                </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionRequest
-&gt; (SignalWithStartWorkflowExecutionRequest
    -&gt; SignalWithStartWorkflowExecutionRequest)
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f SignalWithStartWorkflowExecutionRequest Header
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f SignalWithStartWorkflowExecutionRequest Header
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;header&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.header</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f SignalWithStartWorkflowExecutionRequest Header)
-&gt; Header
-&gt; SignalWithStartWorkflowExecutionRequest
-&gt; SignalWithStartWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Map Text Payload -&gt; Header
</span><a href="Temporal.Common.html#headerToProto"><span class="hs-identifier hs-var">headerToProto</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Payload -&gt; Payload) -&gt; Map Text Payload -&gt; Map Text Payload
forall a b. (a -&gt; b) -&gt; Map Text a -&gt; Map Text b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Payload -&gt; Payload
</span><a href="Temporal.Payload.html#convertToProtoPayload"><span class="hs-identifier hs-var">convertToProtoPayload</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text Payload
</span><a href="#local-6989586621680188072"><span class="hs-identifier hs-var">hdrs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-675"></span><span>        </span><span class="hs-comment">-- &amp; RR.workflowStartDelay .~ _</span><span>
</span><span id="line-676"></span><span>        </span><span class="hs-comment">-- &amp; RR.skipGenerateWorkflowTask .~ _</span><span>
</span><span id="line-677"></span><span>        </span><span id="local-6989586621680188220"><span class="annot"><a href="#local-6989586621680188220"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-678"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">signalWithStartWorkflowExecution</span></span><span>
</span><span id="line-679"></span><span>            </span><span class="annot"><span class="hs-identifier">c</span></span><span class="hs-operator">.</span><span class="hs-identifier">clientCore</span><span>
</span><span id="line-680"></span><span>            </span><span class="annot"><a href="#local-6989586621680188075"><span class="hs-identifier hs-type">msg</span></a></span><span>
</span><span id="line-681"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621680188220"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-682"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621680188222"><span class="annot"><span class="annottext">RpcError
</span><a href="#local-6989586621680188222"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RpcError -&gt; IO (WorkflowHandle Payload)
forall (m :: * -&gt; *) e a. (MonadIO m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">RpcError
</span><a href="#local-6989586621680188222"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-683"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621680188223"><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionResponse
</span><a href="#local-6989586621680188223"><span class="hs-identifier hs-var">swer</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-684"></span><span>            </span><span class="annot"><span class="annottext">WorkflowHandle Payload -&gt; IO (WorkflowHandle Payload)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(WorkflowHandle Payload -&gt; IO (WorkflowHandle Payload))
-&gt; WorkflowHandle Payload -&gt; IO (WorkflowHandle Payload)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-685"></span><span>              </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span>
</span><span id="line-686"></span><span>                </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">workflowHandleReadResult :: Payload -&gt; UnencodedPayload
</span><a href="Temporal.Client.Types.html#workflowHandleReadResult"><span class="hs-identifier hs-var">workflowHandleReadResult</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Payload -&gt; UnencodedPayload
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-687"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">workflowHandleType :: WorkflowType
</span><a href="Temporal.Client.Types.html#workflowHandleType"><span class="hs-identifier hs-var">workflowHandleType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; WorkflowType
</span><a href="Temporal.Common.html#WorkflowType"><span class="hs-identifier hs-var">WorkflowType</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; WorkflowType) -&gt; Text -&gt; WorkflowType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">KnownWorkflow (WorkflowArgs wf) (WorkflowResult wf) -&gt; Text
forall (args :: [*]) result. KnownWorkflow args result -&gt; Text
</span><a href="Temporal.Workflow.Definition.html#knownWorkflowName"><span class="hs-identifier hs-var">knownWorkflowName</span></a></span><span> </span><span class="annot"><span class="annottext">KnownWorkflow (WorkflowArgs wf) (WorkflowResult wf)
</span><a href="#local-6989586621680187919"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-688"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">workflowHandleClient :: WorkflowClient
</span><a href="Temporal.Client.Types.html#workflowHandleClient"><span class="hs-identifier hs-var">workflowHandleClient</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WorkflowClient
</span><a href="#local-6989586621680188054"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-689"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">workflowHandleWorkflowId :: WorkflowId
</span><a href="Temporal.Client.Types.html#workflowHandleWorkflowId"><span class="hs-identifier hs-var">workflowHandleWorkflowId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SignalWithStartWorkflowInput
</span><a href="#local-6989586621680188067"><span class="hs-identifier hs-var">opts'</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">signalWithStartWorkflowId</span><span>
</span><span id="line-690"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">workflowHandleRunId :: Maybe RunId
</span><a href="Temporal.Client.Types.html#workflowHandleRunId"><span class="hs-identifier hs-var">workflowHandleRunId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RunId -&gt; Maybe RunId
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; RunId
</span><a href="Temporal.Common.html#RunId"><span class="hs-identifier hs-var">RunId</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; RunId) -&gt; Text -&gt; RunId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionResponse
</span><a href="#local-6989586621680188223"><span class="hs-identifier hs-var">swer</span></a></span><span> </span><span class="annot"><span class="annottext">SignalWithStartWorkflowExecutionResponse
-&gt; FoldLike
     Text
     SignalWithStartWorkflowExecutionResponse
     SignalWithStartWorkflowExecutionResponse
     Text
     Text
-&gt; Text
forall s a t b. s -&gt; FoldLike a s t a b -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">FoldLike
  Text
  SignalWithStartWorkflowExecutionResponse
  SignalWithStartWorkflowExecutionResponse
  Text
  Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;runId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">WF.runId</span></span><span class="hs-special">)</span><span>
</span><span id="line-691"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-692"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-693"></span><span>        </span><span class="annot"><a href="#local-6989586621680188065"><span class="hs-identifier hs-type">wfH</span></a></span><span>
</span><span id="line-694"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#workflowHandleReadResult"><span class="hs-identifier hs-var">workflowHandleReadResult</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680188224"><span class="annot"><span class="annottext">Payload
</span><a href="#local-6989586621680188224"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-695"></span><span>              </span><span class="annot"><span class="annottext">WorkflowHandle Payload -&gt; Payload -&gt; UnencodedPayload
forall a. WorkflowHandle a -&gt; Payload -&gt; IO a
</span><a href="Temporal.Client.Types.html#workflowHandleReadResult"><span class="hs-identifier hs-var">workflowHandleReadResult</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowHandle Payload
</span><a href="#local-6989586621680188065"><span class="hs-identifier hs-var">wfH</span></a></span><span> </span><span class="annot"><span class="annottext">Payload
</span><a href="#local-6989586621680188224"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">UnencodedPayload
-&gt; (Payload -&gt; IO (WorkflowResult wf)) -&gt; IO (WorkflowResult wf)
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680188225"><span class="annot"><span class="annottext">Payload
</span><a href="#local-6989586621680188225"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-696"></span><span>                </span><span id="local-6989586621680188226"><span class="annot"><a href="#local-6989586621680188226"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">codec -&gt; Payload -&gt; IO (Either [Char] (WorkflowResult wf))
forall fmt a. Codec fmt a =&gt; fmt -&gt; Payload -&gt; IO (Either [Char] a)
</span><a href="Temporal.Payload.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">codec
</span><a href="#local-6989586621680187926"><span class="hs-identifier hs-var">codec</span></a></span><span> </span><span class="annot"><span class="annottext">Payload
</span><a href="#local-6989586621680188225"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-697"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">throwIO</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="Temporal.Payload.html#ValueError"><span class="hs-identifier hs-type">ValueError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="#local-6989586621680188226"><span class="hs-identifier hs-type">result</span></a></span><span>
</span><span id="line-698"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-699"></span><span>
</span><span id="line-700"></span><span>
</span><span id="line-701"></span><span class="hs-keyword">data</span><span> </span><span id="TerminationOptions"><span class="annot"><a href="Temporal.Client.html#TerminationOptions"><span class="hs-identifier hs-var">TerminationOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TerminationOptions"><span class="annot"><a href="Temporal.Client.html#TerminationOptions"><span class="hs-identifier hs-var">TerminationOptions</span></a></span></span><span>
</span><span id="line-702"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="terminationReason"><span class="annot"><span class="annottext">TerminationOptions -&gt; Text
</span><a href="Temporal.Client.html#terminationReason"><span class="hs-identifier hs-var hs-var">terminationReason</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-703"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="terminationDetails"><span class="annot"><span class="annottext">TerminationOptions -&gt; [Payload]
</span><a href="Temporal.Client.html#terminationDetails"><span class="hs-identifier hs-var hs-var">terminationDetails</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Temporal.Payload.html#Payload"><span class="hs-identifier hs-type">Payload</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-704"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="firstExecutionRunId"><span class="annot"><span class="annottext">TerminationOptions -&gt; Maybe RunId
</span><a href="Temporal.Client.html#firstExecutionRunId"><span class="hs-identifier hs-var hs-var">firstExecutionRunId</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Temporal.Common.html#RunId"><span class="hs-identifier hs-type">RunId</span></a></span><span>
</span><span id="line-705"></span><span>  </span><span class="hs-comment">-- ^ If set, this call will error if the (most recent | specified workflow run id in the WorkflowHandle) is not part of the same</span><span>
</span><span id="line-706"></span><span>  </span><span class="hs-comment">-- execution chain as this id.</span><span>
</span><span id="line-707"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-708"></span><span>
</span><span id="line-709"></span><span>
</span><span id="line-710"></span><span class="annot"><span class="hs-comment">{- | Terminating a workflow immediately signals to the worker that the workflow should
cease execution. The workflow will not be given a chance to react to the termination.
-}</span></span><span>
</span><span id="line-713"></span><span id="local-6989586621680186712"><span id="local-6989586621680186713"><span class="annot"><a href="Temporal.Client.html#terminate"><span class="hs-identifier hs-type">terminate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621680186712"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186713"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#TerminationOptions"><span class="hs-identifier hs-type">TerminationOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680186712"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-714"></span><span id="terminate"><span class="annot"><span class="annottext">terminate :: forall (m :: * -&gt; *) a.
MonadIO m =&gt;
WorkflowHandle a -&gt; TerminationOptions -&gt; m ()
</span><a href="Temporal.Client.html#terminate"><span class="hs-identifier hs-var hs-var">terminate</span></a></span></span><span> </span><span id="local-6989586621680188258"><span class="annot"><span class="annottext">WorkflowHandle a
</span><a href="#local-6989586621680188258"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621680188259"><span class="annot"><span class="annottext">TerminationOptions
</span><a href="#local-6989586621680188259"><span class="hs-identifier hs-var">req</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-715"></span><span>  </span><span class="annot"><span class="annottext">m TerminateWorkflowExecutionResponse -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">(m TerminateWorkflowExecutionResponse -&gt; m ())
-&gt; m TerminateWorkflowExecutionResponse -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-716"></span><span>    </span><span class="annot"><span class="annottext">IO (Either RpcError TerminateWorkflowExecutionResponse)
-&gt; m TerminateWorkflowExecutionResponse
forall (m :: * -&gt; *) e a.
(MonadIO m, Exception e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Temporal.Client.html#throwEither"><span class="hs-identifier hs-var">throwEither</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either RpcError TerminateWorkflowExecutionResponse)
 -&gt; m TerminateWorkflowExecutionResponse)
-&gt; IO (Either RpcError TerminateWorkflowExecutionResponse)
-&gt; m TerminateWorkflowExecutionResponse
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-717"></span><span>      </span><span class="annot"><span class="annottext">Client
-&gt; TerminateWorkflowExecutionRequest
-&gt; IO (Either RpcError TerminateWorkflowExecutionResponse)
</span><span class="hs-identifier hs-var">terminateWorkflowExecution</span></span><span>
</span><span id="line-718"></span><span>        </span><span class="annot"><span class="annottext">WorkflowHandle a
</span><a href="#local-6989586621680188258"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">workflowHandleClient</span><span class="hs-operator">.</span><span class="hs-identifier">clientCore</span><span>
</span><span id="line-719"></span><span>        </span><span class="annot"><span class="annottext">TerminateWorkflowExecutionRequest
</span><a href="#local-6989586621680188262"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-720"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-721"></span><span>    </span><span id="local-6989586621680188262"><span class="annot"><span class="annottext">msg :: TerminateWorkflowExecutionRequest
</span><a href="#local-6989586621680188262"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-722"></span><span>      </span><span class="annot"><span class="annottext">TerminateWorkflowExecutionRequest
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span>
</span><span id="line-723"></span><span>        </span><span class="annot"><span class="annottext">TerminateWorkflowExecutionRequest
-&gt; (TerminateWorkflowExecutionRequest
    -&gt; TerminateWorkflowExecutionRequest)
-&gt; TerminateWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f TerminateWorkflowExecutionRequest Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f TerminateWorkflowExecutionRequest Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;namespace&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.namespace</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f TerminateWorkflowExecutionRequest Text)
-&gt; Text
-&gt; TerminateWorkflowExecutionRequest
-&gt; TerminateWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Namespace -&gt; Text
</span><a href="Temporal.Common.html#rawNamespace"><span class="hs-identifier hs-var">rawNamespace</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowHandle a
</span><a href="#local-6989586621680188258"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">workflowHandleClient</span><span class="hs-operator">.</span><span class="hs-identifier">clientConfig</span><span class="hs-operator">.</span><span class="hs-identifier">namespace</span><span>
</span><span id="line-724"></span><span>        </span><span class="annot"><span class="annottext">TerminateWorkflowExecutionRequest
-&gt; (TerminateWorkflowExecutionRequest
    -&gt; TerminateWorkflowExecutionRequest)
-&gt; TerminateWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f TerminateWorkflowExecutionRequest WorkflowExecution
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f TerminateWorkflowExecutionRequest WorkflowExecution
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;workflowExecution&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.workflowExecution</span></span><span>
</span><span id="line-725"></span><span>          </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f TerminateWorkflowExecutionRequest WorkflowExecution)
-&gt; WorkflowExecution
-&gt; TerminateWorkflowExecutionRequest
-&gt; TerminateWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">WorkflowExecution
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span>
</span><span id="line-726"></span><span>                </span><span class="annot"><span class="annottext">WorkflowExecution
-&gt; (WorkflowExecution -&gt; WorkflowExecution) -&gt; WorkflowExecution
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f WorkflowExecution Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f WorkflowExecution Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;workflowId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.workflowId</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f WorkflowExecution Text)
-&gt; Text -&gt; WorkflowExecution -&gt; WorkflowExecution
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">WorkflowId -&gt; Text
</span><a href="Temporal.Common.html#rawWorkflowId"><span class="hs-identifier hs-var">rawWorkflowId</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowHandle a
</span><a href="#local-6989586621680188258"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">workflowHandleWorkflowId</span><span>
</span><span id="line-727"></span><span>                </span><span class="annot"><span class="annottext">WorkflowExecution
-&gt; (WorkflowExecution -&gt; WorkflowExecution) -&gt; WorkflowExecution
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f WorkflowExecution Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f WorkflowExecution Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;runId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.runId</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f WorkflowExecution Text)
-&gt; Text -&gt; WorkflowExecution -&gt; WorkflowExecution
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; (RunId -&gt; Text) -&gt; Maybe RunId -&gt; Text
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">RunId -&gt; Text
</span><a href="Temporal.Common.html#rawRunId"><span class="hs-identifier hs-var">rawRunId</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowHandle a
</span><a href="#local-6989586621680188258"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">workflowHandleRunId</span><span>
</span><span id="line-728"></span><span>             </span><span class="hs-special">)</span><span>
</span><span id="line-729"></span><span>        </span><span class="annot"><span class="annottext">TerminateWorkflowExecutionRequest
-&gt; (TerminateWorkflowExecutionRequest
    -&gt; TerminateWorkflowExecutionRequest)
-&gt; TerminateWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f TerminateWorkflowExecutionRequest Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f TerminateWorkflowExecutionRequest Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;reason&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.reason</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f TerminateWorkflowExecutionRequest Text)
-&gt; Text
-&gt; TerminateWorkflowExecutionRequest
-&gt; TerminateWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">TerminationOptions
</span><a href="#local-6989586621680188259"><span class="hs-identifier hs-var">req</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">terminationReason</span><span>
</span><span id="line-730"></span><span>        </span><span class="annot"><span class="annottext">TerminateWorkflowExecutionRequest
-&gt; (TerminateWorkflowExecutionRequest
    -&gt; TerminateWorkflowExecutionRequest)
-&gt; TerminateWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f TerminateWorkflowExecutionRequest Payloads
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f TerminateWorkflowExecutionRequest Payloads
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;details&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.details</span></span><span>
</span><span id="line-731"></span><span>          </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f TerminateWorkflowExecutionRequest Payloads)
-&gt; Payloads
-&gt; TerminateWorkflowExecutionRequest
-&gt; TerminateWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Payloads
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span> </span><span class="annot"><span class="annottext">Payloads -&gt; (Payloads -&gt; Payloads) -&gt; Payloads
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f Payloads [Payload]
forall {f :: * -&gt; *}. Identical f =&gt; LensLike' f Payloads [Payload]
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;payloads&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.payloads</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f Payloads [Payload])
-&gt; [Payload] -&gt; Payloads -&gt; Payloads
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">(Payload -&gt; Payload) -&gt; [Payload] -&gt; [Payload]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Payload -&gt; Payload
</span><a href="Temporal.Payload.html#convertToProtoPayload"><span class="hs-identifier hs-var">convertToProtoPayload</span></a></span><span> </span><span class="annot"><span class="annottext">TerminationOptions
</span><a href="#local-6989586621680188259"><span class="hs-identifier hs-var">req</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">terminationDetails</span><span class="hs-special">)</span><span>
</span><span id="line-732"></span><span>        </span><span class="annot"><span class="annottext">TerminateWorkflowExecutionRequest
-&gt; (TerminateWorkflowExecutionRequest
    -&gt; TerminateWorkflowExecutionRequest)
-&gt; TerminateWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f TerminateWorkflowExecutionRequest Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f TerminateWorkflowExecutionRequest Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;identity&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.identity</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f TerminateWorkflowExecutionRequest Text)
-&gt; Text
-&gt; TerminateWorkflowExecutionRequest
-&gt; TerminateWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">ClientConfig -&gt; Text
</span><span class="hs-identifier hs-var">Core.identity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Client -&gt; ClientConfig
</span><span class="hs-identifier hs-var">Core.clientConfig</span></span><span> </span><span class="annot"><span class="annottext">WorkflowHandle a
</span><a href="#local-6989586621680188258"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">workflowHandleClient</span><span class="hs-operator">.</span><span class="hs-identifier">clientCore</span><span class="hs-special">)</span><span>
</span><span id="line-733"></span><span>        </span><span class="annot"><span class="annottext">TerminateWorkflowExecutionRequest
-&gt; (TerminateWorkflowExecutionRequest
    -&gt; TerminateWorkflowExecutionRequest)
-&gt; TerminateWorkflowExecutionRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f TerminateWorkflowExecutionRequest Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f TerminateWorkflowExecutionRequest Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;firstExecutionRunId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.firstExecutionRunId</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f TerminateWorkflowExecutionRequest Text)
-&gt; Text
-&gt; TerminateWorkflowExecutionRequest
-&gt; TerminateWorkflowExecutionRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; (RunId -&gt; Text) -&gt; Maybe RunId -&gt; Text
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">RunId -&gt; Text
</span><a href="Temporal.Common.html#rawRunId"><span class="hs-identifier hs-var">rawRunId</span></a></span><span> </span><span class="annot"><span class="annottext">TerminationOptions
</span><a href="#local-6989586621680188259"><span class="hs-identifier hs-var">req</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">firstExecutionRunId</span><span>
</span><span id="line-734"></span><span>
</span><span id="line-735"></span><span>
</span><span id="line-736"></span><span class="hs-keyword">data</span><span> </span><span id="FollowOption"><span class="annot"><a href="Temporal.Client.html#FollowOption"><span class="hs-identifier hs-var">FollowOption</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FollowRuns"><span class="annot"><a href="Temporal.Client.html#FollowRuns"><span class="hs-identifier hs-var">FollowRuns</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="ThisRunOnly"><span class="annot"><a href="Temporal.Client.html#ThisRunOnly"><span class="hs-identifier hs-var">ThisRunOnly</span></a></span></span><span>
</span><span id="line-737"></span><span>
</span><span id="line-738"></span><span>
</span><span id="line-739"></span><span class="annot"><span class="hs-comment">-- | Thrown when 'FollowOption' is 'ThisRunOnly' and the workflow continues as new.</span></span><span>
</span><span id="line-740"></span><span class="hs-keyword">data</span><span> </span><span id="WorkflowContinuedAsNewException"><span class="annot"><a href="Temporal.Client.html#WorkflowContinuedAsNewException"><span class="hs-identifier hs-var">WorkflowContinuedAsNewException</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="WorkflowContinuedAsNewException"><span class="annot"><a href="Temporal.Client.html#WorkflowContinuedAsNewException"><span class="hs-identifier hs-var">WorkflowContinuedAsNewException</span></a></span></span><span>
</span><span id="line-741"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="workflowContinuedAsNewExceptionRunId"><span class="annot"><span class="annottext">WorkflowContinuedAsNewException -&gt; RunId
</span><a href="Temporal.Client.html#workflowContinuedAsNewExceptionRunId"><span class="hs-identifier hs-var hs-var">workflowContinuedAsNewExceptionRunId</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Temporal.Common.html#RunId"><span class="hs-identifier hs-type">RunId</span></a></span><span>
</span><span id="line-742"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-743"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680188322"><span id="local-6989586621680188328"><span id="local-6989586621680188332"><span class="annot"><span class="annottext">Int -&gt; WorkflowContinuedAsNewException -&gt; [Char] -&gt; [Char]
[WorkflowContinuedAsNewException] -&gt; [Char] -&gt; [Char]
WorkflowContinuedAsNewException -&gt; [Char]
(Int -&gt; WorkflowContinuedAsNewException -&gt; [Char] -&gt; [Char])
-&gt; (WorkflowContinuedAsNewException -&gt; [Char])
-&gt; ([WorkflowContinuedAsNewException] -&gt; [Char] -&gt; [Char])
-&gt; Show WorkflowContinuedAsNewException
forall a.
(Int -&gt; a -&gt; [Char] -&gt; [Char])
-&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; [Char] -&gt; [Char]) -&gt; Show a
$cshowsPrec :: Int -&gt; WorkflowContinuedAsNewException -&gt; [Char] -&gt; [Char]
showsPrec :: Int -&gt; WorkflowContinuedAsNewException -&gt; [Char] -&gt; [Char]
$cshow :: WorkflowContinuedAsNewException -&gt; [Char]
show :: WorkflowContinuedAsNewException -&gt; [Char]
$cshowList :: [WorkflowContinuedAsNewException] -&gt; [Char] -&gt; [Char]
showList :: [WorkflowContinuedAsNewException] -&gt; [Char] -&gt; [Char]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-744"></span><span>
</span><span id="line-745"></span><span>
</span><span id="line-746"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680188341"><span id="local-6989586621680188345"><span id="local-6989586621680188348"><span id="local-6989586621680188351"><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="Temporal.Client.html#WorkflowContinuedAsNewException"><span class="hs-identifier hs-type">WorkflowContinuedAsNewException</span></a></span></span></span></span></span><span>
</span><span id="line-747"></span><span>
</span><span id="line-748"></span><span>
</span><span id="line-749"></span><span class="annot"><span class="hs-comment">{- | Fetch the history of a Workflow execution as it currently stands.

This is useful for Workflow replay tests.
-}</span></span><span>
</span><span id="line-753"></span><span id="local-6989586621680186741"><span id="local-6989586621680186742"><span class="annot"><a href="Temporal.Client.html#fetchHistory"><span class="hs-identifier hs-type">fetchHistory</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621680186741"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.Types.html#WorkflowHandle"><span class="hs-identifier hs-type">WorkflowHandle</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186742"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680186741"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">History</span></span></span></span><span>
</span><span id="line-754"></span><span id="fetchHistory"><span class="annot"><span class="annottext">fetchHistory :: forall (m :: * -&gt; *) a. MonadIO m =&gt; WorkflowHandle a -&gt; m History
</span><a href="Temporal.Client.html#fetchHistory"><span class="hs-identifier hs-var hs-var">fetchHistory</span></a></span></span><span> </span><span id="local-6989586621680188376"><span class="annot"><span class="annottext">WorkflowHandle a
</span><a href="#local-6989586621680188376"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-755"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621680188377"><span class="hs-identifier hs-type">startingReq</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">GetWorkflowExecutionHistoryRequest</span></span><span>
</span><span id="line-756"></span><span>      </span><span id="local-6989586621680188377"><span class="annot"><span class="annottext">startingReq :: GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188377"><span class="hs-identifier hs-var hs-var hs-var">startingReq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-757"></span><span>        </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span>
</span><span id="line-758"></span><span>          </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; (GetWorkflowExecutionHistoryRequest
    -&gt; GetWorkflowExecutionHistoryRequest)
-&gt; GetWorkflowExecutionHistoryRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f GetWorkflowExecutionHistoryRequest Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f GetWorkflowExecutionHistoryRequest Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;namespace&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.namespace</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f GetWorkflowExecutionHistoryRequest Text)
-&gt; Text
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; GetWorkflowExecutionHistoryRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Namespace -&gt; Text
</span><a href="Temporal.Common.html#rawNamespace"><span class="hs-identifier hs-var">rawNamespace</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowHandle a
</span><a href="#local-6989586621680188376"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">workflowHandleClient</span><span class="hs-operator">.</span><span class="hs-identifier">clientConfig</span><span class="hs-operator">.</span><span class="hs-identifier">namespace</span><span>
</span><span id="line-759"></span><span>          </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; (GetWorkflowExecutionHistoryRequest
    -&gt; GetWorkflowExecutionHistoryRequest)
-&gt; GetWorkflowExecutionHistoryRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f GetWorkflowExecutionHistoryRequest WorkflowExecution
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f GetWorkflowExecutionHistoryRequest WorkflowExecution
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;execution&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.execution</span></span><span>
</span><span id="line-760"></span><span>            </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f GetWorkflowExecutionHistoryRequest WorkflowExecution)
-&gt; WorkflowExecution
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; GetWorkflowExecutionHistoryRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">WorkflowExecution
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span>
</span><span id="line-761"></span><span>                  </span><span class="annot"><span class="annottext">WorkflowExecution
-&gt; (WorkflowExecution -&gt; WorkflowExecution) -&gt; WorkflowExecution
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f WorkflowExecution Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f WorkflowExecution Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;workflowId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.workflowId</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f WorkflowExecution Text)
-&gt; Text -&gt; WorkflowExecution -&gt; WorkflowExecution
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">WorkflowId -&gt; Text
</span><a href="Temporal.Common.html#rawWorkflowId"><span class="hs-identifier hs-var">rawWorkflowId</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowHandle a
</span><a href="#local-6989586621680188376"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">workflowHandleWorkflowId</span><span>
</span><span id="line-762"></span><span>                  </span><span class="annot"><span class="annottext">WorkflowExecution
-&gt; (WorkflowExecution -&gt; WorkflowExecution) -&gt; WorkflowExecution
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">WorkflowHandle a
</span><a href="#local-6989586621680188376"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">workflowHandleRunId</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-763"></span><span>                    </span><span class="annot"><span class="annottext">Maybe RunId
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WorkflowExecution -&gt; WorkflowExecution
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">Prelude.id</span></span><span>
</span><span id="line-764"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621680188395"><span class="annot"><span class="annottext">RunId
</span><a href="#local-6989586621680188395"><span class="hs-identifier hs-var">rId</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LensLike' f WorkflowExecution Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f WorkflowExecution Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;runId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.runId</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f WorkflowExecution Text)
-&gt; Text -&gt; WorkflowExecution -&gt; WorkflowExecution
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">RunId -&gt; Text
</span><a href="Temporal.Common.html#rawRunId"><span class="hs-identifier hs-var">rawRunId</span></a></span><span> </span><span class="annot"><span class="annottext">RunId
</span><a href="#local-6989586621680188395"><span class="hs-identifier hs-var">rId</span></a></span><span>
</span><span id="line-765"></span><span>               </span><span class="hs-special">)</span><span>
</span><span id="line-766"></span><span>          </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; (GetWorkflowExecutionHistoryRequest
    -&gt; GetWorkflowExecutionHistoryRequest)
-&gt; GetWorkflowExecutionHistoryRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f GetWorkflowExecutionHistoryRequest Int32
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f GetWorkflowExecutionHistoryRequest Int32
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;maximumPageSize&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.maximumPageSize</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f GetWorkflowExecutionHistoryRequest Int32)
-&gt; Int32
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; GetWorkflowExecutionHistoryRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">100</span></span><span>
</span><span id="line-767"></span><span>          </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; (GetWorkflowExecutionHistoryRequest
    -&gt; GetWorkflowExecutionHistoryRequest)
-&gt; GetWorkflowExecutionHistoryRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f GetWorkflowExecutionHistoryRequest Bool
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f GetWorkflowExecutionHistoryRequest Bool
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;waitNewEvent&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.waitNewEvent</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f GetWorkflowExecutionHistoryRequest Bool)
-&gt; Bool
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; GetWorkflowExecutionHistoryRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-768"></span><span>          </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; (GetWorkflowExecutionHistoryRequest
    -&gt; GetWorkflowExecutionHistoryRequest)
-&gt; GetWorkflowExecutionHistoryRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike'
  f GetWorkflowExecutionHistoryRequest HistoryEventFilterType
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike'
  f GetWorkflowExecutionHistoryRequest HistoryEventFilterType
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;historyEventFilterType&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.historyEventFilterType</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike'
   f GetWorkflowExecutionHistoryRequest HistoryEventFilterType)
-&gt; HistoryEventFilterType
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; GetWorkflowExecutionHistoryRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">HistoryEventFilterType
</span><span class="hs-identifier hs-var">HISTORY_EVENT_FILTER_TYPE_ALL_EVENT</span></span><span>
</span><span id="line-769"></span><span>          </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; (GetWorkflowExecutionHistoryRequest
    -&gt; GetWorkflowExecutionHistoryRequest)
-&gt; GetWorkflowExecutionHistoryRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f GetWorkflowExecutionHistoryRequest Bool
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f GetWorkflowExecutionHistoryRequest Bool
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;skipArchival&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.skipArchival</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f GetWorkflowExecutionHistoryRequest Bool)
-&gt; Bool
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; GetWorkflowExecutionHistoryRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-770"></span><span>  </span><span id="local-6989586621680188430"><span class="annot"><a href="#local-6989586621680188430"><span class="hs-identifier hs-var">allEvents</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReaderT WorkflowClient m [HistoryEvent]
-&gt; WorkflowClient -&gt; m [HistoryEvent]
forall r (m :: * -&gt; *) a. ReaderT r m a -&gt; r -&gt; m a
</span><span class="hs-identifier hs-var">runReaderT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConduitT () HistoryEvent (ReaderT WorkflowClient m) ()
-&gt; ReaderT WorkflowClient m [HistoryEvent]
forall (m :: * -&gt; *) a. Monad m =&gt; ConduitT () a m () -&gt; m [a]
</span><span class="hs-identifier hs-var">sourceToList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FollowOption
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; ConduitT () HistoryEvent (ReaderT WorkflowClient m) ()
forall (m :: * -&gt; *).
(MonadIO m, HasWorkflowClient m) =&gt;
FollowOption
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; ConduitT () HistoryEvent m ()
</span><a href="Temporal.Client.html#streamEvents"><span class="hs-identifier hs-var">streamEvents</span></a></span><span> </span><span class="annot"><span class="annottext">FollowOption
</span><a href="Temporal.Client.html#FollowRuns"><span class="hs-identifier hs-var">FollowRuns</span></a></span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188377"><span class="hs-identifier hs-var">startingReq</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">WorkflowHandle a
</span><a href="#local-6989586621680188376"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">workflowHandleClient</span><span>
</span><span id="line-771"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">build</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">History.events</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.~</span></span><span> </span><span class="annot"><a href="#local-6989586621680188430"><span class="hs-identifier hs-type">allEvents</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-772"></span><span>
</span><span id="line-773"></span><span>
</span><span id="line-774"></span><span id="local-6989586621680186780"><span class="annot"><a href="Temporal.Client.html#applyNewExecutionRunId"><span class="hs-identifier hs-type">applyNewExecutionRunId</span></a></span><span>
</span><span id="line-775"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasField</span></span><span> </span><span class="annot"><a href="#local-6989586621680186780"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;newExecutionRunId&quot;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-776"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680186780"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-777"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">GetWorkflowExecutionHistoryRequest</span></span><span>
</span><span id="line-778"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">GetWorkflowExecutionHistoryRequest</span></span><span>
</span><span id="line-779"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">GetWorkflowExecutionHistoryRequest</span></span></span><span>
</span><span id="line-780"></span><span id="applyNewExecutionRunId"><span class="annot"><span class="annottext">applyNewExecutionRunId :: forall s.
HasField s &quot;newExecutionRunId&quot; Text =&gt;
s
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; Maybe GetWorkflowExecutionHistoryRequest
-&gt; Maybe GetWorkflowExecutionHistoryRequest
</span><a href="Temporal.Client.html#applyNewExecutionRunId"><span class="hs-identifier hs-var hs-var">applyNewExecutionRunId</span></a></span></span><span> </span><span id="local-6989586621680188453"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680188453"><span class="hs-identifier hs-var">attrs</span></a></span></span><span> </span><span id="local-6989586621680188454"><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188454"><span class="hs-identifier hs-var">req</span></a></span></span><span> </span><span id="local-6989586621680188455"><span class="annot"><span class="annottext">Maybe GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188455"><span class="hs-identifier hs-var">alt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-781"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680188453"><span class="hs-identifier hs-var">attrs</span></a></span><span> </span><span class="annot"><span class="annottext">s -&gt; FoldLike Text s s Text Text -&gt; Text
forall s a t b. s -&gt; FoldLike a s t a b -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">FoldLike Text s s Text Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;newExecutionRunId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">History.newExecutionRunId</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-782"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188455"><span class="hs-identifier hs-var">alt</span></a></span><span>
</span><span id="line-783"></span><span>    </span><span class="hs-keyword">else</span><span>
</span><span id="line-784"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680188457"><span class="annot"><span class="annottext">exec :: WorkflowExecution
</span><a href="#local-6989586621680188457"><span class="hs-identifier hs-var hs-var">exec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188454"><span class="hs-identifier hs-var">req</span></a></span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; FoldLike
     WorkflowExecution
     GetWorkflowExecutionHistoryRequest
     GetWorkflowExecutionHistoryRequest
     WorkflowExecution
     WorkflowExecution
-&gt; WorkflowExecution
forall s a t b. s -&gt; FoldLike a s t a b -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">FoldLike
  WorkflowExecution
  GetWorkflowExecutionHistoryRequest
  GetWorkflowExecutionHistoryRequest
  WorkflowExecution
  WorkflowExecution
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;execution&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.execution</span></span><span>
</span><span id="line-785"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; Maybe GetWorkflowExecutionHistoryRequest
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span>
</span><span id="line-786"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188454"><span class="hs-identifier hs-var">req</span></a></span><span>
</span><span id="line-787"></span><span>              </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; (GetWorkflowExecutionHistoryRequest
    -&gt; GetWorkflowExecutionHistoryRequest)
-&gt; GetWorkflowExecutionHistoryRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f GetWorkflowExecutionHistoryRequest WorkflowExecution
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f GetWorkflowExecutionHistoryRequest WorkflowExecution
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;execution&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.execution</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f GetWorkflowExecutionHistoryRequest WorkflowExecution)
-&gt; WorkflowExecution
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; GetWorkflowExecutionHistoryRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WorkflowExecution
</span><a href="#local-6989586621680188457"><span class="hs-identifier hs-var">exec</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowExecution
-&gt; (WorkflowExecution -&gt; WorkflowExecution) -&gt; WorkflowExecution
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f WorkflowExecution Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f WorkflowExecution Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;runId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.runId</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f WorkflowExecution Text)
-&gt; Text -&gt; WorkflowExecution -&gt; WorkflowExecution
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680188453"><span class="hs-identifier hs-var">attrs</span></a></span><span> </span><span class="annot"><span class="annottext">s -&gt; FoldLike Text s s Text Text -&gt; Text
forall s a t b. s -&gt; FoldLike a s t a b -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">FoldLike Text s s Text Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;newExecutionRunId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">History.newExecutionRunId</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-788"></span><span>              </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; (GetWorkflowExecutionHistoryRequest
    -&gt; GetWorkflowExecutionHistoryRequest)
-&gt; GetWorkflowExecutionHistoryRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f GetWorkflowExecutionHistoryRequest ByteString
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f GetWorkflowExecutionHistoryRequest ByteString
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;nextPageToken&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.nextPageToken</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f GetWorkflowExecutionHistoryRequest ByteString)
-&gt; ByteString
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; GetWorkflowExecutionHistoryRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-789"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-790"></span><span>
</span><span id="line-791"></span><span>
</span><span id="line-792"></span><span class="annot"><span class="hs-comment">{- | Workflow execution history is represented as a series of events. This function allows you to
subscribe to those events and process them as they are received. As an example, this is used to implement
'waitWorkflowResult'.
-}</span></span><span>
</span><span id="line-796"></span><span id="local-6989586621680186774"><span class="annot"><a href="Temporal.Client.html#streamEvents"><span class="hs-identifier hs-type">streamEvents</span></a></span><span>
</span><span id="line-797"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621680186774"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186774"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-798"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Client.html#FollowOption"><span class="hs-identifier hs-type">FollowOption</span></a></span><span>
</span><span id="line-799"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">GetWorkflowExecutionHistoryRequest</span></span><span>
</span><span id="line-800"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ConduitT</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HistoryEvent</span></span><span> </span><span class="annot"><a href="#local-6989586621680186774"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-801"></span><span id="streamEvents"><span class="annot"><span class="annottext">streamEvents :: forall (m :: * -&gt; *).
(MonadIO m, HasWorkflowClient m) =&gt;
FollowOption
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; ConduitT () HistoryEvent m ()
</span><a href="Temporal.Client.html#streamEvents"><span class="hs-identifier hs-var hs-var">streamEvents</span></a></span></span><span> </span><span id="local-6989586621680188535"><span class="annot"><span class="annottext">FollowOption
</span><a href="#local-6989586621680188535"><span class="hs-identifier hs-var">followOpt</span></a></span></span><span> </span><span id="local-6989586621680188536"><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188536"><span class="hs-identifier hs-var">baseReq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConduitT () HistoryEvent m WorkflowClient
forall (m :: * -&gt; *). HasWorkflowClient m =&gt; m WorkflowClient
</span><a href="Temporal.Client.html#askWorkflowClient"><span class="hs-identifier hs-var">askWorkflowClient</span></a></span><span> </span><span class="annot"><span class="annottext">ConduitT () HistoryEvent m WorkflowClient
-&gt; (WorkflowClient -&gt; ConduitT () HistoryEvent m ())
-&gt; ConduitT () HistoryEvent m ()
forall a b.
ConduitT () HistoryEvent m a
-&gt; (a -&gt; ConduitT () HistoryEvent m b)
-&gt; ConduitT () HistoryEvent m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680188537"><span class="annot"><span class="annottext">WorkflowClient
</span><a href="#local-6989586621680188537"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WorkflowClient
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; ConduitT () HistoryEvent m ()
</span><a href="#local-6989586621680188538"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowClient
</span><a href="#local-6989586621680188537"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188536"><span class="hs-identifier hs-var">baseReq</span></a></span><span>
</span><span id="line-802"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-803"></span><span>    </span><span id="local-6989586621680188538"><span class="annot"><span class="annottext">go :: WorkflowClient
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; ConduitT () HistoryEvent m ()
</span><a href="#local-6989586621680188538"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621680188539"><span class="annot"><span class="annottext">WorkflowClient
</span><a href="#local-6989586621680188539"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621680188540"><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188540"><span class="hs-identifier hs-var">req</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-804"></span><span>      </span><span id="local-6989586621680188541"><span class="annot"><a href="#local-6989586621680188541"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either RpcError GetWorkflowExecutionHistoryResponse)
-&gt; ConduitT
     ()
     HistoryEvent
     m
     (Either RpcError GetWorkflowExecutionHistoryResponse)
forall a. IO a -&gt; ConduitT () HistoryEvent m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO (Either RpcError GetWorkflowExecutionHistoryResponse)
 -&gt; ConduitT
      ()
      HistoryEvent
      m
      (Either RpcError GetWorkflowExecutionHistoryResponse))
-&gt; IO (Either RpcError GetWorkflowExecutionHistoryResponse)
-&gt; ConduitT
     ()
     HistoryEvent
     m
     (Either RpcError GetWorkflowExecutionHistoryResponse)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Client
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; IO (Either RpcError GetWorkflowExecutionHistoryResponse)
</span><span class="hs-identifier hs-var">getWorkflowExecutionHistory</span></span><span> </span><span class="annot"><span class="annottext">WorkflowClient
</span><a href="#local-6989586621680188539"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">clientCore</span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188540"><span class="hs-identifier hs-var">req</span></a></span><span>
</span><span id="line-805"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621680188541"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-806"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621680188543"><span class="annot"><span class="annottext">RpcError
</span><a href="#local-6989586621680188543"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RpcError -&gt; ConduitT () HistoryEvent m ()
forall (m :: * -&gt; *) e a. (MonadIO m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">RpcError
</span><a href="#local-6989586621680188543"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-807"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621680188544"><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryResponse
</span><a href="#local-6989586621680188544"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-808"></span><span>          </span><span class="annot"><span class="annottext">[HistoryEvent] -&gt; ConduitT () (Element [HistoryEvent]) m ()
forall (m :: * -&gt; *) mono i.
(Monad m, MonoFoldable mono) =&gt;
mono -&gt; ConduitT i (Element mono) m ()
</span><span class="hs-identifier hs-var">yieldMany</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryResponse
</span><a href="#local-6989586621680188544"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryResponse
-&gt; FoldLike
     [HistoryEvent]
     GetWorkflowExecutionHistoryResponse
     GetWorkflowExecutionHistoryResponse
     [HistoryEvent]
     [HistoryEvent]
-&gt; [HistoryEvent]
forall s a t b. s -&gt; FoldLike a s t a b -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">LensLike'
  (Constant [HistoryEvent])
  GetWorkflowExecutionHistoryResponse
  History
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;history&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.history</span></span><span> </span><span class="annot"><span class="annottext">LensLike'
  (Constant [HistoryEvent])
  GetWorkflowExecutionHistoryResponse
  History
-&gt; (([HistoryEvent] -&gt; Constant [HistoryEvent] [HistoryEvent])
    -&gt; History -&gt; Constant [HistoryEvent] History)
-&gt; FoldLike
     [HistoryEvent]
     GetWorkflowExecutionHistoryResponse
     GetWorkflowExecutionHistoryResponse
     [HistoryEvent]
     [HistoryEvent]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">([HistoryEvent] -&gt; Constant [HistoryEvent] [HistoryEvent])
-&gt; History -&gt; Constant [HistoryEvent] History
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;events&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">History.events</span></span><span class="hs-special">)</span><span>
</span><span id="line-809"></span><span>          </span><span class="annot"><span class="annottext">Maybe GetWorkflowExecutionHistoryRequest
-&gt; (GetWorkflowExecutionHistoryRequest
    -&gt; ConduitT () HistoryEvent m ())
-&gt; ConduitT () HistoryEvent m ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><span class="hs-identifier hs-var">for_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; GetWorkflowExecutionHistoryResponse
-&gt; Maybe GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188547"><span class="hs-identifier hs-var">decideLoop</span></a></span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188536"><span class="hs-identifier hs-var">baseReq</span></a></span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryResponse
</span><a href="#local-6989586621680188544"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WorkflowClient
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; ConduitT () HistoryEvent m ()
</span><a href="#local-6989586621680188538"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowClient
</span><a href="#local-6989586621680188539"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-810"></span><span>    </span><span class="annot"><a href="#local-6989586621680188547"><span class="hs-identifier hs-type">decideLoop</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">GetWorkflowExecutionHistoryRequest</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">GetWorkflowExecutionHistoryResponse</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">GetWorkflowExecutionHistoryRequest</span></span><span>
</span><span id="line-811"></span><span>    </span><span id="local-6989586621680188547"><span class="annot"><span class="annottext">decideLoop :: GetWorkflowExecutionHistoryRequest
-&gt; GetWorkflowExecutionHistoryResponse
-&gt; Maybe GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188547"><span class="hs-identifier hs-var hs-var">decideLoop</span></a></span></span><span> </span><span id="local-6989586621680188548"><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188548"><span class="hs-identifier hs-var">req</span></a></span></span><span> </span><span id="local-6989586621680188549"><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryResponse
</span><a href="#local-6989586621680188549"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-812"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Vector HistoryEvent -&gt; Bool
forall a. Vector a -&gt; Bool
</span><span class="hs-identifier hs-var">V.null</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryResponse
</span><a href="#local-6989586621680188549"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryResponse
-&gt; FoldLike
     (Vector HistoryEvent)
     GetWorkflowExecutionHistoryResponse
     GetWorkflowExecutionHistoryResponse
     (Vector HistoryEvent)
     (Vector HistoryEvent)
-&gt; Vector HistoryEvent
forall s a t b. s -&gt; FoldLike a s t a b -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">LensLike'
  (Constant (Vector HistoryEvent))
  GetWorkflowExecutionHistoryResponse
  History
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;history&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.history</span></span><span> </span><span class="annot"><span class="annottext">LensLike'
  (Constant (Vector HistoryEvent))
  GetWorkflowExecutionHistoryResponse
  History
-&gt; ((Vector HistoryEvent
     -&gt; Constant (Vector HistoryEvent) (Vector HistoryEvent))
    -&gt; History -&gt; Constant (Vector HistoryEvent) History)
-&gt; FoldLike
     (Vector HistoryEvent)
     GetWorkflowExecutionHistoryResponse
     GetWorkflowExecutionHistoryResponse
     (Vector HistoryEvent)
     (Vector HistoryEvent)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Vector HistoryEvent
 -&gt; Constant (Vector HistoryEvent) (Vector HistoryEvent))
-&gt; History -&gt; Constant (Vector HistoryEvent) History
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;vec'events&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">History.vec'events</span></span><span class="hs-special">)</span><span>
</span><span id="line-813"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188552"><span class="hs-identifier hs-var">nextPage</span></a></span><span>
</span><span id="line-814"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Vector HistoryEvent -&gt; HistoryEvent
forall a. Vector a -&gt; a
</span><span class="hs-identifier hs-var">V.last</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryResponse
</span><a href="#local-6989586621680188549"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryResponse
-&gt; FoldLike
     (Vector HistoryEvent)
     GetWorkflowExecutionHistoryResponse
     GetWorkflowExecutionHistoryResponse
     (Vector HistoryEvent)
     (Vector HistoryEvent)
-&gt; Vector HistoryEvent
forall s a t b. s -&gt; FoldLike a s t a b -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">LensLike'
  (Constant (Vector HistoryEvent))
  GetWorkflowExecutionHistoryResponse
  History
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;history&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.history</span></span><span> </span><span class="annot"><span class="annottext">LensLike'
  (Constant (Vector HistoryEvent))
  GetWorkflowExecutionHistoryResponse
  History
-&gt; ((Vector HistoryEvent
     -&gt; Constant (Vector HistoryEvent) (Vector HistoryEvent))
    -&gt; History -&gt; Constant (Vector HistoryEvent) History)
-&gt; FoldLike
     (Vector HistoryEvent)
     GetWorkflowExecutionHistoryResponse
     GetWorkflowExecutionHistoryResponse
     (Vector HistoryEvent)
     (Vector HistoryEvent)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Vector HistoryEvent
 -&gt; Constant (Vector HistoryEvent) (Vector HistoryEvent))
-&gt; History -&gt; Constant (Vector HistoryEvent) History
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;vec'events&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">History.vec'events</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HistoryEvent
-&gt; FoldLike
     (Maybe HistoryEvent'Attributes)
     HistoryEvent
     HistoryEvent
     (Maybe HistoryEvent'Attributes)
     (Maybe HistoryEvent'Attributes)
-&gt; Maybe HistoryEvent'Attributes
forall s a t b. s -&gt; FoldLike a s t a b -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">FoldLike
  (Maybe HistoryEvent'Attributes)
  HistoryEvent
  HistoryEvent
  (Maybe HistoryEvent'Attributes)
  (Maybe HistoryEvent'Attributes)
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;maybe'attributes&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">History.maybe'attributes</span></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-815"></span><span>          </span><span class="annot"><span class="annottext">Maybe HistoryEvent'Attributes
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188552"><span class="hs-identifier hs-var">nextPage</span></a></span><span>
</span><span id="line-816"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621680188554"><span class="annot"><span class="annottext">HistoryEvent'Attributes
</span><a href="#local-6989586621680188554"><span class="hs-identifier hs-var">attrType</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-817"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HistoryEvent'Attributes
</span><a href="#local-6989586621680188554"><span class="hs-identifier hs-var">attrType</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-818"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">HistoryEvent'WorkflowExecutionCompletedEventAttributes</span></span><span> </span><span id="local-6989586621680188555"><span class="annot"><span class="annottext">WorkflowExecutionCompletedEventAttributes
</span><a href="#local-6989586621680188555"><span class="hs-identifier hs-var">attrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FollowOption
</span><a href="#local-6989586621680188535"><span class="hs-identifier hs-var">followOpt</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-819"></span><span>                </span><span class="annot"><span class="annottext">FollowOption
</span><a href="Temporal.Client.html#FollowRuns"><span class="hs-identifier hs-var">FollowRuns</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionCompletedEventAttributes
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; Maybe GetWorkflowExecutionHistoryRequest
-&gt; Maybe GetWorkflowExecutionHistoryRequest
forall s.
HasField s &quot;newExecutionRunId&quot; Text =&gt;
s
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; Maybe GetWorkflowExecutionHistoryRequest
-&gt; Maybe GetWorkflowExecutionHistoryRequest
</span><a href="Temporal.Client.html#applyNewExecutionRunId"><span class="hs-identifier hs-var">applyNewExecutionRunId</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionCompletedEventAttributes
</span><a href="#local-6989586621680188555"><span class="hs-identifier hs-var">attrs</span></a></span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188548"><span class="hs-identifier hs-var">req</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188552"><span class="hs-identifier hs-var">nextPage</span></a></span><span>
</span><span id="line-820"></span><span>                </span><span class="annot"><span class="annottext">FollowOption
</span><a href="Temporal.Client.html#ThisRunOnly"><span class="hs-identifier hs-var">ThisRunOnly</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188552"><span class="hs-identifier hs-var">nextPage</span></a></span><span>
</span><span id="line-821"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">HistoryEvent'WorkflowExecutionFailedEventAttributes</span></span><span> </span><span id="local-6989586621680188556"><span class="annot"><span class="annottext">WorkflowExecutionFailedEventAttributes
</span><a href="#local-6989586621680188556"><span class="hs-identifier hs-var">attrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FollowOption
</span><a href="#local-6989586621680188535"><span class="hs-identifier hs-var">followOpt</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-822"></span><span>                </span><span class="annot"><span class="annottext">FollowOption
</span><a href="Temporal.Client.html#FollowRuns"><span class="hs-identifier hs-var">FollowRuns</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionFailedEventAttributes
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; Maybe GetWorkflowExecutionHistoryRequest
-&gt; Maybe GetWorkflowExecutionHistoryRequest
forall s.
HasField s &quot;newExecutionRunId&quot; Text =&gt;
s
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; Maybe GetWorkflowExecutionHistoryRequest
-&gt; Maybe GetWorkflowExecutionHistoryRequest
</span><a href="Temporal.Client.html#applyNewExecutionRunId"><span class="hs-identifier hs-var">applyNewExecutionRunId</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionFailedEventAttributes
</span><a href="#local-6989586621680188556"><span class="hs-identifier hs-var">attrs</span></a></span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188548"><span class="hs-identifier hs-var">req</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188552"><span class="hs-identifier hs-var">nextPage</span></a></span><span>
</span><span id="line-823"></span><span>                </span><span class="annot"><span class="annottext">FollowOption
</span><a href="Temporal.Client.html#ThisRunOnly"><span class="hs-identifier hs-var">ThisRunOnly</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188552"><span class="hs-identifier hs-var">nextPage</span></a></span><span>
</span><span id="line-824"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">HistoryEvent'WorkflowExecutionTimedOutEventAttributes</span></span><span> </span><span id="local-6989586621680188557"><span class="annot"><span class="annottext">WorkflowExecutionTimedOutEventAttributes
</span><a href="#local-6989586621680188557"><span class="hs-identifier hs-var">attrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FollowOption
</span><a href="#local-6989586621680188535"><span class="hs-identifier hs-var">followOpt</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-825"></span><span>                </span><span class="annot"><span class="annottext">FollowOption
</span><a href="Temporal.Client.html#FollowRuns"><span class="hs-identifier hs-var">FollowRuns</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionTimedOutEventAttributes
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; Maybe GetWorkflowExecutionHistoryRequest
-&gt; Maybe GetWorkflowExecutionHistoryRequest
forall s.
HasField s &quot;newExecutionRunId&quot; Text =&gt;
s
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; Maybe GetWorkflowExecutionHistoryRequest
-&gt; Maybe GetWorkflowExecutionHistoryRequest
</span><a href="Temporal.Client.html#applyNewExecutionRunId"><span class="hs-identifier hs-var">applyNewExecutionRunId</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionTimedOutEventAttributes
</span><a href="#local-6989586621680188557"><span class="hs-identifier hs-var">attrs</span></a></span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188548"><span class="hs-identifier hs-var">req</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188552"><span class="hs-identifier hs-var">nextPage</span></a></span><span>
</span><span id="line-826"></span><span>                </span><span class="annot"><span class="annottext">FollowOption
</span><a href="Temporal.Client.html#ThisRunOnly"><span class="hs-identifier hs-var">ThisRunOnly</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188552"><span class="hs-identifier hs-var">nextPage</span></a></span><span>
</span><span id="line-827"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">HistoryEvent'WorkflowExecutionContinuedAsNewEventAttributes</span></span><span> </span><span id="local-6989586621680188558"><span class="annot"><span class="annottext">WorkflowExecutionContinuedAsNewEventAttributes
</span><a href="#local-6989586621680188558"><span class="hs-identifier hs-var">attrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FollowOption
</span><a href="#local-6989586621680188535"><span class="hs-identifier hs-var">followOpt</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-828"></span><span>                </span><span class="annot"><span class="annottext">FollowOption
</span><a href="Temporal.Client.html#FollowRuns"><span class="hs-identifier hs-var">FollowRuns</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-829"></span><span>                  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionContinuedAsNewEventAttributes
</span><a href="#local-6989586621680188558"><span class="hs-identifier hs-var">attrs</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionContinuedAsNewEventAttributes
-&gt; FoldLike
     Text
     WorkflowExecutionContinuedAsNewEventAttributes
     WorkflowExecutionContinuedAsNewEventAttributes
     Text
     Text
-&gt; Text
forall s a t b. s -&gt; FoldLike a s t a b -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">FoldLike
  Text
  WorkflowExecutionContinuedAsNewEventAttributes
  WorkflowExecutionContinuedAsNewEventAttributes
  Text
  Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;newExecutionRunId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">History.newExecutionRunId</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-830"></span><span>                    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Maybe GetWorkflowExecutionHistoryRequest
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Expected newExecutionRunId in WorkflowExecutionContinuedAsNewEventAttributes&quot;</span></span><span>
</span><span id="line-831"></span><span>                    </span><span class="hs-keyword">else</span><span>
</span><span id="line-832"></span><span>                      </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; Maybe GetWorkflowExecutionHistoryRequest
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(GetWorkflowExecutionHistoryRequest
 -&gt; Maybe GetWorkflowExecutionHistoryRequest)
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; Maybe GetWorkflowExecutionHistoryRequest
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-833"></span><span>                        </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188548"><span class="hs-identifier hs-var">req</span></a></span><span>
</span><span id="line-834"></span><span>                          </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; (GetWorkflowExecutionHistoryRequest
    -&gt; GetWorkflowExecutionHistoryRequest)
-&gt; GetWorkflowExecutionHistoryRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f GetWorkflowExecutionHistoryRequest ByteString
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f GetWorkflowExecutionHistoryRequest ByteString
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;nextPageToken&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.nextPageToken</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f GetWorkflowExecutionHistoryRequest ByteString)
-&gt; ByteString
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; GetWorkflowExecutionHistoryRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-835"></span><span>                          </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; (GetWorkflowExecutionHistoryRequest
    -&gt; GetWorkflowExecutionHistoryRequest)
-&gt; GetWorkflowExecutionHistoryRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f GetWorkflowExecutionHistoryRequest WorkflowExecution
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f GetWorkflowExecutionHistoryRequest WorkflowExecution
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;execution&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.execution</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f GetWorkflowExecutionHistoryRequest WorkflowExecution)
-&gt; (WorkflowExecution -&gt; WorkflowExecution)
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; GetWorkflowExecutionHistoryRequest
forall s t a b. Setter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LensLike' f WorkflowExecution Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f WorkflowExecution Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;runId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.runId</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f WorkflowExecution Text)
-&gt; Text -&gt; WorkflowExecution -&gt; WorkflowExecution
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WorkflowExecutionContinuedAsNewEventAttributes
</span><a href="#local-6989586621680188558"><span class="hs-identifier hs-var">attrs</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowExecutionContinuedAsNewEventAttributes
-&gt; FoldLike
     Text
     WorkflowExecutionContinuedAsNewEventAttributes
     WorkflowExecutionContinuedAsNewEventAttributes
     Text
     Text
-&gt; Text
forall s a t b. s -&gt; FoldLike a s t a b -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">FoldLike
  Text
  WorkflowExecutionContinuedAsNewEventAttributes
  WorkflowExecutionContinuedAsNewEventAttributes
  Text
  Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;newExecutionRunId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">History.newExecutionRunId</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-836"></span><span>                </span><span class="annot"><span class="annottext">FollowOption
</span><a href="Temporal.Client.html#ThisRunOnly"><span class="hs-identifier hs-var">ThisRunOnly</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe GetWorkflowExecutionHistoryRequest
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-837"></span><span>              </span><span class="annot"><span class="annottext">HistoryEvent'Attributes
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe GetWorkflowExecutionHistoryRequest
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-838"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-839"></span><span>        </span><span id="local-6989586621680188552"><span class="annot"><span class="annottext">nextPage :: Maybe GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188552"><span class="hs-identifier hs-var hs-var">nextPage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-840"></span><span>          </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryResponse
</span><a href="#local-6989586621680188549"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryResponse
-&gt; FoldLike
     ByteString
     GetWorkflowExecutionHistoryResponse
     GetWorkflowExecutionHistoryResponse
     ByteString
     ByteString
-&gt; ByteString
forall s a t b. s -&gt; FoldLike a s t a b -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">FoldLike
  ByteString
  GetWorkflowExecutionHistoryResponse
  GetWorkflowExecutionHistoryResponse
  ByteString
  ByteString
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;nextPageToken&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.nextPageToken</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-841"></span><span>            </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe GetWorkflowExecutionHistoryRequest
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-842"></span><span>            </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; Maybe GetWorkflowExecutionHistoryRequest
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188548"><span class="hs-identifier hs-var">req</span></a></span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; (GetWorkflowExecutionHistoryRequest
    -&gt; GetWorkflowExecutionHistoryRequest)
-&gt; GetWorkflowExecutionHistoryRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f GetWorkflowExecutionHistoryRequest ByteString
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f GetWorkflowExecutionHistoryRequest ByteString
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;nextPageToken&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.nextPageToken</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f GetWorkflowExecutionHistoryRequest ByteString)
-&gt; ByteString
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; GetWorkflowExecutionHistoryRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryResponse
</span><a href="#local-6989586621680188549"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryResponse
-&gt; FoldLike
     ByteString
     GetWorkflowExecutionHistoryResponse
     GetWorkflowExecutionHistoryResponse
     ByteString
     ByteString
-&gt; ByteString
forall s a t b. s -&gt; FoldLike a s t a b -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">FoldLike
  ByteString
  GetWorkflowExecutionHistoryResponse
  GetWorkflowExecutionHistoryResponse
  ByteString
  ByteString
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;nextPageToken&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.nextPageToken</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-843"></span><span>
</span><span id="line-844"></span><span>
</span><span id="line-845"></span><span id="local-6989586621680186355"><span class="annot"><a href="Temporal.Client.html#waitResult"><span class="hs-identifier hs-type">waitResult</span></a></span><span>
</span><span id="line-846"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621680186355"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Client.html#HasWorkflowClient"><span class="hs-identifier hs-type">HasWorkflowClient</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680186355"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-847"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Common.html#WorkflowId"><span class="hs-identifier hs-type">WorkflowId</span></a></span><span>
</span><span id="line-848"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Temporal.Common.html#RunId"><span class="hs-identifier hs-type">RunId</span></a></span><span>
</span><span id="line-849"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Common.html#Namespace"><span class="hs-identifier hs-type">Namespace</span></a></span><span> </span><span class="hs-comment">{- options incl namespace -}</span><span>
</span><span id="line-850"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680186355"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">HistoryEvent</span></span><span class="hs-special">)</span></span><span>
</span><span id="line-851"></span><span id="waitResult"><span class="annot"><span class="annottext">waitResult :: forall (m :: * -&gt; *).
(MonadIO m, HasWorkflowClient m) =&gt;
WorkflowId -&gt; Maybe RunId -&gt; Namespace -&gt; m (Maybe HistoryEvent)
</span><a href="Temporal.Client.html#waitResult"><span class="hs-identifier hs-var hs-var">waitResult</span></a></span></span><span> </span><span id="local-6989586621680188590"><span class="annot"><span class="annottext">WorkflowId
</span><a href="#local-6989586621680188590"><span class="hs-identifier hs-var">wfId</span></a></span></span><span> </span><span id="local-6989586621680188591"><span class="annot"><span class="annottext">Maybe RunId
</span><a href="#local-6989586621680188591"><span class="hs-identifier hs-var">mrId</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Common.html#Namespace"><span class="hs-identifier hs-type">Namespace</span></a></span><span> </span><span id="local-6989586621680188593"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680188593"><span class="hs-identifier hs-var">ns</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-852"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621680188594"><span class="hs-identifier hs-type">startingReq</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">GetWorkflowExecutionHistoryRequest</span></span><span>
</span><span id="line-853"></span><span>      </span><span id="local-6989586621680188594"><span class="annot"><span class="annottext">startingReq :: GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188594"><span class="hs-identifier hs-var hs-var">startingReq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-854"></span><span>        </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span>
</span><span id="line-855"></span><span>          </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; (GetWorkflowExecutionHistoryRequest
    -&gt; GetWorkflowExecutionHistoryRequest)
-&gt; GetWorkflowExecutionHistoryRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f GetWorkflowExecutionHistoryRequest Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f GetWorkflowExecutionHistoryRequest Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;namespace&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.namespace</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f GetWorkflowExecutionHistoryRequest Text)
-&gt; Text
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; GetWorkflowExecutionHistoryRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680188593"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-856"></span><span>          </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; (GetWorkflowExecutionHistoryRequest
    -&gt; GetWorkflowExecutionHistoryRequest)
-&gt; GetWorkflowExecutionHistoryRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f GetWorkflowExecutionHistoryRequest WorkflowExecution
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f GetWorkflowExecutionHistoryRequest WorkflowExecution
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;execution&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.execution</span></span><span>
</span><span id="line-857"></span><span>            </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f GetWorkflowExecutionHistoryRequest WorkflowExecution)
-&gt; WorkflowExecution
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; GetWorkflowExecutionHistoryRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">WorkflowExecution
forall msg. Message msg =&gt; msg
</span><span class="hs-identifier hs-var">defMessage</span></span><span>
</span><span id="line-858"></span><span>                  </span><span class="annot"><span class="annottext">WorkflowExecution
-&gt; (WorkflowExecution -&gt; WorkflowExecution) -&gt; WorkflowExecution
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f WorkflowExecution Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f WorkflowExecution Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;workflowId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.workflowId</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f WorkflowExecution Text)
-&gt; Text -&gt; WorkflowExecution -&gt; WorkflowExecution
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">WorkflowId -&gt; Text
</span><a href="Temporal.Common.html#rawWorkflowId"><span class="hs-identifier hs-var">rawWorkflowId</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowId
</span><a href="#local-6989586621680188590"><span class="hs-identifier hs-var">wfId</span></a></span><span>
</span><span id="line-859"></span><span>                  </span><span class="annot"><span class="annottext">WorkflowExecution
-&gt; (WorkflowExecution -&gt; WorkflowExecution) -&gt; WorkflowExecution
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe RunId
</span><a href="#local-6989586621680188591"><span class="hs-identifier hs-var">mrId</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-860"></span><span>                    </span><span class="annot"><span class="annottext">Maybe RunId
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WorkflowExecution -&gt; WorkflowExecution
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">Prelude.id</span></span><span>
</span><span id="line-861"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621680188610"><span class="annot"><span class="annottext">RunId
</span><a href="#local-6989586621680188610"><span class="hs-identifier hs-var">rId</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LensLike' f WorkflowExecution Text
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f WorkflowExecution Text
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;runId&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">Common.runId</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f WorkflowExecution Text)
-&gt; Text -&gt; WorkflowExecution -&gt; WorkflowExecution
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">RunId -&gt; Text
</span><a href="Temporal.Common.html#rawRunId"><span class="hs-identifier hs-var">rawRunId</span></a></span><span> </span><span class="annot"><span class="annottext">RunId
</span><a href="#local-6989586621680188610"><span class="hs-identifier hs-var">rId</span></a></span><span>
</span><span id="line-862"></span><span>               </span><span class="hs-special">)</span><span>
</span><span id="line-863"></span><span>          </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; (GetWorkflowExecutionHistoryRequest
    -&gt; GetWorkflowExecutionHistoryRequest)
-&gt; GetWorkflowExecutionHistoryRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f GetWorkflowExecutionHistoryRequest Int32
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f GetWorkflowExecutionHistoryRequest Int32
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;maximumPageSize&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.maximumPageSize</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f GetWorkflowExecutionHistoryRequest Int32)
-&gt; Int32
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; GetWorkflowExecutionHistoryRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">100</span></span><span>
</span><span id="line-864"></span><span>          </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; (GetWorkflowExecutionHistoryRequest
    -&gt; GetWorkflowExecutionHistoryRequest)
-&gt; GetWorkflowExecutionHistoryRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f GetWorkflowExecutionHistoryRequest Bool
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f GetWorkflowExecutionHistoryRequest Bool
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;waitNewEvent&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.waitNewEvent</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f GetWorkflowExecutionHistoryRequest Bool)
-&gt; Bool
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; GetWorkflowExecutionHistoryRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-865"></span><span>          </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; (GetWorkflowExecutionHistoryRequest
    -&gt; GetWorkflowExecutionHistoryRequest)
-&gt; GetWorkflowExecutionHistoryRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike'
  f GetWorkflowExecutionHistoryRequest HistoryEventFilterType
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike'
  f GetWorkflowExecutionHistoryRequest HistoryEventFilterType
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;historyEventFilterType&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.historyEventFilterType</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike'
   f GetWorkflowExecutionHistoryRequest HistoryEventFilterType)
-&gt; HistoryEventFilterType
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; GetWorkflowExecutionHistoryRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">HistoryEventFilterType
</span><span class="hs-identifier hs-var">HISTORY_EVENT_FILTER_TYPE_CLOSE_EVENT</span></span><span>
</span><span id="line-866"></span><span>          </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
-&gt; (GetWorkflowExecutionHistoryRequest
    -&gt; GetWorkflowExecutionHistoryRequest)
-&gt; GetWorkflowExecutionHistoryRequest
forall s t. s -&gt; (s -&gt; t) -&gt; t
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">LensLike' f GetWorkflowExecutionHistoryRequest Bool
forall {f :: * -&gt; *}.
Identical f =&gt;
LensLike' f GetWorkflowExecutionHistoryRequest Bool
forall (f :: * -&gt; *) s a.
(Functor f, HasField s &quot;skipArchival&quot; a) =&gt;
LensLike' f s a
</span><span class="hs-identifier hs-var">RR.skipArchival</span></span><span> </span><span class="annot"><span class="annottext">(forall {f :: * -&gt; *}.
 Identical f =&gt;
 LensLike' f GetWorkflowExecutionHistoryRequest Bool)
-&gt; Bool
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; GetWorkflowExecutionHistoryRequest
forall s t a b. Setter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-867"></span><span>  </span><span class="annot"><span class="annottext">ConduitT () HistoryEvent m ()
-&gt; ConduitT HistoryEvent Void m (Maybe HistoryEvent)
-&gt; m (Maybe HistoryEvent)
forall (m :: * -&gt; *) a r.
Monad m =&gt;
ConduitT () a m () -&gt; ConduitT a Void m r -&gt; m r
</span><span class="hs-identifier hs-var">connect</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FollowOption
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; ConduitT () HistoryEvent m ()
forall (m :: * -&gt; *).
(MonadIO m, HasWorkflowClient m) =&gt;
FollowOption
-&gt; GetWorkflowExecutionHistoryRequest
-&gt; ConduitT () HistoryEvent m ()
</span><a href="Temporal.Client.html#streamEvents"><span class="hs-identifier hs-var">streamEvents</span></a></span><span> </span><span class="annot"><span class="annottext">FollowOption
</span><a href="Temporal.Client.html#FollowRuns"><span class="hs-identifier hs-var">FollowRuns</span></a></span><span> </span><span class="annot"><span class="annottext">GetWorkflowExecutionHistoryRequest
</span><a href="#local-6989586621680188594"><span class="hs-identifier hs-var">startingReq</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ConduitT HistoryEvent Void m (Maybe HistoryEvent)
forall (m :: * -&gt; *) a o. Monad m =&gt; ConduitT a o m (Maybe a)
</span><span class="hs-identifier hs-var">lastC</span></span><span>
</span><span id="line-868"></span><span>
</span><span id="line-869"></span><span class="hs-comment">-- listOpenWorkflowExecutions</span><span>
</span><span id="line-870"></span><span class="hs-comment">--   :: (MonadIO m, HasWorkflowClient m)</span><span>
</span><span id="line-871"></span><span class="hs-comment">--   =&gt; ListOpenWorkflowExecutionsRequest</span><span>
</span><span id="line-872"></span><span class="hs-comment">--   -&gt; ConduitT () WorkflowExecutionInfo m ()</span><span>
</span><span id="line-873"></span><span>
</span><span id="line-874"></span><span class="hs-comment">-- listClosedWorkflowExecutions</span><span>
</span><span id="line-875"></span><span class="hs-comment">--   :: (MonadIO m, HasWorkflowClient m)</span><span>
</span><span id="line-876"></span><span class="hs-comment">--   =&gt; ListClosedWorkflowExecutionsRequest</span><span>
</span><span id="line-877"></span><span class="hs-comment">--   -&gt; ConduitT () WorkflowExecutionInfo m ()</span><span>
</span><span id="line-878"></span><span>
</span><span id="line-879"></span><span class="hs-comment">-- scanWorkflowExecutions</span><span>
</span><span id="line-880"></span><span class="hs-comment">--   :: (MonadIO m, HasWorkflowClient m)</span><span>
</span><span id="line-881"></span><span class="hs-comment">--   =&gt; ScanWorkflowExecutionsRequest</span><span>
</span><span id="line-882"></span><span class="hs-comment">--   -&gt; ConduitT () WorkflowExecutionInfo m ()</span><span>
</span><span id="line-883"></span><span>
</span><span id="line-884"></span><span class="hs-comment">-- countWorkflowExecutions</span><span>
</span><span id="line-885"></span><span class="hs-comment">--   :: (MonadIO m, HasWorkflowClient m)</span><span>
</span><span id="line-886"></span><span class="hs-comment">--   =&gt; CountWorkflowExecutionsRequest</span><span>
</span><span id="line-887"></span><span class="hs-comment">--   -&gt; m Int64</span><span>
</span><span id="line-888"></span></pre></body></html>