<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DefaultSignatures #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DeriveLift #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE DerivingVia #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE PolyKinds #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE UndecidableSuperClasses #-}</span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-orphans #-}</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html"><span class="hs-identifier">Temporal.TH.Classes</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Kind</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fromMaybe</span></span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Typeable</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH.Syntax</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TH</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">RequireCallStack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">provideCallStack</span></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Temporal.Activity.html"><span class="hs-identifier">Temporal.Activity</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Temporal.Activity.Definition.html"><span class="hs-identifier">Temporal.Activity.Definition</span></a></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Temporal.Payload.html"><span class="hs-identifier">Temporal.Payload</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Temporal.Workflow.html"><span class="hs-identifier">Temporal.Workflow</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Temporal.Workflow.Definition.html"><span class="hs-identifier">Temporal.Workflow.Definition</span></a></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-keyword">class</span><span> </span><span id="Fn"><span class="annot"><a href="Temporal.TH.Classes.html#Fn"><span class="hs-identifier hs-var">Fn</span></a></span></span><span> </span><span id="local-6989586621680193939"><span class="annot"><a href="#local-6989586621680193939"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="FnType"><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-var">FnType</span></a></span></span><span> </span><span id="local-6989586621680193939"><span class="annot"><a href="#local-6989586621680193939"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-35"></span><span>  </span><span id="fnName"><span class="annot"><a href="Temporal.TH.Classes.html#fnName"><span class="hs-identifier hs-type">fnName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680193939"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text.Text</span></span><span>
</span><span id="line-36"></span><span>  </span><span id="fnDefinition"><span class="annot"><a href="Temporal.TH.Classes.html#fnDefinition"><span class="hs-identifier hs-type">fnDefinition</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680193939"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RequireCallStack</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193939"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span>  </span><span id="fnSing"><span class="annot"><a href="Temporal.TH.Classes.html#fnSing"><span class="hs-identifier hs-type">fnSing</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680193939"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span id="local-6989586621680193935"><span class="annot"><a href="Temporal.TH.Classes.html#fn"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#Fn"><span class="hs-identifier hs-type">Fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193935"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621680193935"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680193935"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-41"></span><span id="fn"><span class="annot"><span class="annottext">fn :: forall t. Fn t =&gt; Proxy t -&gt; t
</span><a href="Temporal.TH.Classes.html#fn"><span class="hs-identifier hs-var hs-var">fn</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy t
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
forall t. Fn t =&gt; t
</span><a href="Temporal.TH.Classes.html#fnSing"><span class="hs-identifier hs-var">fnSing</span></a></span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="hs-keyword">data</span><span> </span><span id="WorkflowConfig"><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowConfig"><span class="hs-identifier hs-var">WorkflowConfig</span></a></span></span><span> </span><span id="local-6989586621680193940"><span class="annot"><a href="#local-6989586621680193940"><span class="hs-identifier hs-type">codec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="WorkflowConfig"><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowConfig"><span class="hs-identifier hs-var">WorkflowConfig</span></a></span></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-comment">-- clientDefaultOptions :: Maybe StartWorkflowOptions</span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-comment">-- , childWorkflowDefaultOptions :: Maybe StartChildWorkflowOptions</span><span>
</span><span id="line-47"></span><span>    </span><span id="workflowConfigNameOverride"><span class="annot"><span class="annottext">forall codec. WorkflowConfig codec -&gt; Maybe Text
</span><a href="Temporal.TH.Classes.html#workflowConfigNameOverride"><span class="hs-identifier hs-var hs-var">workflowConfigNameOverride</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text.Text</span></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="workflowConfigAliases"><span class="annot"><span class="annottext">forall codec. WorkflowConfig codec -&gt; [Text]
</span><a href="Temporal.TH.Classes.html#workflowConfigAliases"><span class="hs-identifier hs-var hs-var">workflowConfigAliases</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Text.Text</span></span><span class="hs-special">]</span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- TODO, add support for custom metadata like alerting channels</span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-comment">-- , customMetadata :: _</span><span>
</span><span id="line-51"></span><span>    </span><span id="workflowConfigCodec"><span class="annot"><span class="annottext">forall codec. WorkflowConfig codec -&gt; codec
</span><a href="Temporal.TH.Classes.html#workflowConfigCodec"><span class="hs-identifier hs-var hs-var">workflowConfigCodec</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680193940"><span class="hs-identifier hs-type">codec</span></a></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680194070"><span id="local-6989586621680194080"><span id="local-6989586621680194084"><span class="annot"><span class="annottext">Int -&gt; WorkflowConfig codec -&gt; ShowS
[WorkflowConfig codec] -&gt; ShowS
WorkflowConfig codec -&gt; String
(Int -&gt; WorkflowConfig codec -&gt; ShowS)
-&gt; (WorkflowConfig codec -&gt; String)
-&gt; ([WorkflowConfig codec] -&gt; ShowS)
-&gt; Show (WorkflowConfig codec)
forall codec. Show codec =&gt; Int -&gt; WorkflowConfig codec -&gt; ShowS
forall codec. Show codec =&gt; [WorkflowConfig codec] -&gt; ShowS
forall codec. Show codec =&gt; WorkflowConfig codec -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall codec. Show codec =&gt; Int -&gt; WorkflowConfig codec -&gt; ShowS
showsPrec :: Int -&gt; WorkflowConfig codec -&gt; ShowS
$cshow :: forall codec. Show codec =&gt; WorkflowConfig codec -&gt; String
show :: WorkflowConfig codec -&gt; String
$cshowList :: forall codec. Show codec =&gt; [WorkflowConfig codec] -&gt; ShowS
showList :: [WorkflowConfig codec] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680194091"><span id="local-6989586621680194104"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; WorkflowConfig codec -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *).
    Quote m =&gt;
    WorkflowConfig codec -&gt; Code m (WorkflowConfig codec))
-&gt; Lift (WorkflowConfig codec)
forall codec (m :: * -&gt; *).
(Lift codec, Quote m) =&gt;
WorkflowConfig codec -&gt; m Exp
forall codec (m :: * -&gt; *).
(Lift codec, Quote m) =&gt;
WorkflowConfig codec -&gt; Code m (WorkflowConfig codec)
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; WorkflowConfig codec -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
WorkflowConfig codec -&gt; Code m (WorkflowConfig codec)
$clift :: forall codec (m :: * -&gt; *).
(Lift codec, Quote m) =&gt;
WorkflowConfig codec -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; WorkflowConfig codec -&gt; m Exp
$cliftTyped :: forall codec (m :: * -&gt; *).
(Lift codec, Quote m) =&gt;
WorkflowConfig codec -&gt; Code m (WorkflowConfig codec)
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
WorkflowConfig codec -&gt; Code m (WorkflowConfig codec)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">TH.Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#Fn"><span class="hs-identifier hs-type">Fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193962"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="WorkflowFn"><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowFn"><span class="hs-identifier hs-var">WorkflowFn</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680193962"><span class="annot"><a href="#local-6989586621680193962"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="WorkflowCodec"><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowCodec"><span class="hs-identifier hs-var">WorkflowCodec</span></a></span></span><span> </span><span id="local-6989586621680193962"><span class="annot"><a href="#local-6989586621680193962"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="WorkflowCodec"><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowCodec"><span class="hs-identifier hs-var">WorkflowCodec</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Temporal.Payload.html#JSON"><span class="hs-identifier hs-type">JSON</span></a></span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span>  </span><span id="workflowImpl"><span class="annot"><a href="Temporal.TH.Classes.html#workflowImpl"><span class="hs-identifier hs-type">workflowImpl</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">RequireCallStack</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680193962"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Workflow.Definition.html#ProvidedWorkflow"><span class="hs-identifier hs-type">ProvidedWorkflow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193962"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-keyword">default</span><span> </span><span id="workflowImpl"><span class="annot"><a href="Temporal.TH.Classes.html#workflowImpl"><span class="hs-identifier hs-type">workflowImpl</span></a></span></span><span>
</span><span id="line-63"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">RequireCallStack</span></span><span>
</span><span id="line-64"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193962"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Payload.html#ArgsOf"><span class="hs-identifier hs-type">ArgsOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193962"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Temporal.Payload.html#%3A-%3E%3A"><span class="hs-operator hs-type">:-&gt;:</span></a></span><span> </span><span class="annot"><a href="Temporal.Workflow.Internal.Monad.html#Workflow"><span class="hs-identifier hs-type">Workflow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Payload.html#ResultOf"><span class="hs-identifier hs-type">ResultOf</span></a></span><span> </span><span class="annot"><a href="Temporal.Workflow.Internal.Monad.html#Workflow"><span class="hs-identifier hs-type">Workflow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193962"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Payload.html#FunctionSupportsCodec"><span class="hs-identifier hs-type">FunctionSupportsCodec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowCodec"><span class="hs-identifier hs-type">WorkflowCodec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193962"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Payload.html#ArgsOf"><span class="hs-identifier hs-type">ArgsOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193962"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Payload.html#ResultOf"><span class="hs-identifier hs-type">ResultOf</span></a></span><span> </span><span class="annot"><a href="Temporal.Workflow.Internal.Monad.html#Workflow"><span class="hs-identifier hs-type">Workflow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193962"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span>       </span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680193962"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Workflow.Definition.html#ProvidedWorkflow"><span class="hs-identifier hs-type">ProvidedWorkflow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193962"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>  </span><span id="local-6989586621680194120"><span class="annot"><a href="Temporal.TH.Classes.html#workflowImpl"><span class="hs-identifier hs-var hs-var">workflowImpl</span></a></span><span> </span><span id="local-6989586621680194137"><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194137"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f
-&gt; WorkflowConfig (WorkflowCodec f) -&gt; ProvidedWorkflow (FnType f)
forall f codec.
(RequireCallStack, Fn f,
 FnType f
 ~ (ArgsOf (FnType f) :-&gt;: Workflow (ResultOf Workflow (FnType f))),
 FunctionSupportsCodec
   codec (ArgsOf (FnType f)) (ResultOf Workflow (FnType f))) =&gt;
f -&gt; WorkflowConfig codec -&gt; ProvidedWorkflow (FnType f)
</span><a href="Temporal.TH.Classes.html#workflowRefWithCodec"><span class="hs-identifier hs-var">workflowRefWithCodec</span></a></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194137"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f -&gt; WorkflowConfig (WorkflowCodec f)
forall f. WorkflowFn f =&gt; f -&gt; WorkflowConfig (WorkflowCodec f)
</span><a href="Temporal.TH.Classes.html#workflowConfig"><span class="hs-identifier hs-var">workflowConfig</span></a></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194137"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span>  </span><span id="workflowConfig"><span class="annot"><a href="Temporal.TH.Classes.html#workflowConfig"><span class="hs-identifier hs-type">workflowConfig</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680193962"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowConfig"><span class="hs-identifier hs-type">WorkflowConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowCodec"><span class="hs-identifier hs-type">WorkflowCodec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193962"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-keyword">default</span><span> </span><span id="workflowConfig"><span class="annot"><a href="Temporal.TH.Classes.html#workflowConfig"><span class="hs-identifier hs-type">workflowConfig</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowCodec"><span class="hs-identifier hs-type">WorkflowCodec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193962"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Temporal.Payload.html#JSON"><span class="hs-identifier hs-type">JSON</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680193962"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowConfig"><span class="hs-identifier hs-type">WorkflowConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowCodec"><span class="hs-identifier hs-type">WorkflowCodec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193962"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>  </span><span id="local-6989586621680194140"><span class="annot"><a href="Temporal.TH.Classes.html#workflowConfig"><span class="hs-identifier hs-var hs-var">workflowConfig</span></a></span><span> </span><span class="annot"><span class="annottext">f
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WorkflowConfig JSON
WorkflowConfig (WorkflowCodec f)
</span><a href="Temporal.TH.Classes.html#defaultWorkflowConfig"><span class="hs-identifier hs-var">defaultWorkflowConfig</span></a></span></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="hs-keyword">newtype</span><span> </span><span id="WorkflowImpl"><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowImpl"><span class="hs-identifier hs-var">WorkflowImpl</span></a></span></span><span> </span><span id="local-6989586621680194144"><span class="annot"><a href="#local-6989586621680194144"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="WorkflowImpl"><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowImpl"><span class="hs-identifier hs-var">WorkflowImpl</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680194144"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680193986"><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#Fn"><span class="hs-identifier hs-type">Fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193986"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowFn"><span class="hs-identifier hs-type">WorkflowFn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193986"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowDef"><span class="hs-identifier hs-type">WorkflowDef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowImpl"><span class="hs-identifier hs-type">WorkflowImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193986"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-81"></span><span>  </span><span id="local-6989586621680194151"><span class="annot"><span class="annottext">workflowDefinition :: WorkflowImpl f -&gt; WorkflowDefinition
</span><a href="#local-6989586621680194151"><span class="hs-identifier hs-var hs-var hs-var">workflowDefinition</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowImpl"><span class="hs-identifier hs-type">WorkflowImpl</span></a></span><span> </span><span id="local-6989586621680194153"><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194153"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RequireCallStackImpl =&gt; WorkflowDefinition) -&gt; WorkflowDefinition
forall r. (RequireCallStackImpl =&gt; r) -&gt; r
</span><span class="hs-identifier hs-var">provideCallStack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f -&gt; ProvidedWorkflow (FnType f)
forall f.
(WorkflowFn f, RequireCallStack) =&gt;
f -&gt; ProvidedWorkflow (FnType f)
</span><a href="Temporal.TH.Classes.html#workflowImpl"><span class="hs-identifier hs-var">Temporal.TH.Classes.workflowImpl</span></a></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194153"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span class="hs-identifier">definition</span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680193994"><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#Fn"><span class="hs-identifier hs-type">Fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193994"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowFn"><span class="hs-identifier hs-type">WorkflowFn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193994"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowRef"><span class="hs-identifier hs-type">WorkflowRef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowImpl"><span class="hs-identifier hs-type">WorkflowImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193994"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="WorkflowArgs"><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowArgs"><span class="hs-identifier hs-var">WorkflowArgs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowImpl"><span class="hs-identifier hs-type">WorkflowImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193994"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Temporal.Payload.html#ArgsOf"><span class="hs-identifier hs-type">ArgsOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193994"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="WorkflowResult"><span class="annot"><a href="Temporal.Workflow.Definition.html#WorkflowResult"><span class="hs-identifier hs-var">WorkflowResult</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowImpl"><span class="hs-identifier hs-type">WorkflowImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193994"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Temporal.Payload.html#ResultOf"><span class="hs-identifier hs-type">ResultOf</span></a></span><span> </span><span class="annot"><a href="Temporal.Workflow.Internal.Monad.html#Workflow"><span class="hs-identifier hs-type">Workflow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193994"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span>  </span><span id="local-6989586621680194165"><span class="annot"><span class="annottext">workflowRef :: WorkflowImpl f
-&gt; KnownWorkflow
     (WorkflowArgs (WorkflowImpl f)) (WorkflowResult (WorkflowImpl f))
</span><a href="#local-6989586621680194165"><span class="hs-identifier hs-var hs-var hs-var">workflowRef</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowImpl"><span class="hs-identifier hs-type">WorkflowImpl</span></a></span><span> </span><span id="local-6989586621680194167"><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194167"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RequireCallStackImpl =&gt;
 KnownWorkflow (ArgsOf (FnType f)) (ResultOf Workflow (FnType f)))
-&gt; KnownWorkflow (ArgsOf (FnType f)) (ResultOf Workflow (FnType f))
forall r. (RequireCallStackImpl =&gt; r) -&gt; r
</span><span class="hs-identifier hs-var">provideCallStack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f -&gt; ProvidedWorkflow (FnType f)
forall f.
(WorkflowFn f, RequireCallStack) =&gt;
f -&gt; ProvidedWorkflow (FnType f)
</span><a href="Temporal.TH.Classes.html#workflowImpl"><span class="hs-identifier hs-var">Temporal.TH.Classes.workflowImpl</span></a></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194167"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span class="hs-identifier">reference</span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="annot"><a href="Temporal.TH.Classes.html#defaultWorkflowConfig"><span class="hs-identifier hs-type">defaultWorkflowConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowConfig"><span class="hs-identifier hs-type">WorkflowConfig</span></a></span><span> </span><span class="annot"><a href="Temporal.Payload.html#JSON"><span class="hs-identifier hs-type">JSON</span></a></span><span>
</span><span id="line-91"></span><span id="defaultWorkflowConfig"><span class="annot"><span class="annottext">defaultWorkflowConfig :: WorkflowConfig JSON
</span><a href="Temporal.TH.Classes.html#defaultWorkflowConfig"><span class="hs-identifier hs-var hs-var">defaultWorkflowConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; [Text] -&gt; JSON -&gt; WorkflowConfig JSON
forall codec. Maybe Text -&gt; [Text] -&gt; codec -&gt; WorkflowConfig codec
</span><a href="Temporal.TH.Classes.html#WorkflowConfig"><span class="hs-identifier hs-var">WorkflowConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">JSON
</span><a href="Temporal.Payload.html#JSON"><span class="hs-identifier hs-var">JSON</span></a></span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span id="local-6989586621680193978"><span id="local-6989586621680193979"><span class="annot"><a href="Temporal.TH.Classes.html#workflowRefWithCodec"><span class="hs-identifier hs-type">workflowRefWithCodec</span></a></span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">RequireCallStack</span></span><span>
</span><span id="line-96"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#Fn"><span class="hs-identifier hs-type">Fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193978"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-97"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193978"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Payload.html#ArgsOf"><span class="hs-identifier hs-type">ArgsOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193978"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Temporal.Payload.html#%3A-%3E%3A"><span class="hs-operator hs-type">:-&gt;:</span></a></span><span> </span><span class="annot"><a href="Temporal.Workflow.Internal.Monad.html#Workflow"><span class="hs-identifier hs-type">Workflow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Payload.html#ResultOf"><span class="hs-identifier hs-type">ResultOf</span></a></span><span> </span><span class="annot"><a href="Temporal.Workflow.Internal.Monad.html#Workflow"><span class="hs-identifier hs-type">Workflow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193978"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Payload.html#FunctionSupportsCodec"><span class="hs-identifier hs-type">FunctionSupportsCodec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193979"><span class="hs-identifier hs-type">codec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Payload.html#ArgsOf"><span class="hs-identifier hs-type">ArgsOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193978"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Payload.html#ResultOf"><span class="hs-identifier hs-type">ResultOf</span></a></span><span> </span><span class="annot"><a href="Temporal.Workflow.Internal.Monad.html#Workflow"><span class="hs-identifier hs-type">Workflow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193978"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span>     </span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680193978"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#WorkflowConfig"><span class="hs-identifier hs-type">WorkflowConfig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193979"><span class="hs-identifier hs-type">codec</span></a></span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Workflow.Definition.html#ProvidedWorkflow"><span class="hs-identifier hs-type">ProvidedWorkflow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680193978"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-103"></span><span id="workflowRefWithCodec"><span class="annot"><span class="annottext">workflowRefWithCodec :: forall f codec.
(RequireCallStack, Fn f,
 FnType f
 ~ (ArgsOf (FnType f) :-&gt;: Workflow (ResultOf Workflow (FnType f))),
 FunctionSupportsCodec
   codec (ArgsOf (FnType f)) (ResultOf Workflow (FnType f))) =&gt;
f -&gt; WorkflowConfig codec -&gt; ProvidedWorkflow (FnType f)
</span><a href="Temporal.TH.Classes.html#workflowRefWithCodec"><span class="hs-identifier hs-var hs-var">workflowRefWithCodec</span></a></span></span><span> </span><span id="local-6989586621680194197"><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194197"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621680194198"><span class="annot"><span class="annottext">WorkflowConfig codec
</span><a href="#local-6989586621680194198"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">codec
-&gt; Text
-&gt; (RequireCallStackImpl =&gt; FnType f)
-&gt; ProvidedWorkflow (FnType f)
forall codec f.
(f ~ (ArgsOf f :-&gt;: Workflow (ResultOf Workflow f)),
 FunctionSupportsCodec codec (ArgsOf f) (ResultOf Workflow f)) =&gt;
codec -&gt; Text -&gt; (RequireCallStackImpl =&gt; f) -&gt; ProvidedWorkflow f
</span><a href="Temporal.Workflow.Definition.html#provideWorkflow"><span class="hs-identifier hs-var">provideWorkflow</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowConfig codec
</span><a href="#local-6989586621680194198"><span class="hs-identifier hs-var">conf</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">workflowConfigCodec</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Maybe Text -&gt; Text
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f -&gt; Text
forall t. Fn t =&gt; t -&gt; Text
</span><a href="Temporal.TH.Classes.html#fnName"><span class="hs-identifier hs-var">fnName</span></a></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194197"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe Text -&gt; Text) -&gt; Maybe Text -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WorkflowConfig codec -&gt; Maybe Text
forall codec. WorkflowConfig codec -&gt; Maybe Text
</span><a href="Temporal.TH.Classes.html#workflowConfigNameOverride"><span class="hs-identifier hs-var">workflowConfigNameOverride</span></a></span><span> </span><span class="annot"><span class="annottext">WorkflowConfig codec
</span><a href="#local-6989586621680194198"><span class="hs-identifier hs-var">conf</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((RequireCallStackImpl =&gt; FnType f) -&gt; ProvidedWorkflow (FnType f))
-&gt; (RequireCallStackImpl =&gt; FnType f)
-&gt; ProvidedWorkflow (FnType f)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">f -&gt; RequireCallStack =&gt; FnType f
forall t. Fn t =&gt; t -&gt; RequireCallStack =&gt; FnType t
</span><a href="Temporal.TH.Classes.html#fnDefinition"><span class="hs-identifier hs-var">fnDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194197"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="hs-keyword">data</span><span> </span><span id="ActivityConfig"><span class="annot"><a href="Temporal.TH.Classes.html#ActivityConfig"><span class="hs-identifier hs-var">ActivityConfig</span></a></span></span><span> </span><span id="local-6989586621680194010"><span class="annot"><a href="#local-6989586621680194010"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ActivityConfig"><span class="annot"><a href="Temporal.TH.Classes.html#ActivityConfig"><span class="hs-identifier hs-var">ActivityConfig</span></a></span></span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="activityConfigNameOverride"><span class="annot"><span class="annottext">forall c. ActivityConfig c -&gt; Maybe Text
</span><a href="Temporal.TH.Classes.html#activityConfigNameOverride"><span class="hs-identifier hs-var hs-var">activityConfigNameOverride</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text.Text</span></span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- TODO, add support for custom metadata like alerting channels</span><span>
</span><span id="line-109"></span><span>    </span><span class="hs-comment">-- , customMetadata :: _</span><span>
</span><span id="line-110"></span><span>    </span><span id="activityConfigAliases"><span class="annot"><span class="annottext">forall c. ActivityConfig c -&gt; [Text]
</span><a href="Temporal.TH.Classes.html#activityConfigAliases"><span class="hs-identifier hs-var hs-var">activityConfigAliases</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Text.Text</span></span><span class="hs-special">]</span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="activityConfigCodec"><span class="annot"><span class="annottext">forall c. ActivityConfig c -&gt; c
</span><a href="Temporal.TH.Classes.html#activityConfigCodec"><span class="hs-identifier hs-var hs-var">activityConfigCodec</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680194010"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680194211"><span id="local-6989586621680194222"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; ActivityConfig c -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *).
    Quote m =&gt;
    ActivityConfig c -&gt; Code m (ActivityConfig c))
-&gt; Lift (ActivityConfig c)
forall c (m :: * -&gt; *).
(Lift c, Quote m) =&gt;
ActivityConfig c -&gt; m Exp
forall c (m :: * -&gt; *).
(Lift c, Quote m) =&gt;
ActivityConfig c -&gt; Code m (ActivityConfig c)
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; ActivityConfig c -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
ActivityConfig c -&gt; Code m (ActivityConfig c)
$clift :: forall c (m :: * -&gt; *).
(Lift c, Quote m) =&gt;
ActivityConfig c -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; ActivityConfig c -&gt; m Exp
$cliftTyped :: forall c (m :: * -&gt; *).
(Lift c, Quote m) =&gt;
ActivityConfig c -&gt; Code m (ActivityConfig c)
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
ActivityConfig c -&gt; Code m (ActivityConfig c)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">TH.Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="annot"><a href="Temporal.TH.Classes.html#defaultActivityConfig"><span class="hs-identifier hs-type">defaultActivityConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#ActivityConfig"><span class="hs-identifier hs-type">ActivityConfig</span></a></span><span> </span><span class="annot"><a href="Temporal.Payload.html#JSON"><span class="hs-identifier hs-type">JSON</span></a></span><span>
</span><span id="line-117"></span><span id="defaultActivityConfig"><span class="annot"><span class="annottext">defaultActivityConfig :: ActivityConfig JSON
</span><a href="Temporal.TH.Classes.html#defaultActivityConfig"><span class="hs-identifier hs-var hs-var">defaultActivityConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; [Text] -&gt; JSON -&gt; ActivityConfig JSON
forall c. Maybe Text -&gt; [Text] -&gt; c -&gt; ActivityConfig c
</span><a href="Temporal.TH.Classes.html#ActivityConfig"><span class="hs-identifier hs-var">ActivityConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">JSON
</span><a href="Temporal.Payload.html#JSON"><span class="hs-identifier hs-var">JSON</span></a></span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FnActivityEnv"><span class="annot"><a href="Temporal.TH.Classes.html#FnActivityEnv"><span class="hs-identifier hs-var">FnActivityEnv</span></a></span></span><span> </span><span id="local-6989586621680194234"><span class="annot"><a href="#local-6989586621680194234"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-121"></span><span>  </span><span id="FnActivityEnv"><span class="annot"><a href="Temporal.TH.Classes.html#FnActivityEnv"><span class="hs-identifier hs-var">FnActivityEnv</span></a></span></span><span> </span><span id="local-6989586621680194235"><span id="local-6989586621680194236"><span class="hs-special">(</span><span class="annot"><a href="Temporal.Activity.Definition.html#Activity"><span class="hs-identifier hs-type">Activity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194235"><span class="hs-identifier hs-type">env</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194236"><span class="hs-identifier hs-type">_a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621680194235"><span class="hs-identifier hs-type">env</span></a></span><span>
</span><span id="line-122"></span><span>  </span><span id="FnActivityEnv"><span class="annot"><a href="Temporal.TH.Classes.html#FnActivityEnv"><span class="hs-identifier hs-var">FnActivityEnv</span></a></span></span><span> </span><span id="local-6989586621680194237"><span id="local-6989586621680194238"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Activity.Definition.html#Activity"><span class="hs-identifier hs-type">Activity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194237"><span class="hs-identifier hs-type">env</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194238"><span class="hs-identifier hs-type">_a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621680194237"><span class="hs-identifier hs-type">env</span></a></span><span>
</span><span id="line-123"></span><span>  </span><span id="FnActivityEnv"><span class="annot"><a href="Temporal.TH.Classes.html#FnActivityEnv"><span class="hs-identifier hs-var">FnActivityEnv</span></a></span></span><span> </span><span id="local-6989586621680194239"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680194239"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#FnActivityEnv"><span class="hs-identifier hs-type">FnActivityEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194239"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#Fn"><span class="hs-identifier hs-type">Fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnActivityEnv"><span class="hs-identifier hs-type">FnActivityEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="ActivityFn"><span class="annot"><a href="Temporal.TH.Classes.html#ActivityFn"><span class="hs-identifier hs-var">ActivityFn</span></a></span></span><span> </span><span id="local-6989586621680194019"><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ActivityCodec"><span class="annot"><a href="Temporal.TH.Classes.html#ActivityCodec"><span class="hs-identifier hs-var">ActivityCodec</span></a></span></span><span> </span><span id="local-6989586621680194019"><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ActivityCodec"><span class="annot"><a href="Temporal.TH.Classes.html#ActivityCodec"><span class="hs-identifier hs-var">ActivityCodec</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Temporal.Payload.html#JSON"><span class="hs-identifier hs-type">JSON</span></a></span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span>  </span><span id="activityEnvType"><span class="annot"><a href="Temporal.TH.Classes.html#activityEnvType"><span class="hs-identifier hs-type">activityEnvType</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeRep</span></span><span>
</span><span id="line-132"></span><span>  </span><span id="local-6989586621680194244"><span class="annot"><a href="Temporal.TH.Classes.html#activityEnvType"><span class="hs-identifier hs-var hs-var">activityEnvType</span></a></span><span> </span><span class="annot"><span class="annottext">f
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy (FnActivityEnv (FnType f)) -&gt; TypeRep
forall {k} (proxy :: k -&gt; *) (a :: k).
Typeable a =&gt;
proxy a -&gt; TypeRep
</span><span class="hs-identifier hs-var">typeRep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (FnActivityEnv (FnType f))
forall {k} (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnActivityEnv"><span class="hs-identifier hs-type">FnActivityEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span>  </span><span id="activityImpl"><span class="annot"><a href="Temporal.TH.Classes.html#activityImpl"><span class="hs-identifier hs-type">activityImpl</span></a></span></span><span>
</span><span id="line-136"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">RequireCallStack</span></span><span>
</span><span id="line-137"></span><span>       </span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-139"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Activity.Definition.html#ProvidedActivity"><span class="hs-identifier hs-type">ProvidedActivity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnActivityEnv"><span class="hs-identifier hs-type">FnActivityEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-keyword">default</span><span> </span><span id="activityImpl"><span class="annot"><a href="Temporal.TH.Classes.html#activityImpl"><span class="hs-identifier hs-type">activityImpl</span></a></span></span><span>
</span><span id="line-141"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621680194028"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">RequireCallStack</span></span><span>
</span><span id="line-142"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680194028"><span class="hs-identifier hs-type">env</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#FnActivityEnv"><span class="hs-identifier hs-type">FnActivityEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Payload.html#ArgsOf"><span class="hs-identifier hs-type">ArgsOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Temporal.Payload.html#%3A-%3E%3A"><span class="hs-operator hs-type">:-&gt;:</span></a></span><span> </span><span class="annot"><a href="Temporal.Activity.Definition.html#Activity"><span class="hs-identifier hs-type">Activity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194028"><span class="hs-identifier hs-type">env</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Payload.html#ResultOf"><span class="hs-identifier hs-type">ResultOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Activity.Definition.html#Activity"><span class="hs-identifier hs-type">Activity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194028"><span class="hs-identifier hs-type">env</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Payload.html#FunctionSupportsCodec"><span class="hs-identifier hs-type">FunctionSupportsCodec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#ActivityCodec"><span class="hs-identifier hs-type">ActivityCodec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Payload.html#ArgsOf"><span class="hs-identifier hs-type">ArgsOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Payload.html#ResultOf"><span class="hs-identifier hs-type">ResultOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Activity.Definition.html#Activity"><span class="hs-identifier hs-type">Activity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194028"><span class="hs-identifier hs-type">env</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>       </span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-147"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Activity.Definition.html#ProvidedActivity"><span class="hs-identifier hs-type">ProvidedActivity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnActivityEnv"><span class="hs-identifier hs-type">FnActivityEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-148"></span><span>  </span><span id="local-6989586621680194250"><span class="annot"><a href="Temporal.TH.Classes.html#activityImpl"><span class="hs-identifier hs-var hs-var">activityImpl</span></a></span><span> </span><span id="local-6989586621680194271"><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194271"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f -&gt; ActivityCodec f -&gt; ProvidedActivity env (FnType f)
forall f env codec.
(RequireCallStack, ActivityFn f, env ~ FnActivityEnv (FnType f),
 FnType f
 ~ (ArgsOf (FnType f)
    :-&gt;: Activity env (ResultOf (Activity env) (FnType f))),
 FunctionSupportsCodec
   codec (ArgsOf (FnType f)) (ResultOf (Activity env) (FnType f))) =&gt;
f -&gt; codec -&gt; ProvidedActivity env (FnType f)
</span><a href="Temporal.TH.Classes.html#activityRefWithCodec"><span class="hs-identifier hs-var">activityRefWithCodec</span></a></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194271"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ActivityConfig (ActivityCodec f) -&gt; ActivityCodec f
forall c. ActivityConfig c -&gt; c
</span><a href="Temporal.TH.Classes.html#activityConfigCodec"><span class="hs-identifier hs-var">activityConfigCodec</span></a></span><span> </span><span class="annot"><span class="annottext">(ActivityConfig (ActivityCodec f) -&gt; ActivityCodec f)
-&gt; ActivityConfig (ActivityCodec f) -&gt; ActivityCodec f
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">f -&gt; ActivityConfig (ActivityCodec f)
forall f. ActivityFn f =&gt; f -&gt; ActivityConfig (ActivityCodec f)
</span><a href="Temporal.TH.Classes.html#activityConfig"><span class="hs-identifier hs-var">activityConfig</span></a></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194271"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span>  </span><span id="activityConfig"><span class="annot"><a href="Temporal.TH.Classes.html#activityConfig"><span class="hs-identifier hs-type">activityConfig</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#ActivityConfig"><span class="hs-identifier hs-type">ActivityConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#ActivityCodec"><span class="hs-identifier hs-type">ActivityCodec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span>  </span><span class="hs-keyword">default</span><span> </span><span id="activityConfig"><span class="annot"><a href="Temporal.TH.Classes.html#activityConfig"><span class="hs-identifier hs-type">activityConfig</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#ActivityCodec"><span class="hs-identifier hs-type">ActivityCodec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Temporal.Payload.html#JSON"><span class="hs-identifier hs-type">JSON</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#ActivityConfig"><span class="hs-identifier hs-type">ActivityConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#ActivityCodec"><span class="hs-identifier hs-type">ActivityCodec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194019"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span>  </span><span id="local-6989586621680194274"><span class="annot"><a href="Temporal.TH.Classes.html#activityConfig"><span class="hs-identifier hs-var hs-var">activityConfig</span></a></span><span> </span><span class="annot"><span class="annottext">f
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ActivityConfig JSON
ActivityConfig (ActivityCodec f)
</span><a href="Temporal.TH.Classes.html#defaultActivityConfig"><span class="hs-identifier hs-var">defaultActivityConfig</span></a></span></span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span class="hs-keyword">newtype</span><span> </span><span id="ActivityImpl"><span class="annot"><a href="Temporal.TH.Classes.html#ActivityImpl"><span class="hs-identifier hs-var">ActivityImpl</span></a></span></span><span> </span><span id="local-6989586621680194277"><span class="annot"><a href="#local-6989586621680194277"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ActivityImpl"><span class="annot"><a href="Temporal.TH.Classes.html#ActivityImpl"><span class="hs-identifier hs-var">ActivityImpl</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680194277"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680194042"><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#Fn"><span class="hs-identifier hs-type">Fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194042"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#ActivityFn"><span class="hs-identifier hs-type">ActivityFn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194042"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Activity.Definition.html#ActivityDef"><span class="hs-identifier hs-type">ActivityDef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#ActivityImpl"><span class="hs-identifier hs-type">ActivityImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194042"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ActivityDefinitionEnv"><span class="annot"><a href="Temporal.Activity.Definition.html#ActivityDefinitionEnv"><span class="hs-identifier hs-var">ActivityDefinitionEnv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#ActivityImpl"><span class="hs-identifier hs-type">ActivityImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194042"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#FnActivityEnv"><span class="hs-identifier hs-type">FnActivityEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194042"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span>  </span><span id="local-6989586621680194284"><span class="annot"><span class="annottext">activityDefinition :: ActivityImpl f
-&gt; ActivityDefinition (ActivityDefinitionEnv (ActivityImpl f))
</span><a href="#local-6989586621680194284"><span class="hs-identifier hs-var hs-var hs-var">activityDefinition</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#ActivityImpl"><span class="hs-identifier hs-type">ActivityImpl</span></a></span><span> </span><span id="local-6989586621680194286"><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194286"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RequireCallStackImpl =&gt;
 ActivityDefinition (FnActivityEnv (FnType f)))
-&gt; ActivityDefinition (FnActivityEnv (FnType f))
forall r. (RequireCallStackImpl =&gt; r) -&gt; r
</span><span class="hs-identifier hs-var">provideCallStack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f -&gt; ProvidedActivity (FnActivityEnv (FnType f)) (FnType f)
forall f.
(ActivityFn f, RequireCallStack) =&gt;
f -&gt; ProvidedActivity (FnActivityEnv (FnType f)) (FnType f)
</span><a href="Temporal.TH.Classes.html#activityImpl"><span class="hs-identifier hs-var">Temporal.TH.Classes.activityImpl</span></a></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194286"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span class="hs-identifier">definition</span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680194049"><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#Fn"><span class="hs-identifier hs-type">Fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194049"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#ActivityFn"><span class="hs-identifier hs-type">ActivityFn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194049"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Temporal.Activity.Definition.html#ActivityRef"><span class="hs-identifier hs-type">ActivityRef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#ActivityImpl"><span class="hs-identifier hs-type">ActivityImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194049"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ActivityArgs"><span class="annot"><a href="Temporal.Activity.Definition.html#ActivityArgs"><span class="hs-identifier hs-var">ActivityArgs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#ActivityImpl"><span class="hs-identifier hs-type">ActivityImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194049"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Temporal.Payload.html#ArgsOf"><span class="hs-identifier hs-type">ArgsOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194049"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ActivityResult"><span class="annot"><a href="Temporal.Activity.Definition.html#ActivityResult"><span class="hs-identifier hs-var">ActivityResult</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#ActivityImpl"><span class="hs-identifier hs-type">ActivityImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194049"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Temporal.Payload.html#ResultOf"><span class="hs-identifier hs-type">ResultOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Activity.Definition.html#Activity"><span class="hs-identifier hs-type">Activity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnActivityEnv"><span class="hs-identifier hs-type">FnActivityEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194049"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194049"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>  </span><span id="local-6989586621680194298"><span class="annot"><span class="annottext">activityRef :: ActivityImpl f
-&gt; KnownActivity
     (ActivityArgs (ActivityImpl f)) (ActivityResult (ActivityImpl f))
</span><a href="#local-6989586621680194298"><span class="hs-identifier hs-var hs-var hs-var">activityRef</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#ActivityImpl"><span class="hs-identifier hs-type">ActivityImpl</span></a></span><span> </span><span id="local-6989586621680194300"><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194300"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RequireCallStackImpl =&gt;
 KnownActivity
   (ArgsOf (FnType f))
   (ResultOf (Activity (FnActivityEnv (FnType f))) (FnType f)))
-&gt; KnownActivity
     (ArgsOf (FnType f))
     (ResultOf (Activity (FnActivityEnv (FnType f))) (FnType f))
forall r. (RequireCallStackImpl =&gt; r) -&gt; r
</span><span class="hs-identifier hs-var">provideCallStack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f -&gt; ProvidedActivity (FnActivityEnv (FnType f)) (FnType f)
forall f.
(ActivityFn f, RequireCallStack) =&gt;
f -&gt; ProvidedActivity (FnActivityEnv (FnType f)) (FnType f)
</span><a href="Temporal.TH.Classes.html#activityImpl"><span class="hs-identifier hs-var">Temporal.TH.Classes.activityImpl</span></a></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194300"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span class="hs-identifier">reference</span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span id="local-6989586621680194033"><span id="local-6989586621680194034"><span id="local-6989586621680194035"><span class="annot"><a href="Temporal.TH.Classes.html#activityRefWithCodec"><span class="hs-identifier hs-type">activityRefWithCodec</span></a></span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">RequireCallStack</span></span><span>
</span><span id="line-172"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#ActivityFn"><span class="hs-identifier hs-type">ActivityFn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194033"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-173"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680194034"><span class="hs-identifier hs-type">env</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#FnActivityEnv"><span class="hs-identifier hs-type">FnActivityEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194033"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194033"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Payload.html#ArgsOf"><span class="hs-identifier hs-type">ArgsOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194033"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Temporal.Payload.html#%3A-%3E%3A"><span class="hs-operator hs-type">:-&gt;:</span></a></span><span> </span><span class="annot"><a href="Temporal.Activity.Definition.html#Activity"><span class="hs-identifier hs-type">Activity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194034"><span class="hs-identifier hs-type">env</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Payload.html#ResultOf"><span class="hs-identifier hs-type">ResultOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Activity.Definition.html#Activity"><span class="hs-identifier hs-type">Activity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194034"><span class="hs-identifier hs-type">env</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194033"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Temporal.Payload.html#FunctionSupportsCodec"><span class="hs-identifier hs-type">FunctionSupportsCodec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194035"><span class="hs-identifier hs-type">codec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Payload.html#ArgsOf"><span class="hs-identifier hs-type">ArgsOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194033"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Payload.html#ResultOf"><span class="hs-identifier hs-type">ResultOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.Activity.Definition.html#Activity"><span class="hs-identifier hs-type">Activity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194034"><span class="hs-identifier hs-type">env</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194033"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>     </span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680194033"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-178"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680194035"><span class="hs-identifier hs-type">codec</span></a></span><span>
</span><span id="line-179"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Temporal.Activity.Definition.html#ProvidedActivity"><span class="hs-identifier hs-type">ProvidedActivity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194034"><span class="hs-identifier hs-type">env</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Temporal.TH.Classes.html#FnType"><span class="hs-identifier hs-type">FnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680194033"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-180"></span><span id="activityRefWithCodec"><span class="annot"><span class="annottext">activityRefWithCodec :: forall f env codec.
(RequireCallStack, ActivityFn f, env ~ FnActivityEnv (FnType f),
 FnType f
 ~ (ArgsOf (FnType f)
    :-&gt;: Activity env (ResultOf (Activity env) (FnType f))),
 FunctionSupportsCodec
   codec (ArgsOf (FnType f)) (ResultOf (Activity env) (FnType f))) =&gt;
f -&gt; codec -&gt; ProvidedActivity env (FnType f)
</span><a href="Temporal.TH.Classes.html#activityRefWithCodec"><span class="hs-identifier hs-var hs-var">activityRefWithCodec</span></a></span></span><span> </span><span id="local-6989586621680194325"><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194325"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621680194326"><span class="annot"><span class="annottext">codec
</span><a href="#local-6989586621680194326"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-181"></span><span>  </span><span class="annot"><span class="annottext">codec -&gt; Text -&gt; FnType f -&gt; ProvidedActivity env (FnType f)
forall codec env f.
(f ~ (ArgsOf f :-&gt;: Activity env (ResultOf (Activity env) f)),
 FunctionSupportsCodec
   codec (ArgsOf f) (ResultOf (Activity env) f)) =&gt;
codec -&gt; Text -&gt; f -&gt; ProvidedActivity env f
</span><a href="Temporal.Activity.html#provideActivity"><span class="hs-identifier hs-var">provideActivity</span></a></span><span>
</span><span id="line-182"></span><span>    </span><span class="annot"><span class="annottext">codec
</span><a href="#local-6989586621680194326"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-183"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Maybe Text -&gt; Text
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f -&gt; Text
forall t. Fn t =&gt; t -&gt; Text
</span><a href="Temporal.TH.Classes.html#fnName"><span class="hs-identifier hs-var">fnName</span></a></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194325"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ActivityConfig (ActivityCodec f) -&gt; Maybe Text
forall c. ActivityConfig c -&gt; Maybe Text
</span><a href="Temporal.TH.Classes.html#activityConfigNameOverride"><span class="hs-identifier hs-var">activityConfigNameOverride</span></a></span><span> </span><span class="annot"><span class="annottext">(ActivityConfig (ActivityCodec f) -&gt; Maybe Text)
-&gt; ActivityConfig (ActivityCodec f) -&gt; Maybe Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">f -&gt; ActivityConfig (ActivityCodec f)
forall f. ActivityFn f =&gt; f -&gt; ActivityConfig (ActivityCodec f)
</span><a href="Temporal.TH.Classes.html#activityConfig"><span class="hs-identifier hs-var">activityConfig</span></a></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194325"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f -&gt; RequireCallStack =&gt; FnType f
forall t. Fn t =&gt; t -&gt; RequireCallStack =&gt; FnType t
</span><a href="Temporal.TH.Classes.html#fnDefinition"><span class="hs-identifier hs-var">fnDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680194325"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span></pre></body></html>